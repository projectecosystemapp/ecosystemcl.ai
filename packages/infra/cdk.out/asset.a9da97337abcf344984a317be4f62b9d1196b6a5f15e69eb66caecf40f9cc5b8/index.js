"use strict";var HX=Object.create;var Yn=Object.defineProperty;var KX=Object.getOwnPropertyDescriptor;var zX=Object.getOwnPropertyNames;var jX=Object.getPrototypeOf,VX=Object.prototype.hasOwnProperty;var o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),XX=(e,t)=>{for(var r in t)Yn(e,r,{get:t[r],enumerable:!0})},PR=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of zX(t))!VX.call(e,n)&&n!==r&&Yn(e,n,{get:()=>t[n],enumerable:!(s=KX(t,n))||s.enumerable});return e};var xr=(e,t,r)=>(r=e!=null?HX(jX(e)):{},PR(t||!e||!e.__esModule?Yn(r,"default",{value:e,enumerable:!0}):r,e)),WX=e=>PR(Yn({},"__esModule",{value:!0}),e);var li=o((C0e,qR)=>{var $t=1e3,Jt=$t*60,Qt=Jt*60,Ot=Qt*24,ZX=Ot*7,$X=Ot*365.25;qR.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return JX(e);if(r==="number"&&isFinite(e))return t.long?kX(e):QX(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function JX(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*$X;case"weeks":case"week":case"w":return r*ZX;case"days":case"day":case"d":return r*Ot;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Jt;case"seconds":case"second":case"secs":case"sec":case"s":return r*$t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function QX(e){var t=Math.abs(e);return t>=Ot?Math.round(e/Ot)+"d":t>=Qt?Math.round(e/Qt)+"h":t>=Jt?Math.round(e/Jt)+"m":t>=$t?Math.round(e/$t)+"s":e+"ms"}function kX(e){var t=Math.abs(e);return t>=Ot?Hn(e,t,Ot,"day"):t>=Qt?Hn(e,t,Qt,"hour"):t>=Jt?Hn(e,t,Jt,"minute"):t>=$t?Hn(e,t,$t,"second"):e+" ms"}function Hn(e,t,r,s){var n=t>=r*1.5;return Math.round(e/r)+" "+s+(n?"s":"")}});var ci=o((D0e,OR)=>{function eW(e){r.debug=r,r.default=r,r.coerce=d,r.disable=i,r.enable=n,r.enabled=a,r.humanize=li(),r.destroy=h,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let _=0;for(let p=0;p<f.length;p++)_=(_<<5)-_+f.charCodeAt(p),_|=0;return r.colors[Math.abs(_)%r.colors.length]}r.selectColor=t;function r(f){let _,p=null,E,x;function P(...C){if(!P.enabled)return;let g=P,S=Number(new Date),q=S-(_||S);g.diff=q,g.prev=_,g.curr=S,_=S,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let I=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(m,R)=>{if(m==="%%")return"%";I++;let w=r.formatters[R];if(typeof w=="function"){let N=C[I];m=w.call(g,N),C.splice(I,1),I--}return m}),r.formatArgs.call(g,C),(g.log||r.log).apply(g,C)}return P.namespace=f,P.useColors=r.useColors(),P.color=r.selectColor(f),P.extend=s,P.destroy=r.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(E!==r.namespaces&&(E=r.namespaces,x=r.enabled(f)),x),set:C=>{p=C}}),typeof r.init=="function"&&r.init(P),P}function s(f,_){let p=r(this.namespace+(typeof _>"u"?":":_)+f);return p.log=this.log,p}function n(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let _=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of _)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p)}function u(f,_){let p=0,E=0,x=-1,P=0;for(;p<f.length;)if(E<_.length&&(_[E]===f[p]||_[E]==="*"))_[E]==="*"?(x=E,P=p,E++):(p++,E++);else if(x!==-1)E=x+1,P++,p=P;else return!1;for(;E<_.length&&_[E]==="*";)E++;return E===_.length}function i(){let f=[...r.names,...r.skips.map(_=>"-"+_)].join(",");return r.enable(""),f}function a(f){for(let _ of r.skips)if(u(f,_))return!1;for(let _ of r.names)if(u(f,_))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}OR.exports=eW});var MR=o((_e,Kn)=>{_e.formatArgs=rW;_e.save=sW;_e.load=nW;_e.useColors=tW;_e.storage=uW();_e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();_e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tW(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rW(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Kn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,s=0;e[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(s=r))}),e.splice(s,0,t)}_e.log=console.debug||console.log||(()=>{});function sW(e){try{e?_e.storage.setItem("debug",e):_e.storage.removeItem("debug")}catch{}}function nW(){let e;try{e=_e.storage.getItem("debug")||_e.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function uW(){try{return localStorage}catch{}}Kn.exports=ci()(_e);var{formatters:iW}=Kn.exports;iW.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var NR=o((T0e,IR)=>{"use strict";IR.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(r+e),n=t.indexOf("--");return s!==-1&&(n===-1||s<n)}});var vR=o((P0e,FR)=>{"use strict";var oW=require("os"),LR=require("tty"),Se=NR(),{env:ne}=process,At;Se("no-color")||Se("no-colors")||Se("color=false")||Se("color=never")?At=0:(Se("color")||Se("colors")||Se("color=true")||Se("color=always"))&&(At=1);"FORCE_COLOR"in ne&&(ne.FORCE_COLOR==="true"?At=1:ne.FORCE_COLOR==="false"?At=0:At=ne.FORCE_COLOR.length===0?1:Math.min(parseInt(ne.FORCE_COLOR,10),3));function hi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function fi(e,t){if(At===0)return 0;if(Se("color=16m")||Se("color=full")||Se("color=truecolor"))return 3;if(Se("color=256"))return 2;if(e&&!t&&At===void 0)return 0;let r=At||0;if(ne.TERM==="dumb")return r;if(process.platform==="win32"){let s=oW.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in ne)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in ne)||ne.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ne)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ne.TEAMCITY_VERSION)?1:0;if(ne.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ne){let s=parseInt((ne.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ne.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ne.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ne.TERM)||"COLORTERM"in ne?1:r}function aW(e){let t=fi(e,e&&e.isTTY);return hi(t)}FR.exports={supportsColor:aW,stdout:hi(fi(!0,LR.isatty(1))),stderr:hi(fi(!0,LR.isatty(2)))}});var xR=o((ue,jn)=>{var dW=require("tty"),zn=require("util");ue.init=pW;ue.log=fW;ue.formatArgs=cW;ue.save=_W;ue.load=mW;ue.useColors=lW;ue.destroy=zn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ue.colors=[6,2,3,4,5,1];try{let e=vR();e&&(e.stderr||e).level>=2&&(ue.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ue.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,u)=>u.toUpperCase()),s=process.env[t];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),e[r]=s,e},{});function lW(){return"colors"in ue.inspectOpts?!!ue.inspectOpts.colors:dW.isatty(process.stderr.fd)}function cW(e){let{namespace:t,useColors:r}=this;if(r){let s=this.color,n="\x1B[3"+(s<8?s:"8;5;"+s),u=`  ${n};1m${t} \x1B[0m`;e[0]=u+e[0].split(`
`).join(`
`+u),e.push(n+"m+"+jn.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=hW()+t+" "+e[0]}function hW(){return ue.inspectOpts.hideDate?"":new Date().toISOString()+" "}function fW(...e){return process.stderr.write(zn.formatWithOptions(ue.inspectOpts,...e)+`
`)}function _W(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function mW(){return process.env.DEBUG}function pW(e){e.inspectOpts={};let t=Object.keys(ue.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ue.inspectOpts[t[r]]}jn.exports=ci()(ue);var{formatters:bR}=jn.exports;bR.o=function(e){return this.inspectOpts.colors=this.useColors,zn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};bR.O=function(e){return this.inspectOpts.colors=this.useColors,zn.inspect(e,this.inspectOpts)}});var Mt=o((q0e,_i)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?_i.exports=MR():_i.exports=xR()});var Ie=o((O0e,wR)=>{"use strict";var Re=class extends Error{constructor(t){super(t),this.name="OpenSearchClientError"}},mi=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="TimeoutError",this.message=t||"Timeout Error",this.meta=r}},pi=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="ConnectionError",this.message=t||"Connection Error",this.meta=r}},Ei=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="NoLivingConnectionsError",this.message=t||"Given the configuration, the ConnectionPool was not able to find a usable Connection for this request.",this.meta=r}},gi=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="SerializationError",this.message=t||"Serialization Error",this.data=r}},yi=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="DeserializationError",this.message=t||"Deserialization Error",this.data=r}},Ai=class e extends Re{constructor(t){super(t),Error.captureStackTrace(this,e),this.name="ConfigurationError",this.message=t||"Configuration Error"}},Si=class e extends Re{constructor(t){super("Response Error"),Error.captureStackTrace(this,e),this.name="ResponseError",t.body&&t.body.error&&t.body.error.type?Array.isArray(t.body.error.root_cause)?(this.message=t.body.error.type+": ",this.message+=t.body.error.root_cause.map(r=>`[${r.type}] Reason: ${r.reason}`).join("; ")):this.message=t.body.error.type:this.message="Response Error",this.meta=t}get body(){return this.meta.body}get statusCode(){return this.meta.body&&typeof this.meta.body.status=="number"?this.meta.body.status:this.meta.statusCode}get headers(){return this.meta.headers}toString(){return JSON.stringify(this.meta.body)}},Ri=class e extends Re{constructor(t,r){super(t),Error.captureStackTrace(this,e),this.name="RequestAbortedError",this.message=t||"Request aborted",this.meta=r}},Ci=class e extends Re{constructor(t){super("Not Compatible Error"),Error.captureStackTrace(this,e),this.name="NotCompatibleError",this.message="The client noticed that the server is not a supported distribution",this.meta=t}};wR.exports={OpenSearchClientError:Re,TimeoutError:mi,ConnectionError:pi,NoLivingConnectionsError:Ei,SerializationError:gi,DeserializationError:yi,ConfigurationError:Ai,ResponseError:Si,RequestAbortedError:Ri,NotCompatibleError:Ci}});var BR=o((M0e,EW)=>{EW.exports={name:"@opensearch-project/opensearch",description:"The official OpenSearch client for Node.js",main:"index.js",types:"index.d.ts",exports:{".":{require:"./index.js",types:"./index.d.ts",import:"./index.mjs"},"./aws":"./lib/aws/index.js","./aws-v3":"./lib/aws/index-v3.js","./*":"./*"},typesVersions:{"*":{".":["index.d.ts"],aws:["./lib/aws/index.d.ts"],"aws-v3":["./lib/aws/index-v3.d.ts"]}},files:["api/","lib/","index.d.ts","index.js","index.mjs","README.md","LICENSE.txt"],homepage:"https://www.opensearch.org/",version:"3.5.1",versionCanary:"7.10.0-canary.6",keywords:["opensearch","opensearchDashboards","mapping","REST","search","client","index"],scripts:{test:"npm run lint && tap test/{unit,acceptance}/{*,**/*,**/**/*}.test.js && npm run test:types","test:unit":"tap test/unit/{*,**/*,**/**/*}.test.js","test:acceptance":"tap test/acceptance/*.test.js","test:integration":"node test/integration/index.js","test:integration:helpers":"tap test/integration/helpers/*.test.js","test:integration:helpers-secure":"tap test/integration/helpers-secure/*.test.js","test:types":"tsd","test:coverage-90":'tap test/{unit,acceptance}/{*,**/*,**/**/*}.test.js --coverage --branches=90 --functions=90 --lines=90 --statements=90 --nyc-arg="--exclude=api"',"test:coverage-report":'tap test/{unit,acceptance}/{*,**/*,**/**/*}.test.js --coverage --branches=90 --functions=90 --lines=90 --statements=90 --nyc-arg="--exclude=api" && nyc report --reporter=text-lcov > coverage.lcov',"test:coverage-ui":'tap test/{unit,acceptance}/{*,**/*,**/**/*}.test.js --coverage --coverage-report=html --nyc-arg="--exclude=api"',lint:"eslint .","lint:fix":"eslint . --fix","license-checker":"license-checker --production --onlyAllow='MIT;Apache-2.0;Apache1.1;0BSD;ISC;BSD-3-Clause;BSD-2-Clause'","build-esm":"npx gen-esm-wrapper . index.mjs && eslint --fix index.mjs"},author:"opensearch-project","original-author":{name:"Spencer Alger",company:"Elasticsearch BV"},devDependencies:{"@aws-sdk/types":"^3.160.0","@babel/eslint-parser":"^7.19.1","@sinonjs/fake-timers":"github:sinonjs/fake-timers#0bfffc1","@types/node":"^22.0.0","convert-hrtime":"^5.0.0","cross-zip":"^4.0.0",dedent:"^1.1.0",deepmerge:"^4.2.2",dezalgo:"^1.0.3",eslint:"^8.30.0","eslint-config-prettier":"^9.0.0","eslint-plugin-prettier":"^5.0.0",faker:"^5.5.3","fast-deep-equal":"^3.1.3","into-stream":"^6.0.0","js-yaml":"^4.1.0",jsdoc:"^4.0.0","license-checker":"^25.0.1",minimist:"^1.2.5","node-fetch":"^3.2.10",ora:"^8.0.1",prettier:"^3.0.1","pretty-hrtime":"^1.0.3",proxy:"^1.0.2",rimraf:"^6.0.1",semver:"^7.3.5","simple-git":"^3.15.0","simple-statistics":"^7.7.0",split2:"^4.1.0",stoppable:"^1.1.0",tap:"^16.3.0",tsd:"^0.27.0",workq:"^3.0.0",xmlbuilder2:"^3.0.2"},dependencies:{aws4:"^1.11.0",debug:"^4.3.1",hpagent:"^1.2.0",json11:"^2.0.0",ms:"^2.1.3","secure-json-parse":"^2.4.0"},resolutions:{"**/strip-ansi":"^6.0.1"},license:"Apache-2.0",repository:{type:"git",url:"https://github.com/opensearch-project/opensearch-js.git"},bugs:{url:"https://github.com/opensearch-project/opensearch-js/issues"},engines:{node:">=14",yarn:"^1.22.10"},tsd:{directory:"test/types"},tap:{ts:!1,jsx:!1,flow:!1,coverage:!1,"jobs-auto":!0}}});var Wn=o((I0e,Ii)=>{"use strict";var Ee=Mt()("opensearch"),Di=require("os"),{gzip:gW,unzip:yW,createGzip:AW}=require("zlib"),KR=require("buffer"),SW=li(),{EventEmitter:RW}=require("events"),{ConnectionError:CW,RequestAbortedError:Vn,NoLivingConnectionsError:DW,ResponseError:TW,ConfigurationError:PW}=Ie(),GR=()=>{},kt=new RW,qW=BR().version,OW=`opensearch-js/${qW} (${Di.platform()} ${Di.release()}-${Di.arch()}; Node.js ${process.version})`,UR=KR.constants.MAX_LENGTH,YR=KR.constants.MAX_STRING_LENGTH,MW=require("v8").getHeapStatistics().heap_size_limit,It=Symbol("compatible check"),Ti=Symbol("api versioning"),Xn=class e{constructor(t){if(typeof t.compression=="string"&&t.compression!=="gzip")throw new PW(`Invalid compression: '${t.compression}'`);this.emit=t.emit,this.connectionPool=t.connectionPool,this.serializer=t.serializer,this.maxRetries=t.maxRetries,this.requestTimeout=qi(t.requestTimeout),this.suggestCompression=t.suggestCompression===!0,this.compression=t.compression||!1,this.context=t.context||null,this.headers=Object.assign({},{"user-agent":OW},t.suggestCompression===!0?{"accept-encoding":"gzip,deflate"}:null,Mi(t.headers)),this.sniffInterval=t.sniffInterval,this.sniffOnConnectionFault=t.sniffOnConnectionFault,this.sniffEndpoint=t.sniffEndpoint,this.generateRequestId=t.generateRequestId||VR(),this.name=t.name,this.opaqueIdPrefix=t.opaqueIdPrefix,this[It]=0,this[Ti]=process.env.OPENSEARCH_CLIENT_APIVERSIONING==="true",this.memoryCircuitBreaker=t.memoryCircuitBreaker,this.nodeFilter=t.nodeFilter||zR,typeof t.nodeSelector=="function"?this.nodeSelector=t.nodeSelector:t.nodeSelector==="round-robin"?this.nodeSelector=Oi():t.nodeSelector==="random"?this.nodeSelector=jR:this.nodeSelector=Oi(),this._sniffEnabled=typeof this.sniffInterval=="number",this._nextSniff=this._sniffEnabled?Date.now()+this.sniffInterval:0,this._isSniffing=!1,this._auth=t.auth,t.sniffOnStart===!0&&setTimeout(()=>{this.sniff({reason:e.sniffReasons.SNIFF_ON_START})},10)}request(t,r,s){r=r||{},typeof r=="function"&&(s=r,r={});let n=null;if(s===void 0){let g=null,S=null;n=new Promise((q,I)=>{g=q,S=I}),s=function(I,O){I?S(I):g(O)}}let u={context:null,request:{params:null,options:null,id:r.id||this.generateRequestId(t,r)},name:this.name,connection:null,attempts:0,aborted:!1};this.context!=null&&r.context!=null?u.context=Object.assign({},this.context,r.context):this.context!=null?u.context=this.context:r.context!=null&&(u.context=r.context);let i={body:null,statusCode:null,headers:null,meta:u};Object.defineProperty(i,"warnings",{get(){return this.headers&&this.headers.warning?this.headers.warning.split(/(?!\B"[^"]*),(?![^"]*"\B)/):null}});let a=Pi(t.body)||Pi(t.bulkBody)?0:typeof r.maxRetries=="number"?r.maxRetries:this.maxRetries,d=r.compression!==void 0?r.compression:this.compression,h={abort:GR},f={then(g,S){if(n!=null)return n.then(g,S)},catch(g){if(n!=null)return n.catch(g)},abort(){return u.aborted=!0,h.abort(),Ee("Aborting request",t),this},finally(g){if(n!=null)return n.finally(g)}},_=()=>{if(u.aborted===!0)return process.nextTick(s,new Vn,i);if(u.connection=this.getConnection({requestId:u.request.id}),u.connection==null)return process.nextTick(s,new DW,i);this.emit("request",null,i),h=u.connection.request(t,E)},p=g=>{if(g.name!=="RequestAbortedError"&&(this.connectionPool.markDead(u.connection),this.sniffOnConnectionFault===!0&&this.sniff({reason:e.sniffReasons.SNIFF_ON_CONNECTION_FAULT,requestId:u.request.id}),u.attempts<a)){u.attempts++,Ee(`Retrying request, there are still ${a-u.attempts} attempts`,t),_();return}return g.meta=i,this.emit("response",g,i),s(g,i)},E=(g,S)=>{if(g!==null)return p(g);if(i.statusCode=S.statusCode,i.headers=S.headers,r.asStream===!0){i.body=S,this.emit("response",null,i),s(null,i);return}let q=(i.headers["content-encoding"]||"").toLowerCase(),I=q.indexOf("gzip")>-1||q.indexOf("deflate")>-1;if(i.headers["content-length"]!==void 0){let N=Number(i.headers["content-length"]);if(I&&N>UR)return S.destroy(),p(new Vn(`The content length (${N}) is bigger than the maximum allowed buffer (${UR})`,i));if(N>YR)return S.destroy(),p(new Vn(`The content length (${N}) is bigger than the maximum allowed string (${YR})`,i));if(x(N))return S.destroy(),p(new Vn(`The content length (${N}) is bigger than the maximum allowed heap memory limit.`,i))}let O=I?[]:"",m=I?N=>{O.push(N)}:N=>{O+=N},R=N=>{if(S.removeListener("data",m),S.removeListener("end",R),S.removeListener("error",R),S.removeListener("aborted",w),N)return p(new CW(N.message));I?yW(Buffer.concat(O),P):P(null,O)},w=()=>{S.destroy(),R(new Error("Response aborted while reading the body"))};I||S.setEncoding("utf8"),this.emit("deserialization",null,i),S.on("data",m),S.on("error",R),S.on("end",R),S.on("aborted",w)},x=g=>{if(!this.memoryCircuitBreaker||!this.memoryCircuitBreaker.enabled)return!1;let S=IW(this.memoryCircuitBreaker.maxPercentage),q=process.memoryUsage().heapUsed;return g+q>MW*S},P=(g,S)=>{if(g)return this.emit("response",g,i),s(g,i);Buffer.isBuffer(S)&&(S=S.toString());let q=t.method==="HEAD";if(i.headers["content-type"]!==void 0&&(i.headers["content-type"].indexOf("application/json")>-1||i.headers["content-type"].indexOf("application/vnd.opensearch+json")>-1)&&q===!1&&S!=="")try{i.body=this.serializer.deserialize(S)}catch(O){return this.emit("response",O,i),s(O,i)}else i.body=q===!0&&i.statusCode<400?!0:S;let I=Array.isArray(r.ignore)&&r.ignore.indexOf(i.statusCode)>-1||q===!0&&i.statusCode===404;if(I===!1&&(i.statusCode===502||i.statusCode===503||i.statusCode===504)){if(this.connectionPool.markDead(u.connection),u.attempts<a&&i.statusCode!==429){u.attempts++,Ee(`Retrying request, there are still ${a-u.attempts} attempts`,t),_();return}}else this.connectionPool.markAlive(u.connection);if(I===!1&&i.statusCode>=400){let O=new TW(i);this.emit("response",O,i),s(O,i)}else q===!0&&i.statusCode===404&&(i.body=!1),this.emit("response",null,i),s(null,i)};return(()=>{this.emit("serialization",null,i);let g=Object.assign({},this.headers,Mi(r.headers));if(r.opaqueId!==void 0&&(g["x-opaque-id"]=this.opaqueIdPrefix!==null?this.opaqueIdPrefix+r.opaqueId:r.opaqueId),t.body!=null){if(HR(t.body)===!0)try{t.body=this.serializer.serialize(t.body)}catch(S){return this.emit("request",S,i),process.nextTick(s,S,i),f}t.body!==""&&(g["content-type"]=g["content-type"]||(this[Ti]?"application/vnd.opensearch+json; compatible-with=7":"application/json"))}else if(t.bulkBody!=null){if(HR(t.bulkBody)===!0)try{t.body=this.serializer.ndserialize(t.bulkBody)}catch(S){return this.emit("request",S,i),process.nextTick(s,S,i),f}else t.body=t.bulkBody;t.body!==""&&(g["content-type"]=g["content-type"]||(this[Ti]?"application/vnd.opensearch+x-ndjson; compatible-with=7":"application/x-ndjson"))}t.headers=g,r.querystring==null?t.querystring=this.serializer.qserialize(t.querystring):t.querystring=this.serializer.qserialize(Object.assign({},t.querystring,r.querystring)),this._auth!==null&&typeof this._auth=="object"&&"credentials"in this._auth&&(t.auth=this._auth),t.timeout=qi(r.requestTimeout||this.requestTimeout),r.asStream===!0&&(t.asStream=!0),u.request.params=t,u.request.options=r,t.body!==""&&t.body!=null?Pi(t.body)===!0?(d==="gzip"&&(t.headers["content-encoding"]=d,t.body=t.body.pipe(AW())),_()):d==="gzip"?gW(t.body,(S,q)=>{if(S)return this.emit("request",S,i),s(S,i);t.headers["content-encoding"]=d,t.headers["content-length"]=""+Buffer.byteLength(q),t.body=q,_()}):(t.headers["content-length"]=""+Buffer.byteLength(t.body),_()):_()})(),f}getConnection(t){let r=Date.now();return this._sniffEnabled===!0&&r>this._nextSniff&&this.sniff({reason:e.sniffReasons.SNIFF_INTERVAL,requestId:t.requestId}),this.connectionPool.getConnection({filter:this.nodeFilter,selector:this.nodeSelector,requestId:t.requestId,name:this.name,now:r})}sniff(t,r=GR){if(this._isSniffing===!0)return;this._isSniffing=!0,Ee("Started sniffing request"),typeof t=="function"&&(r=t,t={reason:e.sniffReasons.DEFAULT});let{reason:s}=t,n={method:"GET",path:this.sniffEndpoint};this.request(n,{id:t.requestId},(u,i)=>{if(this._isSniffing=!1,this._sniffEnabled===!0&&(this._nextSniff=Date.now()+this.sniffInterval),u!=null)return Ee("Sniffing errored",u),i.meta.sniff={hosts:[],reason:s},this.emit("sniff",u,i),r(u);Ee("Sniffing ended successfully",i.body);let a=i.meta.connection.url.protocol||"http:",d=this.connectionPool.nodesToHost(i.body.nodes,a);this.connectionPool.update(d),i.meta.sniff={hosts:d,reason:s},this.emit("sniff",null,i),r(null,d)})}checkCompatibleInfo(){Ee("Start compatible check"),this[It]=1,this.request({method:"GET",path:"/"},(t,r)=>{if(this[It]=3,t)Ee("compatible check failed",t),t.statusCode===401||t.statusCode===403?(this[It]=2,process.emitWarning("The client is unable to verify the distribution due to security privileges on the server side. Some functionality may not be compatible if the server is running an unsupported product."),kt.emit("compatible-check",!0)):(this[It]=0,kt.emit("compatible-check",!1));else{if(Ee("Checking OpenSearch version",r.body,r.headers),r.body.version==null||typeof r.body.version.number!="string")return Ee("Can't access OpenSearch version"),kt.emit("compatible-check",!1);let s=r.body.version.distribution,n=r.body.version.number.split("."),u=Number(n[0]);if(s==="opensearch")return Ee("Valid OpenSearch distribution"),this[It]=2,kt.emit("compatible-check",!0);if(u!==7)return Ee("Invalid distribution"),kt.emit("compatible-check",!1);Ee("Valid OpenSearch distribution"),this[It]=2,kt.emit("compatible-check",!0)}})}};Xn.sniffReasons={SNIFF_ON_START:"sniff-on-start",SNIFF_INTERVAL:"sniff-interval",SNIFF_ON_CONNECTION_FAULT:"sniff-on-connection-fault",DEFAULT:"default"};function qi(e){return typeof e=="string"?SW(e):e}function HR(e){return typeof e!="string"&&typeof e.pipe!="function"&&Buffer.isBuffer(e)===!1}function Pi(e){return e!=null&&typeof e.pipe=="function"}function zR(e){return!((e.roles.cluster_manager===!0||e.roles.master===!0)&&e.roles.data===!1&&e.roles.ingest===!1)}function Oi(){let e=-1;return function(r){return++e>=r.length&&(e=0),r[e]}}function jR(e){let t=Math.floor(Math.random()*e.length);return e[t]}function VR(){let t=0;return function(){return t=t+1&2147483647}}function Mi(e){if(e==null)return e;let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}function IW(e){return e<0||e>1?1:e}Ii.exports=Xn;Ii.exports.internals={defaultNodeFilter:zR,roundRobinSelector:Oi,randomSelector:jR,generateRequestId:VR,lowerCaseHeaders:Mi,toMs:qi}});var ZR=o((N0e,WR)=>{"use strict";var Ni=require("https"),Li=require("http"),{URL:XR}=require("url"),Fi=class extends Li.Agent{constructor(t){let{proxy:r,proxyRequestOptions:s,...n}=t;super(n),this.proxy=typeof r=="string"?new XR(r):r,this.proxyRequestOptions=s||{}}createConnection(t,r){let s={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${t.host}:${t.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${t.host}:${t.port}`},agent:!1,timeout:t.timeout||0};if(this.proxy.username||this.proxy.password){let u=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");s.headers["proxy-authorization"]=`Basic ${u}`}this.proxy.protocol==="https:"&&(s.servername=this.proxy.hostname);let n=(this.proxy.protocol==="http:"?Li:Ni).request(s);n.once("connect",(u,i,a)=>{n.removeAllListeners(),i.removeAllListeners(),u.statusCode===200?r(null,i):(i.destroy(),r(new Error(`Bad response: ${u.statusCode}`),null))}),n.once("timeout",()=>{n.destroy(new Error("Proxy timeout"))}),n.once("error",u=>{n.removeAllListeners(),r(u,null)}),n.end()}},vi=class extends Ni.Agent{constructor(t){let{proxy:r,proxyRequestOptions:s,...n}=t;super(n),this.proxy=typeof r=="string"?new XR(r):r,this.proxyRequestOptions=s||{}}createConnection(t,r){let s={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${t.host}:${t.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${t.host}:${t.port}`},agent:!1,timeout:t.timeout||0};if(this.proxy.username||this.proxy.password){let u=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");s.headers["proxy-authorization"]=`Basic ${u}`}this.proxy.protocol==="https:"&&(s.servername=this.proxy.hostname);let n=(this.proxy.protocol==="http:"?Li:Ni).request(s);n.once("connect",(u,i,a)=>{if(n.removeAllListeners(),i.removeAllListeners(),u.statusCode===200){let d=super.createConnection({...t,socket:i});r(null,d)}else i.destroy(),r(new Error(`Bad response: ${u.statusCode}`),null)}),n.once("timeout",()=>{n.destroy(new Error("Proxy timeout"))}),n.once("error",u=>{n.removeAllListeners(),r(u,null)}),n.end()}};WR.exports={HttpProxyAgent:Fi,HttpsProxyAgent:vi}});var er=o((L0e,Bi)=>{"use strict";var NW=require("assert"),{inspect:LW}=require("util"),$R=ZR(),JR=require("http"),QR=require("https"),bi=Mt()("opensearch"),{pipeline:FW}=require("stream"),vW=/[^\u0021-\u00ff]/,{ConnectionError:bW,RequestAbortedError:xW,TimeoutError:wW,ConfigurationError:xi}=Ie(),De=class e{constructor(t){if(this.url=t.url,this.ssl=t.ssl||null,this.id=t.id||wi(t.url.href),this.headers=kR(t.headers,t.auth),this.deadCount=0,this.resurrectTimeout=0,this._openRequests=0,this._status=t.status||e.statuses.ALIVE,this.roles=Object.assign({},BW,t.roles),!["http:","https:"].includes(this.url.protocol))throw new xi(`Invalid protocol: '${this.url.protocol}'`);if(typeof t.agent=="function")this.agent=t.agent(t);else if(t.agent===!1)this.agent=void 0;else{let r=Object.assign({},{keepAlive:!0,keepAliveMsecs:1e3,maxSockets:256,maxFreeSockets:256,scheduling:"lifo"},t.agent);t.proxy?(r.proxy=t.proxy,this.agent=this.url.protocol==="http:"?new $R.HttpProxyAgent(r):new $R.HttpsProxyAgent(Object.assign({},r,this.ssl))):this.agent=this.url.protocol==="http:"?new JR.Agent(r):new QR.Agent(Object.assign({},r,this.ssl))}this.makeRequest=this.url.protocol==="http:"?JR.request:QR.request}request(t,r){this._openRequests++;let s=!1,n=this.buildRequestObject(t);if(vW.test(n.path)===!0)return r(new TypeError(`ERR_UNESCAPED_CHARACTERS: ${n.path}`),null),{abort:()=>{}};bi("Starting a new request",t);let u=this.makeRequest(n),i=_=>{f(),this._openRequests--,r(null,_)},a=()=>{f(),this._openRequests--,u.once("error",()=>{}),u.abort(),r(new wW("Request timed out",t),null)},d=_=>{f(),this._openRequests--,r(new bW(_.message),null)},h=()=>{f(),u.once("error",()=>{}),bi("Request aborted",t),this._openRequests--,r(new xW("Request aborted"),null)};return u.on("response",i),u.on("timeout",a),u.on("error",d),u.on("abort",h),u.setNoDelay(!0),YW(t.body)===!0?FW(t.body,u,_=>{_!=null&&s===!1&&(f(),this._openRequests--,r(_,null))}):u.end(t.body),u;function f(){u.removeListener("response",i),u.removeListener("timeout",a),u.removeListener("error",d),u.removeListener("abort",h),s=!0}}close(t=()=>{}){bi("Closing connection",this.id),this._openRequests>0?setTimeout(()=>this.close(t),1e3):(this.agent!==void 0&&this.agent.destroy(),t())}setRole(t,r){if(UW.indexOf(t)===-1)throw new xi(`Unsupported role: '${t}'`);if(typeof r!="boolean")throw new xi("enabled should be a boolean");return this.roles[t]=r,this}get status(){return this._status}set status(t){NW(~GW.indexOf(t),`Unsupported status: '${t}'`),this._status=t}buildRequestObject(t){let r=this.url,s={protocol:r.protocol,hostname:r.hostname[0]==="["?r.hostname.slice(1,-1):r.hostname,hash:r.hash,search:r.search,pathname:r.pathname,path:"",href:r.href,origin:r.origin,port:r.port!==""?r.port:void 0,headers:Object.assign({},this.headers),agent:this.agent},n=Object.keys(t);for(let u=0,i=n.length;u<i;u++){let a=n[u];a==="path"?s.pathname=HW(s.pathname,t[a]):a==="querystring"&&t[a]?s.search===""?s.search="?"+t[a]:s.search+="&"+t[a]:a==="headers"?s.headers=Object.assign({},s.headers,t.headers):s[a]=t[a]}return s.path=s.pathname+s.search,s}[LW.custom](){let{authorization:t,...r}=this.headers;return{url:wi(this.url.toString()),id:this.id,headers:r,deadCount:this.deadCount,resurrectTimeout:this.resurrectTimeout,_openRequests:this._openRequests,status:this.status,roles:this.roles}}toJSON(){let{authorization:t,...r}=this.headers;return{url:wi(this.url.toString()),id:this.id,headers:r,deadCount:this.deadCount,resurrectTimeout:this.resurrectTimeout,_openRequests:this._openRequests,status:this.status,roles:this.roles}}};De.statuses={ALIVE:"alive",DEAD:"dead"};De.roles={CLUSTER_MANAGER:"cluster_manager",MASTER:"master",DATA:"data",INGEST:"ingest"};var BW={[De.roles.DATA]:!0,[De.roles.INGEST]:!0},GW=Object.keys(De.statuses).map(e=>De.statuses[e]),UW=Object.keys(De.roles).map(e=>De.roles[e]);function wi(e){return e.indexOf("@")===-1?e:e.slice(0,e.indexOf("//")+2)+e.slice(e.indexOf("@")+1)}function YW(e){return e!=null&&typeof e.pipe=="function"}function HW(e,t){let r=e[e.length-1]==="/",s=t[0]==="/";return r===!0&&s===!0?e+t.slice(1):r!==s?e+t:e+"/"+t}function kR(e={},t){return t!=null&&e.authorization==null&&t.username&&t.password&&(e.authorization="Basic "+Buffer.from(`${t.username}:${t.password}`).toString("base64")),e}Bi.exports=De;Bi.exports.internals={prepareHeaders:kR}});var $n=o((F0e,sC)=>{"use strict";var{URL:eC}=require("url"),Zn=Mt()("opensearch"),Gi=er(),{ConfigurationError:tC}=Ie(),rC=()=>{},Ui=class{constructor(t){this.connections=[],this.size=this.connections.length,this.Connection=t.Connection,this.emit=t.emit||rC,this.auth=t.auth||null,this._ssl=t.ssl,this._agent=t.agent,this._proxy=t.proxy||null}getConnection(){throw new Error("getConnection must be implemented")}markAlive(){return this}markDead(){return this}createConnection(t){if(t instanceof Gi)throw new tC("The argument provided is already a Connection instance.");typeof t=="string"&&(t=this.urlToHost(t)),this.auth!==null?t.auth=this.auth:t.url.username!==""&&t.url.password!==""&&(t.auth={username:decodeURIComponent(t.url.username),password:decodeURIComponent(t.url.password)}),t.ssl==null&&(t.ssl=this._ssl),t.agent==null&&(t.agent=this._agent),t.proxy==null&&(t.proxy=this._proxy);let r=new this.Connection(t);for(let s of this.connections)if(s.id===r.id)throw new Error(`Connection with id '${r.id}' is already present`);return r}addConnection(t){if(Array.isArray(t)){t.forEach(n=>this.addConnection(n));return}typeof t=="string"&&(t=this.urlToHost(t));let r=t.id,s=t.url.href;if(r||s){let n=this.connections.find(i=>i.id===r),u=this.connections.find(i=>i.id===s);if(n||u)throw new tC(`Connection with id '${r||s}' is already present`)}return this.update([...this.connections,t]),this.connections[this.size-1]}removeConnection(t){return Zn("Removing connection",t),this.update(this.connections.filter(r=>r.id!==t.id))}empty(t=rC){Zn("Emptying the connection pool");let r=this.size;this.connections.forEach(s=>{s.close(()=>{--r===0&&(this.connections=[],this.size=this.connections.length,t())})})}update(t){Zn("Updating the connection pool");let r=[],s=[];for(let u of t){let i=this.connections.find(d=>d.id===u.id),a=this.connections.find(d=>d.id===u.url.href);i?(Zn(`The connection with id '${u.id}' is already present`),this.markAlive(i),r.push(i)):a?(a.id=u.id,this.markAlive(a),r.push(a)):r.push(this.createConnection(u))}let n=t.map(u=>u.id);for(let u of this.connections)n.indexOf(u.id)===-1&&s.push(u);return s.forEach(u=>u.close()),this.connections=r,this.size=this.connections.length,this}nodesToHost(t,r){let s=Object.keys(t),n=[];for(let u=0,i=s.length;u<i;u++){let a=t[s[u]];if(a.http===void 0)continue;let d=a.http.publish_address,h=d.split("/");if(h.length>1){let _=h[0],p=h[1].match(/((?::))(?:[0-9]+)$/g)[0].slice(1);d=`${_}:${p}`}d=d.slice(0,4)==="http"?d:`${r}//${d}`;let f=a.roles.reduce((_,p)=>(_[p]=!0,_),{});n.push({url:new eC(d),id:s[u],roles:Object.assign({[Gi.roles.DATA]:!1,[Gi.roles.INGEST]:!1},f)})}return n}urlToHost(t){return{url:new eC(t)}}};sC.exports=Ui});var iC=o((v0e,uC)=>{"use strict";var KW=$n(),zW=require("assert"),Nt=Mt()("opensearch"),Jn=er(),nC=()=>{},Qn=class e extends KW{constructor(t){super(t),this.dead=[],this.resurrectTimeout=1e3*60,this.resurrectTimeoutCutoff=5,this.pingTimeout=t.pingTimeout,this._sniffEnabled=t.sniffEnabled||!1;let r=t.resurrectStrategy||"ping";this.resurrectStrategy=e.resurrectStrategies[r],zW(this.resurrectStrategy!=null,`Invalid resurrection strategy: '${r}'`)}markAlive(t){let{id:r}=t;Nt(`Marking as 'alive' connection '${r}'`);let s=this.dead.indexOf(r);return s>-1&&this.dead.splice(s,1),t.status=Jn.statuses.ALIVE,t.deadCount=0,t.resurrectTimeout=0,this}markDead(t){let{id:r}=t;if(Nt(`Marking as 'dead' connection '${r}'`),this.dead.indexOf(r)===-1){for(let s=0;s<this.size;s++)if(this.connections[s].id===r){this.dead.push(r);break}}return t.status=Jn.statuses.DEAD,t.deadCount++,t.resurrectTimeout=Date.now()+this.resurrectTimeout*Math.pow(2,Math.min(t.deadCount-1,this.resurrectTimeoutCutoff)),this.dead.sort((s,n)=>{let u=this.connections.find(a=>a.id===s),i=this.connections.find(a=>a.id===n);return u.resurrectTimeout-i.resurrectTimeout}),this}resurrect(t,r=nC){if(this.resurrectStrategy===0||this.dead.length===0){Nt("Nothing to resurrect"),r(null,null);return}let s=this.connections.find(u=>u.id===this.dead[0]);if((t.now||Date.now())<s.resurrectTimeout){Nt("Nothing to resurrect"),r(null,null);return}let{id:n}=s;this.resurrectStrategy===1?s.request({method:"HEAD",path:"/",timeout:this.pingTimeout},(u,i)=>{let a=!0,d=i!==null?i.statusCode:0;u!=null||d===502||d===503||d===504?(Nt(`Resurrect: connection '${n}' is still dead`),this.markDead(s),a=!1):(Nt(`Resurrect: connection '${n}' is now alive`),this.markAlive(s)),this.emit("resurrect",null,{strategy:"ping",name:t.name,request:{id:t.requestId},isAlive:a,connection:s}),r(a,s)}):(Nt(`Resurrect: optimistic resurrection for connection '${n}'`),this.dead.splice(this.dead.indexOf(n),1),s.status=Jn.statuses.ALIVE,this.emit("resurrect",null,{strategy:"optimistic",name:t.name,request:{id:t.requestId},isAlive:!0,connection:s}),r(!0,s))}getConnection(t={}){let r=t.filter||(()=>!0),s=t.selector||(i=>i[0]);this.resurrect({now:t.now,requestId:t.requestId,name:t.name});let n=this.size===this.dead.length,u=[];for(let i=0;i<this.size;i++){let a=this.connections[i];(n||a.status===Jn.statuses.ALIVE)&&r(a)===!0&&u.push(a)}return u.length===0?null:s(u)}empty(t=nC){super.empty(()=>{this.dead=[],t()})}update(t){return super.update(t),this.dead=[],this}};Qn.resurrectStrategies={none:0,ping:1,optimistic:2};uC.exports=Qn});var aC=o((b0e,oC)=>{"use strict";var jW=$n(),VW=()=>{},Yi=class extends jW{constructor(t){super(t),this.cloudConnection=null}getConnection(){return this.cloudConnection}empty(t=VW){super.empty(()=>{this.cloudConnection=null,t()})}update(t){return super.update(t),this.cloudConnection=this.connections[0],this}};oC.exports=Yi});var Hi=o((x0e,dC)=>{"use strict";var XW=$n(),WW=iC(),ZW=aC();dC.exports={BaseConnectionPool:XW,ConnectionPool:WW,CloudConnectionPool:ZW}});var _C=o((w0e,fC)=>{"use strict";var{Readable:$W}=require("stream"),{promisify:hC}=require("util"),{ResponseError:Ki,ConfigurationError:Lt}=Ie(),lC=hC(setImmediate),cC=hC(setTimeout),Ft=Symbol("opensearch-client"),zi=Symbol("meta header"),JW=()=>{},Xi=class{constructor(t){this[Ft]=t.client,this[zi]=t.metaHeader,this.maxRetries=t.maxRetries}async search(t,r){Vi("hits.hits._source",t,!0);let{body:s}=await this[Ft].search(t,r);return s.hits&&s.hits.hits?s.hits.hits.map(n=>n._source):[]}async*scrollSearch(t,r={}){this[zi]!==null&&(r.headers=r.headers||{});let s=r.wait||5e3,n=r.maxRetries||this.maxRetries;Array.isArray(r.ignore)?r.ignore.push(429):r.ignore=[429],t.scroll=t.scroll||"1m",Vi("_scroll_id",t,!1);let u=null;for(let h=0;h<=n&&(u=await this[Ft].search(t,r),u.statusCode===429);h++)await cC(s);if(u.statusCode===429)throw new Ki(u);let i=u.body._scroll_id,a=!1,d=async()=>{a=!0,await this[Ft].clearScroll({body:{scroll_id:i}},{ignore:[400],...r})};for(;u.body.hits&&u.body.hits.hits.length>0&&(i=u.body._scroll_id,u.clear=d,ji(u),yield u,a!==!0);){for(let h=0;h<=n&&(u=await this[Ft].scroll({scroll:t.scroll,rest_total_hits_as_int:t.rest_total_hits_as_int||t.restTotalHitsAsInt,body:{scroll_id:i}},r),u.statusCode===429);h++)await cC(s);if(u.statusCode===429)throw new Ki(u)}a===!1&&await d()}async*scrollDocuments(t,r){Vi("hits.hits._source",t,!0);for await(let{documents:s}of this.scrollSearch(t,r))for(let n of s)yield n}msearch(t={},r={}){let s=this[Ft],{operations:n=5,concurrency:u=5,flushInterval:i=500,retries:a=this.maxRetries,wait:d=5e3,...h}=t,f=!1,_=null,p=null,E=new $W({objectMode:!0,read(){}}),x=C(),P={then(q,I){return x.then(q,I)},catch(q){return x.catch(q)},stop(q=null){f!==!0&&(f=!0,_=q,E.push(null))},search(q,I,O){if(f===!0){let R=_===null?new Lt("The msearch processor has been stopped"):_;return O?O(R,{}):Promise.reject(R)}if(!(typeof q=="object"&&q!==null&&!Array.isArray(q))){let R=new Lt("The header should be an object");return O?O(R,{}):Promise.reject(R)}if(!(typeof I=="object"&&I!==null&&!Array.isArray(I))){let R=new Lt("The body should be an object");return O?O(R,{}):Promise.reject(R)}let m=null;if(O===void 0){let R=null,w=null;m=new Promise((N,B)=>{R=N,w=B}),O=function(B,z){B?w(B):R(z)}}if(E.push([q,I,O]),m!==null)return m}};return P;async function C(){let{semaphore:q,finish:I}=g(),O=[],m=[],R=0;p=setTimeout(w,i);for await(let N of E)p.refresh(),R+=1,O.push(N[0],N[1]),m.push(N[2]),R>=n&&((await q())(O.slice(),m.slice()),O.length=0,m.length=0,R=0);if(clearTimeout(p),R>0&&(await q())(O,m),await I(),_!==null)throw _;async function w(){if(R===0)return;let N=O.slice(),B=m.slice();O.length=0,m.length=0,R=0;try{(await q())(N,B)}catch(z){P.stop(z)}}}function g(){let q=null,I=null,O=0;return{semaphore:R,finish:m};function m(){return new Promise(N=>{O===0?N():I=N})}function R(){return O<u?(O+=1,lC(w)):new Promise(N=>{q=N})}function w(N,B){if(O>u)throw new Error("Max concurrency reached");S(N,B,()=>{O-=1,q?(O+=1,q(w),q=null):I&&O===0&&I()})}}function S(q,I,O){let m=a;w(q,I,R);function R(N,B){if(N.length>0&&m>0){m-=1,setTimeout(w,d,N,B,R);return}O()}function w(N,B,z){s.msearch(Object.assign({},h,{body:N}),r,(F,L)=>{let D=[],T=[];if(F){ji(L);for(let G of B)G(F,L);return z(D,T)}let{responses:v}=L.body;for(let G=0,fe=v.length;G<fe;G++){let Q=v[G];if(Q.status===429&&m>0){D.push(N[G*2]),D.push(N[G*2+1]),T.push(B[G]);continue}let Ae={...L,body:Q};ji(Ae),Q.status>=400?B[G](new Ki(Ae),Ae):B[G](null,Ae)}z(D,T)})}}}bulk(t,r={}){let s=this[Ft],{serializer:n}=s;this[zi]!==null&&(r.headers=r.headers||{});let{datasource:u,onDocument:i,flushBytes:a=5e6,flushInterval:d=3e4,concurrency:h=5,retries:f=this.maxRetries,wait:_=5e3,onDrop:p=JW,refreshOnCompletion:E=!1,...x}=t;if(u===void 0)return Promise.reject(new Lt("bulk helper: the datasource is required"));if(!(Array.isArray(u)||Buffer.isBuffer(u)||typeof u.pipe=="function"||u[Symbol.asyncIterator]))return Promise.reject(new Lt("bulk helper: the datasource must be an array or a buffer or a readable stream or an async generator"));if(i===void 0)return Promise.reject(new Lt("bulk helper: the onDocument callback is required"));let P=!1,C=null,g={total:0,failed:0,retry:0,successful:0,noop:0,time:0,bytes:0,aborted:!1},S=I(),q={get stats(){return g},then(R,w){return S.then(R,w)},catch(R){return S.catch(R)},abort(){return clearTimeout(C),P=!0,g.aborted=!0,this}};return q;async function I(){let{semaphore:R,finish:w}=O(),N=Date.now(),B=[],z="",F="",L=0;C=setTimeout(D,d);for await(let T of u){if(P===!0)break;C.refresh();let v=i(T),[G,fe]=Array.isArray(v)?v:[v,T],Q=Object.keys(G)[0];if(Q==="index"||Q==="create")z=n.serialize(G),F=typeof fe=="string"?fe:n.serialize(fe),L+=Buffer.byteLength(z)+Buffer.byteLength(F),B.push(z,F);else if(Q==="update")z=n.serialize(G),F=typeof T=="string"?`{"doc":${T}}`:n.serialize({doc:T,...fe}),L+=Buffer.byteLength(z)+Buffer.byteLength(F),B.push(z,F);else if(Q==="delete")z=n.serialize(G),L+=Buffer.byteLength(z),B.push(z);else throw clearTimeout(C),new Lt(`Bulk helper invalid action: '${Q}'`);L>=a&&(g.bytes+=L,(await R())(B.slice()),B.length=0,L=0)}if(clearTimeout(C),P===!1&&L>0){let T=await R();g.bytes+=L,T(B)}return await w(),E&&await s.indices.refresh({index:typeof E=="string"?E:"_all"},r),g.time=Date.now()-N,g.total=g.successful+g.failed,g;async function D(){if(L===0)return;g.bytes+=L;let T=B.slice();B.length=0,L=0;try{(await R())(T)}catch{q.abort()}}}function O(){let R=null,w=null,N=null,B=null,z=0;return{semaphore:L,finish:F};function F(){return new Promise((T,v)=>{z===0?B?v(B):T():(w=T,N=v)})}function L(){return z<h?(z+=1,lC(D)):new Promise(T=>{R=T})}function D(T){if(z>h)throw new Error("Max concurrency reached");m(T,v=>{z-=1,v&&(P=!0,B=v),R?(z+=1,R(D),R=null):w&&z===0&&(B?N(B):w())})}}function m(R,w){let N=f,B=!1;F(R,z);function z(L,D){if(L)return w(L);if(P===!0)return w();if(D.length>0){if(N>0){B=!0,N-=1,g.retry+=D.length,setTimeout(F,_,D,z);return}for(let T=0,v=D.length;T<v;T=T+2){let G=Object.keys(n.deserialize(D[T]))[0];p({status:429,error:null,operation:n.deserialize(D[T]),document:G!=="delete"?n.deserialize(D[T+1]):null,retried:B}),g.failed+=1}}w()}function F(L,D){if(P===!0)return D(null,[]);s.bulk(Object.assign({},x,{body:L}),r,(T,{body:v})=>{if(T)return D(T,null);if(v.errors===!1){g.successful+=v.items.length;for(let Q of v.items)Q.update&&Q.update.result==="noop"&&g.noop++;return D(null,[])}let G=[],{items:fe}=v;for(let Q=0,Ae=fe.length;Q<Ae;Q++){let M=fe[Q],H=Object.keys(M)[0],{status:ae}=M[H],se=H!=="delete"?Q*2:Q;ae>=400?ae===429?(G.push(L[se]),H!=="delete"&&G.push(L[se+1])):(p({status:ae,error:M[H].error,operation:n.deserialize(L[se]),document:H!=="delete"?n.deserialize(L[se+1]):null,retried:B}),g.failed+=1):g.successful+=1}D(null,G)})}}}};function ji(e){Object.defineProperty(e,"documents",{get(){return this.body.hits&&this.body.hits.hits?this.body.hits.hits.map(t=>t._source):[]}})}function Vi(e,t,r){t.filter_path!==void 0?t.filter_path+=","+e:r===!0&&(t.filter_path=e)}fC.exports=Xi});var yC=o((B0e,tr)=>{"use strict";var QW=typeof Buffer<"u",mC=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,pC=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function EC(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),QW&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let s=JSON.parse(e,t);if(s===null||typeof s!="object")return s;let n=r&&r.protoAction||"error",u=r&&r.constructorAction||"error";if(n==="ignore"&&u==="ignore")return s;if(n!=="ignore"&&u!=="ignore"){if(mC.test(e)===!1&&pC.test(e)===!1)return s}else if(n!=="ignore"&&u==="ignore"){if(mC.test(e)===!1)return s}else if(pC.test(e)===!1)return s;return gC(s,{protoAction:n,constructorAction:u,safe:r&&r.safe})}function gC(e,{protoAction:t="error",constructorAction:r="error",safe:s}={}){let n=[e];for(;n.length;){let u=n;n=[];for(let i of u){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(s===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(s===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let a in i){let d=i[a];d&&typeof d=="object"&&n.push(d)}}}return e}function Wi(e,t,r){let s=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return EC(e,t,r)}finally{Error.stackTraceLimit=s}}function kW(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return EC(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}tr.exports=Wi;tr.exports.default=Wi;tr.exports.parse=Wi;tr.exports.safeParse=kW;tr.exports.scan=gC});var AC=o(kn=>{"use strict";Object.defineProperty(kn,Symbol.toStringTag,{value:"Module"});var eZ=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,tZ=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,rZ=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ji={Space_Separator:eZ,ID_Start:tZ,ID_Continue:rZ},sZ=e=>typeof e=="string"&&Ji.Space_Separator.test(e),Zi=e=>typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||Ji.ID_Start.test(e)),$i=e=>typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="\u200C"||e==="\u200D"||Ji.ID_Continue.test(e)),Ye=e=>typeof e=="string"&&/[0-9]/.test(e),nZ=e=>typeof e=="string"&&!/[^0-9]/.test(e),uZ=e=>typeof e=="string"&&/0x[0-9a-f]+$/i.test(e),wr=e=>typeof e=="string"&&/[0-9a-f]/i.test(e);function iZ(e,t,r){let s=String(e),n="start",u=[],i=0,a=1,d=0,h,f,_,p,E,x,P,C,g={default(){switch(C){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":m();return;case"/":m(),p="comment";return;case void 0:return m(),R("eof")}if(sZ(C)){m();return}return g[n]()},comment(){switch(C){case"*":m(),p="multiLineComment";return;case"/":m(),p="singleLineComment";return}throw T(m())},multiLineComment(){switch(C){case"*":m(),p="multiLineCommentAsterisk";return;case void 0:throw T(m())}m()},multiLineCommentAsterisk(){switch(C){case"*":m();return;case"/":m(),p="default";return;case void 0:throw T(m())}m(),p="multiLineComment"},singleLineComment(){switch(C){case`
`:case"\r":case"\u2028":case"\u2029":m(),p="default";return;case void 0:return m(),R("eof")}m()},value(){switch(C){case"{":case"[":return R("punctuator",m());case"n":return m(),N("ull"),R("null",null);case"t":return m(),N("rue"),R("boolean",!0);case"f":return m(),N("alse"),R("boolean",!1);case"-":case"+":m()==="-"&&(P=-1),p="sign";return;case".":E=m(),p="decimalPointLeading";return;case"0":E=m(),p="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":E=m(),p="decimalInteger";return;case"I":return m(),N("nfinity"),R("numeric",1/0);case"N":return m(),N("aN"),R("numeric",NaN);case'"':case"'":x=m()==='"',E="",p="string";return}throw T(m())},identifierNameStartEscape(){if(C!=="u")throw T(m());m();let M=F();switch(M){case"$":case"_":break;default:if(!Zi(M))throw G();break}E+=M,p="identifierName"},identifierName(){switch(C){case"$":case"_":case"\u200C":case"\u200D":E+=m();return;case"\\":m(),p="identifierNameEscape";return}if($i(C)){E+=m();return}return R("identifier",E)},identifierNameEscape(){if(C!=="u")throw T(m());m();let M=F();switch(M){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!$i(M))throw G();break}E+=M,p="identifierName"},sign(){switch(C){case".":E=m(),p="decimalPointLeading";return;case"0":E=m(),p="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":E=m(),p="decimalInteger";return;case"I":return m(),N("nfinity"),R("numeric",P*(1/0));case"N":return m(),N("aN"),R("numeric",NaN)}throw T(m())},zero(){switch(C){case".":E+=m(),p="decimalPoint";return;case"e":case"E":E+=m(),p="decimalExponent";return;case"x":case"X":E+=m(),p="hexadecimal";return;case"n":p="bigInt";return}return R("numeric",P*0)},decimalInteger(){switch(C){case".":E+=m(),p="decimalPoint";return;case"e":case"E":E+=m(),p="decimalExponent";return;case"n":p="bigInt";return}if(Ye(C)){E+=m();return}return w(P,E)},decimalPointLeading(){if(Ye(C)){E+=m(),p="decimalFraction";return}throw T(m())},decimalPoint(){switch(C){case"e":case"E":E+=m(),p="decimalExponent";return}if(Ye(C)){E+=m(),p="decimalFraction";return}return w(P,E)},decimalFraction(){switch(C){case"e":case"E":E+=m(),p="decimalExponent";return}if(Ye(C)){E+=m();return}return w(P,E)},decimalExponent(){switch(C){case"+":case"-":E+=m(),p="decimalExponentSign";return}if(Ye(C)){E+=m(),p="decimalExponentInteger";return}throw T(m())},decimalExponentSign(){if(Ye(C)){E+=m(),p="decimalExponentInteger";return}throw T(m())},decimalExponentInteger(){if(Ye(C)){E+=m();return}return w(P,E)},bigInt(){if(E?.length&&(nZ(E)||uZ(E)))return m(),R("bigint",BigInt(P)*BigInt(E));throw T(m())},hexadecimal(){if(wr(C)){E+=m(),p="hexadecimalInteger";return}throw T(m())},hexadecimalInteger(){if(wr(C)){E+=m();return}if(C==="n"){p="bigInt";return}return w(P,E)},string(){switch(C){case"\\":m(),E+=B();return;case'"':if(x)return m(),R("string",E);E+=m();return;case"'":if(!x)return m(),R("string",E);E+=m();return;case`
`:case"\r":throw T(m());case"\u2028":case"\u2029":fe(C);break;case void 0:throw T(m())}E+=m()},start(){switch(C){case"{":case"[":return R("punctuator",m());case void 0:return R("eof")}p="value"},beforePropertyName(){switch(C){case"$":case"_":E=m(),p="identifierName";return;case"\\":m(),p="identifierNameStartEscape";return;case"}":return R("punctuator",m());case'"':case"'":x=m()==='"',p="string";return}if(Zi(C)){E+=m(),p="identifierName";return}throw T(m())},afterPropertyName(){if(C===":")return R("punctuator",m());throw T(m())},beforePropertyValue(){p="value"},afterPropertyValue(){switch(C){case",":case"}":return R("punctuator",m())}throw T(m())},beforeArrayValue(){if(C==="]")return R("punctuator",m());p="value"},afterArrayValue(){switch(C){case",":case"]":return R("punctuator",m())}throw T(m())},end(){throw T(m())}},S={start(){if(h.type==="eof")throw v();L()},beforePropertyName(){switch(h.type){case"identifier":case"string":f=h.value,n="afterPropertyName";return;case"punctuator":D();return;case"eof":throw v()}},afterPropertyName(){if(h.type==="eof")throw v();n="beforePropertyValue"},beforePropertyValue(){if(h.type==="eof")throw v();L()},beforeArrayValue(){if(h.type==="eof")throw v();if(h.type==="punctuator"&&h.value==="]"){D();return}L()},afterPropertyValue(){if(h.type==="eof")throw v();switch(h.value){case",":n="beforePropertyName";return;case"}":D()}},afterArrayValue(){if(h.type==="eof")throw v();switch(h.value){case",":n="beforeArrayValue";return;case"]":D()}},end(){}};do h=I(),S[n]();while(h.type!=="eof");if(typeof t=="function")return q({"":_},"",t);return _;function q(M,H,ae){let se=M[H];if(se!=null&&typeof se=="object")if(Array.isArray(se))for(let qt=0;qt<se.length;qt++){let br=String(qt),YX=q(se,br,ae);Object.defineProperty(se,br,{value:YX,writable:!0,enumerable:!0,configurable:!0})}else for(let qt in se){let br=q(se,qt,ae);br===void 0?delete se[qt]:Object.defineProperty(se,qt,{value:br,writable:!0,enumerable:!0,configurable:!0})}return ae.call(M,H,se)}function I(){for(p="default",E="",x=!1,P=1;;){C=O();let M=g[p]();if(M)return M}}function O(){if(s[i])return String.fromCodePoint(s.codePointAt(i))}function m(){let M=O();return M===`
`?(a++,d=0):M?d+=M.length:d++,M&&(i+=M.length),M}function R(M,H){return{type:M,value:H,line:a,column:d}}function w(M,H){let ae=M*Number(H);if(r?.withLongNumerals&&(ae>Number.MAX_SAFE_INTEGER||ae<Number.MIN_SAFE_INTEGER))try{return R("bigint",BigInt(M)*BigInt(H))}catch(se){console.warn(se)}return R("numeric",ae)}function N(M){for(let H of M){if(O()!==H)throw T(m());m()}}function B(){switch(O()){case"b":return m(),"\b";case"f":return m(),"\f";case"n":return m(),`
`;case"r":return m(),"\r";case"t":return m(),"	";case"v":return m(),"\v";case"0":if(m(),Ye(O()))throw T(m());return"\0";case"x":return m(),z();case"u":return m(),F();case`
`:case"\u2028":case"\u2029":return m(),"";case"\r":return m(),O()===`
`&&m(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw T(m());case void 0:throw T(m())}return m()}function z(){let M="",H=O();if(!wr(H)||(M+=m(),H=O(),!wr(H)))throw T(m());return M+=m(),String.fromCodePoint(parseInt(M,16))}function F(){let M="",H=4;for(;H-- >0;){let ae=O();if(!wr(ae))throw T(m());M+=m()}return String.fromCodePoint(parseInt(M,16))}function L(){let M;switch(h.type){case"punctuator":switch(h.value){case"{":M={};break;case"[":M=[];break}break;case"null":case"boolean":case"numeric":case"string":case"bigint":M=h.value;break}if(_===void 0)_=M;else{let H=u[u.length-1];Array.isArray(H)?H.push(M):Object.defineProperty(H,f,{value:M,writable:!0,enumerable:!0,configurable:!0})}if(M!==null&&typeof M=="object")u.push(M),Array.isArray(M)?n="beforeArrayValue":n="beforePropertyName";else{let H=u[u.length-1];H==null?n="end":Array.isArray(H)?n="afterArrayValue":n="afterPropertyValue"}}function D(){u.pop();let M=u[u.length-1];M==null?n="end":Array.isArray(M)?n="afterArrayValue":n="afterPropertyValue"}function T(M){return Ae(M===void 0?`JSON11: invalid end of input at ${a}:${d}`:`JSON11: invalid character '${Q(M)}' at ${a}:${d}`)}function v(){return Ae(`JSON11: invalid end of input at ${a}:${d}`)}function G(){return d-=5,Ae(`JSON11: invalid identifier character at ${a}:${d}`)}function fe(M){console.warn(`JSON11: '${Q(M)}' in strings is not valid ECMAScript; consider escaping`)}function Q(M){let H={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(H[M])return H[M];if(M<" "){let ae=M.charCodeAt(0).toString(16);return"\\x"+("00"+ae).substring(ae.length)}return M}function Ae(M){let H=new SyntaxError(M);return Object.defineProperty(H,"lineNumber",{value:a,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(H,"columnNumber",{value:d,writable:!0,enumerable:!0,configurable:!0}),H}}function oZ(e,t,r,s){var n,u,i,a,d;let h=[],f="",_,p,E="",x,P,C,g=B,S="",q={"'":.1,'"':.2};if(t!=null&&typeof t=="object"&&!Array.isArray(t))E=m(t.space),t.trailingComma&&(S=","),x=(u=(n=t.quote)==null?void 0:n.trim)==null?void 0:u.call(n),t.quoteNames===!0&&(g=w),typeof t.replacer=="function"&&(p=t.replacer),P=t.withBigInt,C=t.withLegacyEscapes===!0;else{if(typeof t=="function")p=t;else if(Array.isArray(t)){_=[];let F=new Set;for(let L of t){let D=(i=L?.toString)==null?void 0:i.call(L);D!==void 0&&F.add(D)}_=[...F]}E=m(r),x=(d=(a=s?.quote)==null?void 0:a.trim)==null?void 0:d.call(a),s?.quoteNames===!0&&(g=w),P=s?.withBigInt,C=s?.withLegacyEscapes===!0,s?.trailingComma&&(S=",")}let I={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":C?"\\v":"\\u000b","\0":C?"\\0":"\\u0000","\u2028":"\\u2028","\u2029":"\\u2029"},O=C?"\\x00":"\\u0000";return R("",{"":e});function m(F){if(typeof F=="number"||F instanceof Number){let L=Number(F);if(isFinite(L)&&L>0)return" ".repeat(Math.min(10,Math.floor(L)))}else if(typeof F=="string"||F instanceof String)return F.substring(0,10);return""}function R(F,L){let D=L[F];switch(D!=null&&(typeof D.toJSON11=="function"?D=D.toJSON11(F):typeof D.toJSON5=="function"?D=D.toJSON5(F):typeof D.toJSON=="function"&&(D=D.toJSON(F))),p&&(D=p.call(L,F,D)),D instanceof Number?D=Number(D):D instanceof String?D=String(D):D instanceof Boolean&&(D=D.valueOf()),D){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof D=="string")return w(D);if(typeof D=="number")return String(D);if(typeof D=="bigint")return D.toString()+(P===!1?"":"n");if(typeof D=="object")return Array.isArray(D)?z(D):N(D)}function w(F){let L="";for(let T=0;T<F.length;T++){let v=F[T];switch(v){case"'":case'"':q[v]++,L+=v;continue;case"\0":if(Ye(F[T+1])){L+=O;continue}}if(I[v]){L+=I[v];continue}if(v<" "){let G=v.charCodeAt(0).toString(16);L+=C?"\\x"+("00"+G).substring(G.length):"\\u"+G.padStart(4,"0");continue}L+=v}let D=x||Object.keys(q).reduce((T,v)=>q[T]<q[v]?T:v);return L=L.replace(new RegExp(D,"g"),I[D]),D+L+D}function N(F){if(h.includes(F))throw TypeError("Converting circular structure to JSON11");h.push(F);let L=f;f=f+E;let D=_||Object.keys(F),T=[];for(let G of D){let fe=R(G,F);if(fe!==void 0){let Q=g(G)+":";E!==""&&(Q+=" "),Q+=fe,T.push(Q)}}let v;if(T.length===0)v="{}";else{let G;E===""?(G=T.join(","),v="{"+G+"}"):(G=T.join(`,
`+f),v=`{
`+f+G+S+`
`+L+"}")}return h.pop(),f=L,v}function B(F){if(F.length===0)return w(F);let L=String.fromCodePoint(F.codePointAt(0));if(!Zi(L))return w(F);for(let D=L.length;D<F.length;D++)if(!$i(String.fromCodePoint(F.codePointAt(D))))return w(F);return F}function z(F){if(h.includes(F))throw TypeError("Converting circular structure to JSON11");h.push(F);let L=f;f=f+E;let D=[];for(let v=0;v<F.length;v++){let G=R(String(v),F);D.push(G!==void 0?G:"null")}let T;if(D.length===0)T="[]";else if(E==="")T="["+D.join(",")+"]";else{let v=D.join(`,
`+f);T=`[
`+f+v+S+`
`+L+"]"}return h.pop(),f=L,T}}kn.parse=iZ;kn.stringify=oZ});var ki=o((U0e,DC)=>{"use strict";var{stringify:aZ}=require("querystring"),eu=Mt()("opensearch"),dZ=yC(),{SerializationError:SC,DeserializationError:lZ}=Ie(),tu=Symbol("secure json parse options"),RC=AC(),CC=typeof BigInt<"u",Qi=class{constructor(t={}){let r=t.disablePrototypePoisoningProtection;this[tu]={protoAction:r===!0||r==="proto"?"ignore":"error",constructorAction:r===!0||r==="constructor"?"ignore":"error",enableLongNumeralSupport:t.enableLongNumeralSupport===!0}}serialize(t){eu("Serializing",t);let r,s=!0,n=(i,a)=>typeof a=="bigint"?(s=!1,Number(a)):a,u=CC&&this[tu].enableLongNumeralSupport;try{if(r=JSON.stringify(t,u?n:null),u&&!s)try{let i=RC.stringify(t,{withBigInt:!1,quote:'"',quoteNames:!0});i&&(r=i)}catch{}}catch(i){throw new SC(i.message,t)}return r}deserialize(t){eu("Deserializing",t);let r,s=!0,n=(i,a)=>(s&&typeof a=="number"&&(a<Number.MIN_SAFE_INTEGER||a>Number.MAX_SAFE_INTEGER)&&(s=!1),a),u=CC&&this[tu].enableLongNumeralSupport;try{if(r=dZ.parse(t,u?n:null,this[tu]),u&&!s)try{let i=RC.parse(t,null,{withLongNumerals:!0});i&&(r=i)}catch{}}catch(i){throw new lZ(i.message,t)}return r}ndserialize(t){if(eu("ndserialize",t),Array.isArray(t)===!1)throw new SC("The argument provided is not an array",t);let r="";for(let s=0,n=t.length;s<n;s++)typeof t[s]=="string"?r+=t[s]+`
`:r+=this.serialize(t[s])+`
`;return r}qserialize(t){if(eu("qserialize",t),t==null)return"";if(typeof t=="string")return t;let r=Object.keys(t);for(let s=0,n=r.length;s<n;s++){let u=r[s];t[u]===void 0?delete t[u]:Array.isArray(t[u])===!0&&(t[u]=t[u].join(","))}return aZ(t)}};DC.exports=Qi});var l=o((Y0e,PC)=>{"use strict";var cZ={body:null,statusCode:null,headers:null,warnings:null},TC=Symbol("configuration error");function ru(){}function hZ(e){return e==null||e===""?null:encodeURIComponent(e)}function fZ(e,t,r){let s=new t[TC]("Missing required parameter: "+e);return r?(process.nextTick(r,s,cZ),{then:ru,catch:ru,abort:ru}):Promise.reject(s)}function _Z(e,t,r){return typeof t=="function"&&(r=t,t={}),(typeof e=="function"||e==null)&&(r=e,e={},t={}),[e,t,r]}function mZ(e=""){let t=process.memoryUsage();console.log(`Memory usage: ${e}
    RSS: ${Math.round(t.rss/1024/1024*100)/100} MB
    Heap Total: ${Math.round(t.heapTotal/1024/1024*100)/100} MB
    Heap Used: ${Math.round(t.heapUsed/1024/1024*100)/100} MB
    External: ${Math.round(t.external/1024/1024*100)/100} MB`)}PC.exports={handleMissingParam:fZ,parsePathParam:hZ,normalizeArguments:_Z,noop:ru,kConfigErr:TC,logMemoryUsage:mZ}});var OC=o((H0e,qC)=>{"use strict";var{normalizeArguments:pZ,parsePathParam:EZ,handleMissingParam:gZ}=l();function yZ(e,t,r){if([e,t,r]=pZ(e,t,r),e.id==null)return gZ("id",this,r);let{body:s,id:n,...u}=e;n=EZ(n);let i="/_plugins/_asynchronous_search/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}qC.exports=yZ});var IC=o((K0e,MC)=>{"use strict";var{normalizeArguments:AZ,parsePathParam:SZ,handleMissingParam:RZ}=l();function CZ(e,t,r){if([e,t,r]=AZ(e,t,r),e.id==null)return RZ("id",this,r);let{body:s,id:n,...u}=e;n=SZ(n);let i="/_plugins/_asynchronous_search/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}MC.exports=CZ});var LC=o((z0e,NC)=>{"use strict";var{normalizeArguments:DZ}=l();function TZ(e,t,r){[e,t,r]=DZ(e,t,r);let{body:s,...n}=e,u="/_plugins/_asynchronous_search",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}NC.exports=TZ});var vC=o((j0e,FC)=>{"use strict";var{normalizeArguments:PZ}=l();function qZ(e,t,r){[e,t,r]=PZ(e,t,r);let{body:s,...n}=e,u="/_plugins/_asynchronous_search/stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}FC.exports=qZ});var xC=o((V0e,bC)=>{"use strict";function OZ(e){this.delete=OC().bind(e),this.get=IC().bind(e),this.search=LC().bind(e),this.stats=vC().bind(e)}bC.exports=OZ});var BC=o((X0e,wC)=>{"use strict";var{normalizeArguments:MZ,parsePathParam:IZ}=l();function NZ(e,t,r){[e,t,r]=MZ(e,t,r);let{body:s,name:n,...u}=e;n=IZ(n);let i=["/_cat/aliases",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}wC.exports=NZ});var UC=o((W0e,GC)=>{"use strict";var{normalizeArguments:LZ,parsePathParam:FZ}=l();function vZ(e,t,r){[e,t,r]=LZ(e,t,r);let{body:s,node_id:n,...u}=e;n=FZ(n);let i=["/_cat/allocation",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}GC.exports=vZ});var eo=o((Z0e,YC)=>{"use strict";var{normalizeArguments:bZ}=l();function xZ(e,t,r){[e,t,r]=bZ(e,t,r);let{body:s,...n}=e,u="/_cat/pit_segments/_all",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}YC.exports=xZ});var to=o(($0e,HC)=>{"use strict";var{normalizeArguments:wZ}=l();function BZ(e,t,r){[e,t,r]=wZ(e,t,r);let{body:s,...n}=e,u="/_cat/cluster_manager",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}HC.exports=BZ});var zC=o((J0e,KC)=>{"use strict";var{normalizeArguments:GZ,parsePathParam:UZ}=l();function YZ(e,t,r){[e,t,r]=GZ(e,t,r);let{body:s,index:n,...u}=e;n=UZ(n);let i=["/_cat/count",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}KC.exports=YZ});var VC=o((Q0e,jC)=>{"use strict";var{normalizeArguments:HZ,parsePathParam:KZ}=l();function zZ(e,t,r){[e,t,r]=HZ(e,t,r);let{body:s,fields:n,...u}=e;n=KZ(n);let i=["/_cat/fielddata",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}jC.exports=zZ});var WC=o((k0e,XC)=>{"use strict";var{normalizeArguments:jZ}=l();function VZ(e,t,r){[e,t,r]=jZ(e,t,r);let{body:s,...n}=e,u="/_cat/health",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}XC.exports=VZ});var $C=o((eqe,ZC)=>{"use strict";var{normalizeArguments:XZ}=l();function WZ(e,t,r){[e,t,r]=XZ(e,t,r);let{body:s,...n}=e,u="/_cat",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}ZC.exports=WZ});var QC=o((tqe,JC)=>{"use strict";var{normalizeArguments:ZZ,parsePathParam:$Z}=l();function JZ(e,t,r){[e,t,r]=ZZ(e,t,r);let{body:s,index:n,...u}=e;n=$Z(n);let i=["/_cat/indices",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}JC.exports=JZ});var eD=o((rqe,kC)=>{"use strict";var{normalizeArguments:QZ}=l();function kZ(e,t,r){[e,t,r]=QZ(e,t,r);let{body:s,...n}=e,u="/_cat/master",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}kC.exports=kZ});var rD=o((sqe,tD)=>{"use strict";var{normalizeArguments:e$}=l();function t$(e,t,r){[e,t,r]=e$(e,t,r);let{body:s,...n}=e,u="/_cat/nodeattrs",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}tD.exports=t$});var nD=o((nqe,sD)=>{"use strict";var{normalizeArguments:r$}=l();function s$(e,t,r){[e,t,r]=r$(e,t,r);let{body:s,...n}=e,u="/_cat/nodes",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}sD.exports=s$});var ro=o((uqe,uD)=>{"use strict";var{normalizeArguments:n$}=l();function u$(e,t,r){[e,t,r]=n$(e,t,r);let{body:s,...n}=e,u="/_cat/pending_tasks",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}uD.exports=u$});var so=o((iqe,iD)=>{"use strict";var{normalizeArguments:i$}=l();function o$(e,t,r){[e,t,r]=i$(e,t,r);let{body:s,...n}=e,u="/_cat/pit_segments",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}iD.exports=o$});var aD=o((oqe,oD)=>{"use strict";var{normalizeArguments:a$}=l();function d$(e,t,r){[e,t,r]=a$(e,t,r);let{body:s,...n}=e,u="/_cat/plugins",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}oD.exports=d$});var lD=o((aqe,dD)=>{"use strict";var{normalizeArguments:l$,parsePathParam:c$}=l();function h$(e,t,r){[e,t,r]=l$(e,t,r);let{body:s,index:n,...u}=e;n=c$(n);let i=["/_cat/recovery",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}dD.exports=h$});var hD=o((dqe,cD)=>{"use strict";var{normalizeArguments:f$}=l();function _$(e,t,r){[e,t,r]=f$(e,t,r);let{body:s,...n}=e,u="/_cat/repositories",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}cD.exports=_$});var no=o((lqe,fD)=>{"use strict";var{normalizeArguments:m$,parsePathParam:p$}=l();function E$(e,t,r){[e,t,r]=m$(e,t,r);let{body:s,index:n,...u}=e;n=p$(n);let i=["/_cat/segment_replication",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fD.exports=E$});var mD=o((cqe,_D)=>{"use strict";var{normalizeArguments:g$,parsePathParam:y$}=l();function A$(e,t,r){[e,t,r]=g$(e,t,r);let{body:s,index:n,...u}=e;n=y$(n);let i=["/_cat/segments",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}_D.exports=A$});var ED=o((hqe,pD)=>{"use strict";var{normalizeArguments:S$,parsePathParam:R$}=l();function C$(e,t,r){[e,t,r]=S$(e,t,r);let{body:s,index:n,...u}=e;n=R$(n);let i=["/_cat/shards",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}pD.exports=C$});var yD=o((fqe,gD)=>{"use strict";var{normalizeArguments:D$,parsePathParam:T$}=l();function P$(e,t,r){[e,t,r]=D$(e,t,r);let{body:s,repository:n,...u}=e;n=T$(n);let i=["/_cat/snapshots",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}gD.exports=P$});var SD=o((_qe,AD)=>{"use strict";var{normalizeArguments:q$}=l();function O$(e,t,r){[e,t,r]=q$(e,t,r);let{body:s,...n}=e,u="/_cat/tasks",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}AD.exports=O$});var CD=o((mqe,RD)=>{"use strict";var{normalizeArguments:M$,parsePathParam:I$}=l();function N$(e,t,r){[e,t,r]=M$(e,t,r);let{body:s,name:n,...u}=e;n=I$(n);let i=["/_cat/templates",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}RD.exports=N$});var uo=o((pqe,DD)=>{"use strict";var{normalizeArguments:L$,parsePathParam:F$}=l();function v$(e,t,r){[e,t,r]=L$(e,t,r);let{body:s,thread_pool_patterns:n,...u}=e;n=F$(n);let i=["/_cat/thread_pool",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}DD.exports=v$});var PD=o((Eqe,TD)=>{"use strict";function b$(e){this.aliases=BC().bind(e),this.allocation=UC().bind(e),this.allPitSegments=eo().bind(e),this.clusterManager=to().bind(e),this.count=zC().bind(e),this.fielddata=VC().bind(e),this.health=WC().bind(e),this.help=$C().bind(e),this.indices=QC().bind(e),this.master=eD().bind(e),this.nodeattrs=rD().bind(e),this.nodes=nD().bind(e),this.pendingTasks=ro().bind(e),this.pitSegments=so().bind(e),this.plugins=aD().bind(e),this.recovery=lD().bind(e),this.repositories=hD().bind(e),this.segmentReplication=no().bind(e),this.segments=mD().bind(e),this.shards=ED().bind(e),this.snapshots=yD().bind(e),this.tasks=SD().bind(e),this.templates=CD().bind(e),this.threadPool=uo().bind(e),this.all_pit_segments=eo().bind(e),this.cluster_manager=to().bind(e),this.pending_tasks=ro().bind(e),this.pit_segments=so().bind(e),this.segment_replication=no().bind(e),this.thread_pool=uo().bind(e)}TD.exports=b$});var io=o((gqe,qD)=>{"use strict";var{normalizeArguments:x$}=l();function w$(e,t,r){[e,t,r]=x$(e,t,r);let{body:s,...n}=e,u="/_cluster/allocation/explain",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}qD.exports=w$});var oo=o((yqe,OD)=>{"use strict";var{normalizeArguments:B$,parsePathParam:G$,handleMissingParam:U$}=l();function Y$(e,t,r){if([e,t,r]=B$(e,t,r),e.name==null)return U$("name",this,r);let{body:s,name:n,...u}=e;n=G$(n);let i="/_component_template/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}OD.exports=Y$});var ao=o((Aqe,MD)=>{"use strict";var{normalizeArguments:H$}=l();function K$(e,t,r){[e,t,r]=H$(e,t,r);let{body:s,...n}=e,u="/_cluster/decommission/awareness",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}MD.exports=K$});var lo=o((Sqe,ID)=>{"use strict";var{normalizeArguments:z$}=l();function j$(e,t,r){[e,t,r]=z$(e,t,r);let{body:s,...n}=e,u="/_cluster/voting_config_exclusions",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}ID.exports=j$});var co=o((Rqe,ND)=>{"use strict";var{normalizeArguments:V$}=l();function X$(e,t,r){[e,t,r]=V$(e,t,r);let{body:s,...n}=e,u="/_cluster/routing/awareness/weights",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}ND.exports=X$});var ho=o((Cqe,LD)=>{"use strict";var{normalizeArguments:W$,parsePathParam:Z$,handleMissingParam:$$}=l();function J$(e,t,r){if([e,t,r]=W$(e,t,r),e.name==null)return $$("name",this,r);let{body:s,name:n,...u}=e;n=Z$(n);let i="/_component_template/"+n,a="HEAD";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}LD.exports=J$});var fo=o((Dqe,FD)=>{"use strict";var{normalizeArguments:Q$,parsePathParam:k$}=l();function eJ(e,t,r){[e,t,r]=Q$(e,t,r);let{body:s,name:n,...u}=e;n=k$(n);let i=["/_component_template",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}FD.exports=eJ});var _o=o((Tqe,vD)=>{"use strict";var{normalizeArguments:tJ,parsePathParam:rJ,handleMissingParam:sJ}=l();function nJ(e,t,r){if([e,t,r]=tJ(e,t,r),e.awareness_attribute_name==null)return sJ("awareness_attribute_name",this,r);let{body:s,awareness_attribute_name:n,...u}=e;n=rJ(n);let i="/_cluster/decommission/awareness/"+n+"/_status",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}vD.exports=nJ});var mo=o((Pqe,bD)=>{"use strict";var{normalizeArguments:uJ}=l();function iJ(e,t,r){[e,t,r]=uJ(e,t,r);let{body:s,...n}=e,u="/_cluster/settings",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}bD.exports=iJ});var po=o((qqe,xD)=>{"use strict";var{normalizeArguments:oJ,parsePathParam:aJ,handleMissingParam:dJ}=l();function lJ(e,t,r){if([e,t,r]=oJ(e,t,r),e.attribute==null)return dJ("attribute",this,r);let{body:s,attribute:n,...u}=e;n=aJ(n);let i="/_cluster/routing/awareness/"+n+"/weights",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}xD.exports=lJ});var BD=o((Oqe,wD)=>{"use strict";var{normalizeArguments:cJ,parsePathParam:hJ}=l();function fJ(e,t,r){[e,t,r]=cJ(e,t,r);let{body:s,index:n,...u}=e;n=hJ(n);let i=["/_cluster/health",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}wD.exports=fJ});var Eo=o((Mqe,GD)=>{"use strict";var{normalizeArguments:_J}=l();function mJ(e,t,r){[e,t,r]=_J(e,t,r);let{body:s,...n}=e,u="/_cluster/pending_tasks",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}GD.exports=mJ});var go=o((Iqe,UD)=>{"use strict";var{normalizeArguments:pJ}=l();function EJ(e,t,r){[e,t,r]=pJ(e,t,r);let{body:s,...n}=e,u="/_cluster/voting_config_exclusions",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}UD.exports=EJ});var yo=o((Nqe,HD)=>{"use strict";var{normalizeArguments:gJ,parsePathParam:yJ,handleMissingParam:YD}=l();function AJ(e,t,r){if([e,t,r]=gJ(e,t,r),e.name==null)return YD("name",this,r);if(e.body==null)return YD("body",this,r);let{body:s,name:n,...u}=e;n=yJ(n);let i="/_component_template/"+n;return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}HD.exports=AJ});var Ao=o((Lqe,jD)=>{"use strict";var{normalizeArguments:SJ,parsePathParam:KD,handleMissingParam:zD}=l();function RJ(e,t,r){if([e,t,r]=SJ(e,t,r),e.awareness_attribute_name==null)return zD("awareness_attribute_name",this,r);if(e.awareness_attribute_value==null)return zD("awareness_attribute_value",this,r);let{body:s,awareness_attribute_name:n,awareness_attribute_value:u,...i}=e;n=KD(n),u=KD(u);let a="/_cluster/decommission/awareness/"+n+"/"+u,d="PUT";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}jD.exports=RJ});var So=o((Fqe,VD)=>{"use strict";var{normalizeArguments:CJ,handleMissingParam:DJ}=l();function TJ(e,t,r){if([e,t,r]=CJ(e,t,r),e.body==null)return DJ("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_cluster/settings",querystring:n,body:s},t,r)}VD.exports=TJ});var Ro=o((vqe,XD)=>{"use strict";var{normalizeArguments:PJ,parsePathParam:qJ,handleMissingParam:OJ}=l();function MJ(e,t,r){if([e,t,r]=PJ(e,t,r),e.attribute==null)return OJ("attribute",this,r);let{body:s,attribute:n,...u}=e;n=qJ(n);let i="/_cluster/routing/awareness/"+n+"/weights",a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}XD.exports=MJ});var Co=o((bqe,WD)=>{"use strict";var{normalizeArguments:IJ}=l();function NJ(e,t,r){[e,t,r]=IJ(e,t,r);let{body:s,...n}=e,u="/_remote/info",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}WD.exports=NJ});var $D=o((xqe,ZD)=>{"use strict";var{normalizeArguments:LJ}=l();function FJ(e,t,r){[e,t,r]=LJ(e,t,r);let{body:s,...n}=e,u="/_cluster/reroute",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}ZD.exports=FJ});var kD=o((wqe,QD)=>{"use strict";var{normalizeArguments:vJ,parsePathParam:JD}=l();function bJ(e,t,r){[e,t,r]=vJ(e,t,r);let{body:s,metric:n,index:u,...i}=e;n=JD(n),u=JD(u);let a=["/_cluster/state",n,u].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}QD.exports=bJ});var tT=o((Bqe,eT)=>{"use strict";var{normalizeArguments:xJ,parsePathParam:Do}=l();function wJ(e,t,r){[e,t,r]=xJ(e,t,r);let{body:s,index_metric:n,metric:u,node_id:i,...a}=e;n=Do(n),u=Do(u),i=Do(i);let d;u!=null&&n!=null&&i!=null?d="/_cluster/stats/"+u+"/"+n+"/nodes/"+i:u!=null&&i!=null?d="/_cluster/stats/"+u+"/nodes/"+i:i!=null?d="/_cluster/stats/nodes/"+i:d="/_cluster/stats";let h="GET";return s=s||"",this.transport.request({method:h,path:d,querystring:a,body:s},t,r)}eT.exports=wJ});var sT=o((Gqe,rT)=>{"use strict";function BJ(e){this.allocationExplain=io().bind(e),this.deleteComponentTemplate=oo().bind(e),this.deleteDecommissionAwareness=ao().bind(e),this.deleteVotingConfigExclusions=lo().bind(e),this.deleteWeightedRouting=co().bind(e),this.existsComponentTemplate=ho().bind(e),this.getComponentTemplate=fo().bind(e),this.getDecommissionAwareness=_o().bind(e),this.getSettings=mo().bind(e),this.getWeightedRouting=po().bind(e),this.health=BD().bind(e),this.pendingTasks=Eo().bind(e),this.postVotingConfigExclusions=go().bind(e),this.putComponentTemplate=yo().bind(e),this.putDecommissionAwareness=Ao().bind(e),this.putSettings=So().bind(e),this.putWeightedRouting=Ro().bind(e),this.remoteInfo=Co().bind(e),this.reroute=$D().bind(e),this.state=kD().bind(e),this.stats=tT().bind(e),this.allocation_explain=io().bind(e),this.delete_component_template=oo().bind(e),this.delete_decommission_awareness=ao().bind(e),this.delete_voting_config_exclusions=lo().bind(e),this.delete_weighted_routing=co().bind(e),this.exists_component_template=ho().bind(e),this.get_component_template=fo().bind(e),this.get_decommission_awareness=_o().bind(e),this.get_settings=mo().bind(e),this.get_weighted_routing=po().bind(e),this.pending_tasks=Eo().bind(e),this.post_voting_config_exclusions=go().bind(e),this.put_component_template=yo().bind(e),this.put_decommission_awareness=Ao().bind(e),this.put_settings=So().bind(e),this.put_weighted_routing=Ro().bind(e),this.remote_info=Co().bind(e)}rT.exports=BJ});var To=o((Uqe,uT)=>{"use strict";var{normalizeArguments:GJ,parsePathParam:UJ,handleMissingParam:nT}=l();function YJ(e,t,r){if([e,t,r]=GJ(e,t,r),e.accept_data_loss==null)return nT("accept_data_loss",this,r);if(e.index_uuid==null)return nT("index_uuid",this,r);let{body:s,index_uuid:n,...u}=e;n=UJ(n);let i="/_dangling/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}uT.exports=YJ});var Po=o((Yqe,oT)=>{"use strict";var{normalizeArguments:HJ,parsePathParam:KJ,handleMissingParam:iT}=l();function zJ(e,t,r){if([e,t,r]=HJ(e,t,r),e.accept_data_loss==null)return iT("accept_data_loss",this,r);if(e.index_uuid==null)return iT("index_uuid",this,r);let{body:s,index_uuid:n,...u}=e;n=KJ(n);let i="/_dangling/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}oT.exports=zJ});var qo=o((Hqe,aT)=>{"use strict";var{normalizeArguments:jJ}=l();function VJ(e,t,r){[e,t,r]=jJ(e,t,r);let{body:s,...n}=e,u="/_dangling",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}aT.exports=VJ});var lT=o((Kqe,dT)=>{"use strict";function XJ(e){this.deleteDanglingIndex=To().bind(e),this.importDanglingIndex=Po().bind(e),this.listDanglingIndices=qo().bind(e),this.delete_dangling_index=To().bind(e),this.import_dangling_index=Po().bind(e),this.list_dangling_indices=qo().bind(e)}dT.exports=XJ});var hT=o((zqe,cT)=>{"use strict";var{normalizeArguments:WJ}=l();function ZJ(e,t,r){[e,t,r]=WJ(e,t,r);let{body:s,...n}=e,u="/_plugins/_flow_framework/workflow",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}cT.exports=ZJ});var _T=o((jqe,fT)=>{"use strict";var{normalizeArguments:$J,parsePathParam:JJ,handleMissingParam:QJ}=l();function kJ(e,t,r){if([e,t,r]=$J(e,t,r),e.workflow_id==null)return QJ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=JJ(n);let i="/_plugins/_flow_framework/workflow/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fT.exports=kJ});var pT=o((Vqe,mT)=>{"use strict";var{normalizeArguments:eQ,parsePathParam:tQ,handleMissingParam:rQ}=l();function sQ(e,t,r){if([e,t,r]=eQ(e,t,r),e.workflow_id==null)return rQ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=tQ(n);let i="/_plugins/_flow_framework/workflow/"+n+"/_deprovision",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}mT.exports=sQ});var gT=o((Xqe,ET)=>{"use strict";var{normalizeArguments:nQ,parsePathParam:uQ,handleMissingParam:iQ}=l();function oQ(e,t,r){if([e,t,r]=nQ(e,t,r),e.workflow_id==null)return iQ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=uQ(n);let i="/_plugins/_flow_framework/workflow/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}ET.exports=oQ});var Oo=o((Wqe,yT)=>{"use strict";var{normalizeArguments:aQ,parsePathParam:dQ,handleMissingParam:lQ}=l();function cQ(e,t,r){if([e,t,r]=aQ(e,t,r),e.workflow_id==null)return lQ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=dQ(n);let i="/_plugins/_flow_framework/workflow/"+n+"/_status",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yT.exports=cQ});var Mo=o((Zqe,AT)=>{"use strict";var{normalizeArguments:hQ}=l();function fQ(e,t,r){[e,t,r]=hQ(e,t,r);let{body:s,...n}=e,u="/_plugins/_flow_framework/workflow/_steps",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}AT.exports=fQ});var RT=o(($qe,ST)=>{"use strict";var{normalizeArguments:_Q,parsePathParam:mQ,handleMissingParam:pQ}=l();function EQ(e,t,r){if([e,t,r]=_Q(e,t,r),e.workflow_id==null)return pQ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=mQ(n);let i="/_plugins/_flow_framework/workflow/"+n+"/_provision",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}ST.exports=EQ});var DT=o((Jqe,CT)=>{"use strict";var{normalizeArguments:gQ,handleMissingParam:yQ}=l();function AQ(e,t,r){if([e,t,r]=gQ(e,t,r),e.body==null)return yQ("body",this,r);let{body:s,...n}=e,u="/_plugins/_flow_framework/workflow/_search",i=s?"POST":"GET";return this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}CT.exports=AQ});var Io=o((Qqe,TT)=>{"use strict";var{normalizeArguments:SQ,handleMissingParam:RQ}=l();function CQ(e,t,r){if([e,t,r]=SQ(e,t,r),e.body==null)return RQ("body",this,r);let{body:s,...n}=e,u="/_plugins/_flow_framework/workflow/state/_search",i=s?"POST":"GET";return this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}TT.exports=CQ});var qT=o((kqe,PT)=>{"use strict";var{normalizeArguments:DQ,parsePathParam:TQ,handleMissingParam:PQ}=l();function qQ(e,t,r){if([e,t,r]=DQ(e,t,r),e.workflow_id==null)return PQ("workflow_id",this,r);let{body:s,workflow_id:n,...u}=e;n=TQ(n);let i="/_plugins/_flow_framework/workflow/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}PT.exports=qQ});var MT=o((eOe,OT)=>{"use strict";function OQ(e){this.create=hT().bind(e),this.delete=_T().bind(e),this.deprovision=pT().bind(e),this.get=gT().bind(e),this.getStatus=Oo().bind(e),this.getSteps=Mo().bind(e),this.provision=RT().bind(e),this.search=DT().bind(e),this.searchState=Io().bind(e),this.update=qT().bind(e),this.get_status=Oo().bind(e),this.get_steps=Mo().bind(e),this.search_state=Io().bind(e)}OT.exports=OQ});var NT=o((tOe,IT)=>{"use strict";var{normalizeArguments:MQ,handleMissingParam:IQ}=l();function NQ(e,t,r){if([e,t,r]=MQ(e,t,r),e.path==null)return IQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"CONNECT"},t,r)}IT.exports=NQ});var FT=o((rOe,LT)=>{"use strict";var{normalizeArguments:LQ,handleMissingParam:FQ}=l();function vQ(e,t,r){if([e,t,r]=LQ(e,t,r),e.path==null)return FQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"DELETE"},t,r)}LT.exports=vQ});var bT=o((sOe,vT)=>{"use strict";var{normalizeArguments:bQ,handleMissingParam:xQ}=l();function wQ(e,t,r){if([e,t,r]=bQ(e,t,r),e.path==null)return xQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"GET"},t,r)}vT.exports=wQ});var wT=o((nOe,xT)=>{"use strict";var{normalizeArguments:BQ,handleMissingParam:GQ}=l();function UQ(e,t,r){if([e,t,r]=BQ(e,t,r),e.path==null)return GQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"HEAD"},t,r)}xT.exports=UQ});var GT=o((uOe,BT)=>{"use strict";var{normalizeArguments:YQ,handleMissingParam:HQ}=l();function KQ(e,t,r){if([e,t,r]=YQ(e,t,r),e.path==null)return HQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"OPTIONS"},t,r)}BT.exports=KQ});var YT=o((iOe,UT)=>{"use strict";var{normalizeArguments:zQ,handleMissingParam:jQ}=l();function VQ(e,t,r){if([e,t,r]=zQ(e,t,r),e.path==null)return jQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"PATCH"},t,r)}UT.exports=VQ});var KT=o((oOe,HT)=>{"use strict";var{normalizeArguments:XQ,handleMissingParam:WQ}=l();function ZQ(e,t,r){if([e,t,r]=XQ(e,t,r),e.path==null)return WQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"POST"},t,r)}HT.exports=ZQ});var jT=o((aOe,zT)=>{"use strict";var{normalizeArguments:$Q,handleMissingParam:JQ}=l();function QQ(e,t,r){if([e,t,r]=$Q(e,t,r),e.path==null)return JQ("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"PUT"},t,r)}zT.exports=QQ});var XT=o((dOe,VT)=>{"use strict";var{normalizeArguments:kQ,handleMissingParam:ek}=l();function tk(e,t,r){if([e,t,r]=kQ(e,t,r),e.path==null)return ek("path",this,r);if(Array.isArray(e.body)){let{path:s,querystring:n,headers:u,body:i}=e;e={path:s,querystring:n,headers:u,bulkBody:i}}return t=t||{},t.headers=e.headers||t.headers,this.transport.request({...e,method:"TRACE"},t,r)}VT.exports=tk});var ZT=o((lOe,WT)=>{"use strict";function rk(e){this.connect=NT().bind(e),this.delete=FT().bind(e),this.get=bT().bind(e),this.head=wT().bind(e),this.options=GT().bind(e),this.patch=YT().bind(e),this.post=KT().bind(e),this.put=jT().bind(e),this.trace=XT().bind(e)}WT.exports=rk});var No=o((cOe,QT)=>{"use strict";var{normalizeArguments:sk,parsePathParam:$T,handleMissingParam:JT}=l();function nk(e,t,r){if([e,t,r]=sk(e,t,r),e.block==null)return JT("block",this,r);if(e.index==null)return JT("index",this,r);let{body:s,block:n,index:u,...i}=e;n=$T(n),u=$T(u);let a="/"+u+"/_block/"+n,d="PUT";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}QT.exports=nk});var eP=o((hOe,kT)=>{"use strict";var{normalizeArguments:uk,parsePathParam:ik}=l();function ok(e,t,r){[e,t,r]=uk(e,t,r);let{body:s,index:n,...u}=e;n=ik(n);let i=["",n,"_analyze"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}kT.exports=ok});var Lo=o((fOe,tP)=>{"use strict";var{normalizeArguments:ak,parsePathParam:dk}=l();function lk(e,t,r){[e,t,r]=ak(e,t,r);let{body:s,index:n,...u}=e;n=dk(n);let i=["",n,"_cache/clear"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}tP.exports=lk});var uP=o((_Oe,nP)=>{"use strict";var{normalizeArguments:ck,parsePathParam:rP,handleMissingParam:sP}=l();function hk(e,t,r){if([e,t,r]=ck(e,t,r),e.index==null)return sP("index",this,r);if(e.target==null)return sP("target",this,r);let{body:s,index:n,target:u,...i}=e;n=rP(n),u=rP(u);let a="/"+n+"/_clone/"+u,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}nP.exports=hk});var oP=o((mOe,iP)=>{"use strict";var{normalizeArguments:fk,parsePathParam:_k,handleMissingParam:mk}=l();function pk(e,t,r){if([e,t,r]=fk(e,t,r),e.index==null)return mk("index",this,r);let{body:s,index:n,...u}=e;n=_k(n);let i="/"+n+"/_close",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}iP.exports=pk});var dP=o((pOe,aP)=>{"use strict";var{normalizeArguments:Ek,parsePathParam:gk,handleMissingParam:yk}=l();function Ak(e,t,r){if([e,t,r]=Ek(e,t,r),e.index==null)return yk("index",this,r);let{body:s,index:n,...u}=e;n=gk(n);let i="/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}aP.exports=Ak});var Fo=o((EOe,lP)=>{"use strict";var{normalizeArguments:Sk,parsePathParam:Rk,handleMissingParam:Ck}=l();function Dk(e,t,r){if([e,t,r]=Sk(e,t,r),e.name==null)return Ck("name",this,r);let{body:s,name:n,...u}=e;n=Rk(n);let i="/_data_stream/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}lP.exports=Dk});var vo=o((gOe,cP)=>{"use strict";var{normalizeArguments:Tk,parsePathParam:Pk}=l();function qk(e,t,r){[e,t,r]=Tk(e,t,r);let{body:s,name:n,...u}=e;n=Pk(n);let i=["/_data_stream",n,"_stats"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cP.exports=qk});var fP=o((yOe,hP)=>{"use strict";var{normalizeArguments:Ok,parsePathParam:Mk,handleMissingParam:Ik}=l();function Nk(e,t,r){if([e,t,r]=Ok(e,t,r),e.index==null)return Ik("index",this,r);let{body:s,index:n,...u}=e;n=Mk(n);let i="/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}hP.exports=Nk});var bo=o((AOe,pP)=>{"use strict";var{normalizeArguments:Lk,parsePathParam:_P,handleMissingParam:mP}=l();function Fk(e,t,r){if([e,t,r]=Lk(e,t,r),e.index==null)return mP("index",this,r);if(e.name==null)return mP("name",this,r);let{body:s,index:n,name:u,...i}=e;n=_P(n),u=_P(u);let a="/"+n+"/_alias/"+u,d="DELETE";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}pP.exports=Fk});var xo=o((SOe,EP)=>{"use strict";var{normalizeArguments:vk,parsePathParam:bk,handleMissingParam:xk}=l();function wk(e,t,r){if([e,t,r]=vk(e,t,r),e.name==null)return xk("name",this,r);let{body:s,name:n,...u}=e;n=bk(n);let i="/_data_stream/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}EP.exports=wk});var wo=o((ROe,gP)=>{"use strict";var{normalizeArguments:Bk,parsePathParam:Gk,handleMissingParam:Uk}=l();function Yk(e,t,r){if([e,t,r]=Bk(e,t,r),e.name==null)return Uk("name",this,r);let{body:s,name:n,...u}=e;n=Gk(n);let i="/_index_template/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}gP.exports=Yk});var Bo=o((COe,yP)=>{"use strict";var{normalizeArguments:Hk,parsePathParam:Kk,handleMissingParam:zk}=l();function jk(e,t,r){if([e,t,r]=Hk(e,t,r),e.name==null)return zk("name",this,r);let{body:s,name:n,...u}=e;n=Kk(n);let i="/_template/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yP.exports=jk});var SP=o((DOe,AP)=>{"use strict";var{normalizeArguments:Vk,parsePathParam:Xk,handleMissingParam:Wk}=l();function Zk(e,t,r){if([e,t,r]=Vk(e,t,r),e.index==null)return Wk("index",this,r);let{body:s,index:n,...u}=e;n=Xk(n);let i="/"+n,a="HEAD";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}AP.exports=Zk});var Go=o((TOe,CP)=>{"use strict";var{normalizeArguments:$k,parsePathParam:RP,handleMissingParam:Jk}=l();function Qk(e,t,r){if([e,t,r]=$k(e,t,r),e.name==null)return Jk("name",this,r);let{body:s,name:n,index:u,...i}=e;n=RP(n),u=RP(u);let a=["",u,"_alias",n].filter(h=>h!=null).join("/"),d="HEAD";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}CP.exports=Qk});var Uo=o((POe,DP)=>{"use strict";var{normalizeArguments:kk,parsePathParam:eee,handleMissingParam:tee}=l();function ree(e,t,r){if([e,t,r]=kk(e,t,r),e.name==null)return tee("name",this,r);let{body:s,name:n,...u}=e;n=eee(n);let i="/_index_template/"+n,a="HEAD";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}DP.exports=ree});var Yo=o((qOe,TP)=>{"use strict";var{normalizeArguments:see,parsePathParam:nee,handleMissingParam:uee}=l();function iee(e,t,r){if([e,t,r]=see(e,t,r),e.name==null)return uee("name",this,r);let{body:s,name:n,...u}=e;n=nee(n);let i="/_template/"+n,a="HEAD";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}TP.exports=iee});var qP=o((OOe,PP)=>{"use strict";var{normalizeArguments:oee,parsePathParam:aee}=l();function dee(e,t,r){[e,t,r]=oee(e,t,r);let{body:s,index:n,...u}=e;n=aee(n);let i=["",n,"_flush"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}PP.exports=dee});var MP=o((MOe,OP)=>{"use strict";var{normalizeArguments:lee,parsePathParam:cee}=l();function hee(e,t,r){[e,t,r]=lee(e,t,r);let{body:s,index:n,...u}=e;n=cee(n);let i=["",n,"_forcemerge"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}OP.exports=hee});var NP=o((IOe,IP)=>{"use strict";var{normalizeArguments:fee,parsePathParam:_ee,handleMissingParam:mee}=l();function pee(e,t,r){if([e,t,r]=fee(e,t,r),e.index==null)return mee("index",this,r);let{body:s,index:n,...u}=e;n=_ee(n);let i="/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}IP.exports=pee});var Ho=o((NOe,FP)=>{"use strict";var{normalizeArguments:Eee,parsePathParam:LP}=l();function gee(e,t,r){[e,t,r]=Eee(e,t,r);let{body:s,name:n,index:u,...i}=e;n=LP(n),u=LP(u);let a=["",u,"_alias",n].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}FP.exports=gee});var Ko=o((LOe,vP)=>{"use strict";var{normalizeArguments:yee,parsePathParam:Aee}=l();function See(e,t,r){[e,t,r]=yee(e,t,r);let{body:s,name:n,...u}=e;n=Aee(n);let i=["/_data_stream",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}vP.exports=See});var zo=o((FOe,xP)=>{"use strict";var{normalizeArguments:Ree,parsePathParam:bP,handleMissingParam:Cee}=l();function Dee(e,t,r){if([e,t,r]=Ree(e,t,r),e.fields==null)return Cee("fields",this,r);let{body:s,fields:n,index:u,...i}=e;n=bP(n),u=bP(u);let a=["",u,"_mapping/field",n].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}xP.exports=Dee});var jo=o((vOe,wP)=>{"use strict";var{normalizeArguments:Tee,parsePathParam:Pee}=l();function qee(e,t,r){[e,t,r]=Tee(e,t,r);let{body:s,name:n,...u}=e;n=Pee(n);let i=["/_index_template",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}wP.exports=qee});var Vo=o((bOe,BP)=>{"use strict";var{normalizeArguments:Oee,parsePathParam:Mee}=l();function Iee(e,t,r){[e,t,r]=Oee(e,t,r);let{body:s,index:n,...u}=e;n=Mee(n);let i=["",n,"_mapping"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}BP.exports=Iee});var Xo=o((xOe,UP)=>{"use strict";var{normalizeArguments:Nee,parsePathParam:GP}=l();function Lee(e,t,r){[e,t,r]=Nee(e,t,r);let{body:s,name:n,index:u,...i}=e;n=GP(n),u=GP(u);let a=["",u,"_settings",n].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}UP.exports=Lee});var Wo=o((wOe,YP)=>{"use strict";var{normalizeArguments:Fee,parsePathParam:vee}=l();function bee(e,t,r){[e,t,r]=Fee(e,t,r);let{body:s,name:n,...u}=e;n=vee(n);let i=["/_template",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}YP.exports=bee});var Zo=o((BOe,HP)=>{"use strict";var{normalizeArguments:xee,parsePathParam:wee}=l();function Bee(e,t,r){[e,t,r]=xee(e,t,r);let{body:s,index:n,...u}=e;n=wee(n);let i=["",n,"_upgrade"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}HP.exports=Bee});var zP=o((GOe,KP)=>{"use strict";var{normalizeArguments:Gee,parsePathParam:Uee,handleMissingParam:Yee}=l();function Hee(e,t,r){if([e,t,r]=Gee(e,t,r),e.index==null)return Yee("index",this,r);let{body:s,index:n,...u}=e;n=Uee(n);let i="/"+n+"/_open",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}KP.exports=Hee});var $o=o((UOe,VP)=>{"use strict";var{normalizeArguments:Kee,parsePathParam:jP}=l();function zee(e,t,r){[e,t,r]=Kee(e,t,r);let{body:s,name:n,index:u,...i}=e;n=jP(n),u=jP(u);let a=["",u,"_alias",n].filter(h=>h!=null).join("/"),d=n==null?"POST":"PUT";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}VP.exports=zee});var Jo=o((YOe,WP)=>{"use strict";var{normalizeArguments:jee,parsePathParam:Vee,handleMissingParam:XP}=l();function Xee(e,t,r){if([e,t,r]=jee(e,t,r),e.name==null)return XP("name",this,r);if(e.body==null)return XP("body",this,r);let{body:s,name:n,...u}=e;n=Vee(n);let i="/_index_template/"+n;return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}WP.exports=Xee});var Qo=o((HOe,$P)=>{"use strict";var{normalizeArguments:Wee,parsePathParam:Zee,handleMissingParam:ZP}=l();function $ee(e,t,r){if([e,t,r]=Wee(e,t,r),e.index==null)return ZP("index",this,r);if(e.body==null)return ZP("body",this,r);let{body:s,index:n,...u}=e;n=Zee(n);let i="/"+n+"/_mapping";return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}$P.exports=$ee});var ko=o((KOe,JP)=>{"use strict";var{normalizeArguments:Jee,parsePathParam:Qee,handleMissingParam:kee}=l();function ete(e,t,r){if([e,t,r]=Jee(e,t,r),e.body==null)return kee("body",this,r);let{body:s,index:n,...u}=e;n=Qee(n);let i=["",n,"_settings"].filter(d=>d!=null).join("/");return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}JP.exports=ete});var ea=o((zOe,kP)=>{"use strict";var{normalizeArguments:tte,parsePathParam:rte,handleMissingParam:QP}=l();function ste(e,t,r){if([e,t,r]=tte(e,t,r),e.name==null)return QP("name",this,r);if(e.body==null)return QP("body",this,r);let{body:s,name:n,...u}=e;n=rte(n);let i="/_template/"+n;return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}kP.exports=ste});var t0=o((jOe,e0)=>{"use strict";var{normalizeArguments:nte,parsePathParam:ute}=l();function ite(e,t,r){[e,t,r]=nte(e,t,r);let{body:s,index:n,...u}=e;n=ute(n);let i=["",n,"_recovery"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}e0.exports=ite});var s0=o((VOe,r0)=>{"use strict";var{normalizeArguments:ote,parsePathParam:ate}=l();function dte(e,t,r){[e,t,r]=ote(e,t,r);let{body:s,index:n,...u}=e;n=ate(n);let i=["",n,"_refresh"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}r0.exports=dte});var ta=o((XOe,n0)=>{"use strict";var{normalizeArguments:lte,parsePathParam:cte,handleMissingParam:hte}=l();function fte(e,t,r){if([e,t,r]=lte(e,t,r),e.name==null)return hte("name",this,r);let{body:s,name:n,...u}=e;n=cte(n);let i="/_resolve/index/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}n0.exports=fte});var o0=o((WOe,i0)=>{"use strict";var{normalizeArguments:_te,parsePathParam:u0,handleMissingParam:mte}=l();function pte(e,t,r){if([e,t,r]=_te(e,t,r),e.alias==null)return mte("alias",this,r);let{body:s,alias:n,new_index:u,...i}=e;n=u0(n),u=u0(u);let a=["",n,"_rollover",u].filter(h=>h!=null).join("/"),d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}i0.exports=pte});var d0=o((ZOe,a0)=>{"use strict";var{normalizeArguments:Ete,parsePathParam:gte}=l();function yte(e,t,r){[e,t,r]=Ete(e,t,r);let{body:s,index:n,...u}=e;n=gte(n);let i=["",n,"_segments"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}a0.exports=yte});var ra=o(($Oe,l0)=>{"use strict";var{normalizeArguments:Ate,parsePathParam:Ste}=l();function Rte(e,t,r){[e,t,r]=Ate(e,t,r);let{body:s,index:n,...u}=e;n=Ste(n);let i=["",n,"_shard_stores"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}l0.exports=Rte});var _0=o((JOe,f0)=>{"use strict";var{normalizeArguments:Cte,parsePathParam:c0,handleMissingParam:h0}=l();function Dte(e,t,r){if([e,t,r]=Cte(e,t,r),e.index==null)return h0("index",this,r);if(e.target==null)return h0("target",this,r);let{body:s,index:n,target:u,...i}=e;n=c0(n),u=c0(u);let a="/"+n+"/_shrink/"+u,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}f0.exports=Dte});var sa=o((QOe,m0)=>{"use strict";var{normalizeArguments:Tte,parsePathParam:Pte,handleMissingParam:qte}=l();function Ote(e,t,r){if([e,t,r]=Tte(e,t,r),e.name==null)return qte("name",this,r);let{body:s,name:n,...u}=e;n=Pte(n);let i="/_index_template/_simulate_index/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}m0.exports=Ote});var na=o((kOe,p0)=>{"use strict";var{normalizeArguments:Mte,parsePathParam:Ite}=l();function Nte(e,t,r){[e,t,r]=Mte(e,t,r);let{body:s,name:n,...u}=e;n=Ite(n);let i=["/_index_template/_simulate",n].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}p0.exports=Nte});var A0=o((eMe,y0)=>{"use strict";var{normalizeArguments:Lte,parsePathParam:E0,handleMissingParam:g0}=l();function Fte(e,t,r){if([e,t,r]=Lte(e,t,r),e.index==null)return g0("index",this,r);if(e.target==null)return g0("target",this,r);let{body:s,index:n,target:u,...i}=e;n=E0(n),u=E0(u);let a="/"+n+"/_split/"+u,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}y0.exports=Fte});var C0=o((tMe,R0)=>{"use strict";var{normalizeArguments:vte,parsePathParam:S0}=l();function bte(e,t,r){[e,t,r]=vte(e,t,r);let{body:s,metric:n,index:u,...i}=e;n=S0(n),u=S0(u);let a=["",u,"_stats",n].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}R0.exports=bte});var ua=o((rMe,D0)=>{"use strict";var{normalizeArguments:xte,handleMissingParam:wte}=l();function Bte(e,t,r){if([e,t,r]=xte(e,t,r),e.body==null)return wte("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_aliases",querystring:n,body:s},t,r)}D0.exports=Bte});var P0=o((sMe,T0)=>{"use strict";var{normalizeArguments:Gte,parsePathParam:Ute}=l();function Yte(e,t,r){[e,t,r]=Gte(e,t,r);let{body:s,index:n,...u}=e;n=Ute(n);let i=["",n,"_upgrade"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}T0.exports=Yte});var ia=o((nMe,q0)=>{"use strict";var{normalizeArguments:Hte,parsePathParam:Kte}=l();function zte(e,t,r){[e,t,r]=Hte(e,t,r);let{body:s,index:n,...u}=e;n=Kte(n);let i=["",n,"_validate/query"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}q0.exports=zte});var M0=o((uMe,O0)=>{"use strict";function jte(e){this.addBlock=No().bind(e),this.analyze=eP().bind(e),this.clearCache=Lo().bind(e),this.clone=uP().bind(e),this.close=oP().bind(e),this.create=dP().bind(e),this.createDataStream=Fo().bind(e),this.dataStreamsStats=vo().bind(e),this.delete=fP().bind(e),this.deleteAlias=bo().bind(e),this.deleteDataStream=xo().bind(e),this.deleteIndexTemplate=wo().bind(e),this.deleteTemplate=Bo().bind(e),this.exists=SP().bind(e),this.existsAlias=Go().bind(e),this.existsIndexTemplate=Uo().bind(e),this.existsTemplate=Yo().bind(e),this.flush=qP().bind(e),this.forcemerge=MP().bind(e),this.get=NP().bind(e),this.getAlias=Ho().bind(e),this.getDataStream=Ko().bind(e),this.getFieldMapping=zo().bind(e),this.getIndexTemplate=jo().bind(e),this.getMapping=Vo().bind(e),this.getSettings=Xo().bind(e),this.getTemplate=Wo().bind(e),this.getUpgrade=Zo().bind(e),this.open=zP().bind(e),this.putAlias=$o().bind(e),this.putIndexTemplate=Jo().bind(e),this.putMapping=Qo().bind(e),this.putSettings=ko().bind(e),this.putTemplate=ea().bind(e),this.recovery=t0().bind(e),this.refresh=s0().bind(e),this.resolveIndex=ta().bind(e),this.rollover=o0().bind(e),this.segments=d0().bind(e),this.shardStores=ra().bind(e),this.shrink=_0().bind(e),this.simulateIndexTemplate=sa().bind(e),this.simulateTemplate=na().bind(e),this.split=A0().bind(e),this.stats=C0().bind(e),this.updateAliases=ua().bind(e),this.upgrade=P0().bind(e),this.validateQuery=ia().bind(e),this.add_block=No().bind(e),this.clear_cache=Lo().bind(e),this.create_data_stream=Fo().bind(e),this.data_streams_stats=vo().bind(e),this.delete_alias=bo().bind(e),this.delete_data_stream=xo().bind(e),this.delete_index_template=wo().bind(e),this.delete_template=Bo().bind(e),this.exists_alias=Go().bind(e),this.exists_index_template=Uo().bind(e),this.exists_template=Yo().bind(e),this.get_alias=Ho().bind(e),this.get_data_stream=Ko().bind(e),this.get_field_mapping=zo().bind(e),this.get_index_template=jo().bind(e),this.get_mapping=Vo().bind(e),this.get_settings=Xo().bind(e),this.get_template=Wo().bind(e),this.get_upgrade=Zo().bind(e),this.put_alias=$o().bind(e),this.put_index_template=Jo().bind(e),this.put_mapping=Qo().bind(e),this.put_settings=ko().bind(e),this.put_template=ea().bind(e),this.resolve_index=ta().bind(e),this.shard_stores=ra().bind(e),this.simulate_index_template=sa().bind(e),this.simulate_template=na().bind(e),this.update_aliases=ua().bind(e),this.validate_query=ia().bind(e)}O0.exports=jte});var oa=o((iMe,I0)=>{"use strict";var{normalizeArguments:Vte,parsePathParam:Xte,handleMissingParam:Wte}=l();function Zte(e,t,r){if([e,t,r]=Vte(e,t,r),e.id==null)return Wte("id",this,r);let{body:s,id:n,...u}=e;n=Xte(n);let i="/_ingest/pipeline/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}I0.exports=Zte});var aa=o((oMe,N0)=>{"use strict";var{normalizeArguments:$te,parsePathParam:Jte}=l();function Qte(e,t,r){[e,t,r]=$te(e,t,r);let{body:s,id:n,...u}=e;n=Jte(n);let i=["/_ingest/pipeline",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}N0.exports=Qte});var da=o((aMe,L0)=>{"use strict";var{normalizeArguments:kte}=l();function ere(e,t,r){[e,t,r]=kte(e,t,r);let{body:s,...n}=e,u="/_ingest/processor/grok",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}L0.exports=ere});var la=o((dMe,v0)=>{"use strict";var{normalizeArguments:tre,parsePathParam:rre,handleMissingParam:F0}=l();function sre(e,t,r){if([e,t,r]=tre(e,t,r),e.id==null)return F0("id",this,r);if(e.body==null)return F0("body",this,r);let{body:s,id:n,...u}=e;n=rre(n);let i="/_ingest/pipeline/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}v0.exports=sre});var x0=o((lMe,b0)=>{"use strict";var{normalizeArguments:nre,parsePathParam:ure,handleMissingParam:ire}=l();function ore(e,t,r){if([e,t,r]=nre(e,t,r),e.body==null)return ire("body",this,r);let{body:s,id:n,...u}=e;n=ure(n);let i=["/_ingest/pipeline",n,"_simulate"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}b0.exports=ore});var B0=o((cMe,w0)=>{"use strict";function are(e){this.deletePipeline=oa().bind(e),this.getPipeline=aa().bind(e),this.processorGrok=da().bind(e),this.putPipeline=la().bind(e),this.simulate=x0().bind(e),this.delete_pipeline=oa().bind(e),this.get_pipeline=aa().bind(e),this.processor_grok=da().bind(e),this.put_pipeline=la().bind(e)}w0.exports=are});var ca=o((hMe,G0)=>{"use strict";var{normalizeArguments:dre,handleMissingParam:lre}=l();function cre(e,t,r){if([e,t,r]=dre(e,t,r),e.type==null)return lre("type",this,r);let{body:s,...n}=e,u="/_insights/top_queries",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}G0.exports=cre});var Y0=o((fMe,U0)=>{"use strict";function hre(e){this.topQueries=ca().bind(e),this.top_queries=ca().bind(e)}U0.exports=hre});var ha=o((_Me,H0)=>{"use strict";var{normalizeArguments:fre,parsePathParam:_re}=l();function mre(e,t,r){[e,t,r]=fre(e,t,r);let{body:s,index:n,...u}=e;n=_re(n);let i=["/_plugins/_ism/add",n].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}H0.exports=mre});var fa=o((mMe,K0)=>{"use strict";var{normalizeArguments:pre,parsePathParam:Ere}=l();function gre(e,t,r){[e,t,r]=pre(e,t,r);let{body:s,index:n,...u}=e;n=Ere(n);let i=["/_plugins/_ism/change_policy",n].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}K0.exports=gre});var _a=o((pMe,z0)=>{"use strict";var{normalizeArguments:yre,parsePathParam:Are,handleMissingParam:Sre}=l();function Rre(e,t,r){if([e,t,r]=yre(e,t,r),e.policy_id==null)return Sre("policy_id",this,r);let{body:s,policy_id:n,...u}=e;n=Are(n);let i="/_plugins/_ism/policies/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}z0.exports=Rre});var ma=o((EMe,j0)=>{"use strict";var{normalizeArguments:Cre,parsePathParam:Dre,handleMissingParam:Tre}=l();function Pre(e,t,r){if([e,t,r]=Cre(e,t,r),e.policy_id==null)return Tre("policy_id",this,r);let{body:s,policy_id:n,...u}=e;n=Dre(n);let i="/_plugins/_ism/policies/"+n,a="HEAD";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}j0.exports=Pre});var pa=o((gMe,V0)=>{"use strict";var{normalizeArguments:qre,parsePathParam:Ore}=l();function Mre(e,t,r){[e,t,r]=qre(e,t,r);let{body:s,index:n,...u}=e;n=Ore(n);let i=["/_plugins/_ism/explain",n].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}V0.exports=Mre});var Ea=o((yMe,X0)=>{"use strict";var{normalizeArguments:Ire}=l();function Nre(e,t,r){[e,t,r]=Ire(e,t,r);let{body:s,...n}=e,u="/_plugins/_ism/policies",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}X0.exports=Nre});var ga=o((AMe,W0)=>{"use strict";var{normalizeArguments:Lre,parsePathParam:Fre,handleMissingParam:vre}=l();function bre(e,t,r){if([e,t,r]=Lre(e,t,r),e.policy_id==null)return vre("policy_id",this,r);let{body:s,policy_id:n,...u}=e;n=Fre(n);let i="/_plugins/_ism/policies/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}W0.exports=bre});var ya=o((SMe,Z0)=>{"use strict";var{normalizeArguments:xre,handleMissingParam:wre}=l();function Bre(e,t,r){if([e,t,r]=xre(e,t,r),e.policyID==null)return wre("policyID",this,r);let{body:s,...n}=e,u="/_plugins/_ism/policies",i="PUT";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}Z0.exports=Bre});var Aa=o((RMe,$0)=>{"use strict";var{normalizeArguments:Gre,parsePathParam:Ure,handleMissingParam:Yre}=l();function Hre(e,t,r){if([e,t,r]=Gre(e,t,r),e.policy_id==null)return Yre("policy_id",this,r);let{body:s,policy_id:n,...u}=e;n=Ure(n);let i="/_plugins/_ism/policies/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}$0.exports=Hre});var Sa=o((CMe,J0)=>{"use strict";var{normalizeArguments:Kre,parsePathParam:zre,handleMissingParam:jre}=l();function Vre(e,t,r){if([e,t,r]=Kre(e,t,r),e.index==null)return jre("index",this,r);let{body:s,index:n,...u}=e;n=zre(n);let i="/_plugins/_refresh_search_analyzers/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}J0.exports=Vre});var Ra=o((DMe,Q0)=>{"use strict";var{normalizeArguments:Xre,parsePathParam:Wre}=l();function Zre(e,t,r){[e,t,r]=Xre(e,t,r);let{body:s,index:n,...u}=e;n=Wre(n);let i=["/_plugins/_ism/remove",n].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Q0.exports=Zre});var Ca=o((TMe,k0)=>{"use strict";var{normalizeArguments:$re,parsePathParam:Jre}=l();function Qre(e,t,r){[e,t,r]=$re(e,t,r);let{body:s,index:n,...u}=e;n=Jre(n);let i=["/_plugins/_ism/retry",n].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}k0.exports=Qre});var tq=o((PMe,eq)=>{"use strict";function kre(e){this.addPolicy=ha().bind(e),this.changePolicy=fa().bind(e),this.deletePolicy=_a().bind(e),this.existsPolicy=ma().bind(e),this.explainPolicy=pa().bind(e),this.getPolicies=Ea().bind(e),this.getPolicy=ga().bind(e),this.putPolicies=ya().bind(e),this.putPolicy=Aa().bind(e),this.refreshSearchAnalyzers=Sa().bind(e),this.removePolicy=Ra().bind(e),this.retryIndex=Ca().bind(e),this.add_policy=ha().bind(e),this.change_policy=fa().bind(e),this.delete_policy=_a().bind(e),this.exists_policy=ma().bind(e),this.explain_policy=pa().bind(e),this.get_policies=Ea().bind(e),this.get_policy=ga().bind(e),this.put_policies=ya().bind(e),this.put_policy=Aa().bind(e),this.refresh_search_analyzers=Sa().bind(e),this.remove_policy=Ra().bind(e),this.retry_index=Ca().bind(e)}eq.exports=kre});var Da=o((qMe,rq)=>{"use strict";var{normalizeArguments:ese,parsePathParam:tse,handleMissingParam:rse}=l();function sse(e,t,r){if([e,t,r]=ese(e,t,r),e.model_id==null)return rse("model_id",this,r);let{body:s,model_id:n,...u}=e;n=tse(n);let i="/_plugins/_knn/models/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}rq.exports=sse});var Ta=o((OMe,sq)=>{"use strict";var{normalizeArguments:nse,parsePathParam:use,handleMissingParam:ise}=l();function ose(e,t,r){if([e,t,r]=nse(e,t,r),e.model_id==null)return ise("model_id",this,r);let{body:s,model_id:n,...u}=e;n=use(n);let i="/_plugins/_knn/models/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}sq.exports=ose});var Pa=o((MMe,nq)=>{"use strict";var{normalizeArguments:ase}=l();function dse(e,t,r){[e,t,r]=ase(e,t,r);let{body:s,...n}=e,u="/_plugins/_knn/models/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}nq.exports=dse});var oq=o((IMe,iq)=>{"use strict";var{normalizeArguments:lse,parsePathParam:uq}=l();function cse(e,t,r){[e,t,r]=lse(e,t,r);let{body:s,node_id:n,stat:u,...i}=e;n=uq(n),u=uq(u);let a=["/_plugins/_knn",n,"stats",u].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}iq.exports=cse});var qa=o((NMe,aq)=>{"use strict";var{normalizeArguments:hse,parsePathParam:fse}=l();function _se(e,t,r){[e,t,r]=hse(e,t,r);let{body:s,model_id:n,...u}=e;n=fse(n);let i=["/_plugins/_knn/models",n,"_train"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}aq.exports=_se});var lq=o((LMe,dq)=>{"use strict";var{normalizeArguments:mse,parsePathParam:pse,handleMissingParam:Ese}=l();function gse(e,t,r){if([e,t,r]=mse(e,t,r),e.index==null)return Ese("index",this,r);let{body:s,index:n,...u}=e;n=pse(n);let i="/_plugins/_knn/warmup/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}dq.exports=gse});var hq=o((FMe,cq)=>{"use strict";function yse(e){this.deleteModel=Da().bind(e),this.getModel=Ta().bind(e),this.searchModels=Pa().bind(e),this.stats=oq().bind(e),this.trainModel=qa().bind(e),this.warmup=lq().bind(e),this.delete_model=Da().bind(e),this.get_model=Ta().bind(e),this.search_models=Pa().bind(e),this.train_model=qa().bind(e)}cq.exports=yse});var _q=o((vMe,fq)=>{"use strict";var{normalizeArguments:Ase}=l();function Sse(e,t,r){[e,t,r]=Ase(e,t,r);let{body:s,...n}=e,u="/_list",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}fq.exports=Sse});var pq=o((bMe,mq)=>{"use strict";var{normalizeArguments:Rse,parsePathParam:Cse}=l();function Dse(e,t,r){[e,t,r]=Rse(e,t,r);let{body:s,index:n,...u}=e;n=Cse(n);let i=["/_list/indices",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}mq.exports=Dse});var gq=o((xMe,Eq)=>{"use strict";var{normalizeArguments:Tse,parsePathParam:Pse}=l();function qse(e,t,r){[e,t,r]=Tse(e,t,r);let{body:s,index:n,...u}=e;n=Pse(n);let i=["/_list/shards",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Eq.exports=qse});var Aq=o((wMe,yq)=>{"use strict";function Ose(e){this.help=_q().bind(e),this.indices=pq().bind(e),this.shards=gq().bind(e)}yq.exports=Ose});var Cq=o((BMe,Rq)=>{"use strict";var{normalizeArguments:Mse,parsePathParam:Sq}=l();function Ise(e,t,r){[e,t,r]=Mse(e,t,r);let{body:s,node_id:n,stat:u,...i}=e;n=Sq(n),u=Sq(u);let a=["/_plugins/_ltr",n,"stats",u].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}Rq.exports=Ise});var Tq=o((GMe,Dq)=>{"use strict";function Nse(e){this.stats=Cq().bind(e)}Dq.exports=Nse});var Oa=o((UMe,Oq)=>{"use strict";var{normalizeArguments:Lse,parsePathParam:Pq,handleMissingParam:qq}=l();function Fse(e,t,r){if([e,t,r]=Lse(e,t,r),e.chunk_number==null)return qq("chunk_number",this,r);if(e.model_id==null)return qq("model_id",this,r);let{body:s,chunk_number:n,model_id:u,...i}=e;n=Pq(n),u=Pq(u);let a="/_plugins/_ml/models/"+u+"/chunk/"+n,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}Oq.exports=Fse});var Ma=o((YMe,Mq)=>{"use strict";var{normalizeArguments:vse}=l();function bse(e,t,r){[e,t,r]=vse(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/connectors/_create",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}Mq.exports=bse});var Ia=o((HMe,Iq)=>{"use strict";var{normalizeArguments:xse,parsePathParam:wse,handleMissingParam:Bse}=l();function Gse(e,t,r){if([e,t,r]=xse(e,t,r),e.model_id==null)return Bse("model_id",this,r);let{body:s,model_id:n,...u}=e;n=wse(n);let i="/_plugins/_ml/controllers/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Iq.exports=Gse});var Na=o((KMe,Nq)=>{"use strict";var{normalizeArguments:Use}=l();function Yse(e,t,r){[e,t,r]=Use(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/memory",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}Nq.exports=Yse});var La=o((zMe,Lq)=>{"use strict";var{normalizeArguments:Hse,parsePathParam:Kse,handleMissingParam:zse}=l();function jse(e,t,r){if([e,t,r]=Hse(e,t,r),e.memory_id==null)return zse("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=Kse(n);let i="/_plugins/_ml/memory/"+n+"/messages",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Lq.exports=jse});var Fa=o((jMe,Fq)=>{"use strict";var{normalizeArguments:Vse}=l();function Xse(e,t,r){[e,t,r]=Vse(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/models/meta",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}Fq.exports=Xse});var va=o((VMe,vq)=>{"use strict";var{normalizeArguments:Wse,parsePathParam:Zse,handleMissingParam:$se}=l();function Jse(e,t,r){if([e,t,r]=Wse(e,t,r),e.agent_id==null)return $se("agent_id",this,r);let{body:s,agent_id:n,...u}=e;n=Zse(n);let i="/_plugins/_ml/agents/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}vq.exports=Jse});var ba=o((XMe,bq)=>{"use strict";var{normalizeArguments:Qse,parsePathParam:kse,handleMissingParam:ene}=l();function tne(e,t,r){if([e,t,r]=Qse(e,t,r),e.connector_id==null)return ene("connector_id",this,r);let{body:s,connector_id:n,...u}=e;n=kse(n);let i="/_plugins/_ml/connectors/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}bq.exports=tne});var xa=o((WMe,xq)=>{"use strict";var{normalizeArguments:rne,parsePathParam:sne,handleMissingParam:nne}=l();function une(e,t,r){if([e,t,r]=rne(e,t,r),e.model_id==null)return nne("model_id",this,r);let{body:s,model_id:n,...u}=e;n=sne(n);let i="/_plugins/_ml/controllers/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}xq.exports=une});var wa=o((ZMe,wq)=>{"use strict";var{normalizeArguments:ine,parsePathParam:one,handleMissingParam:ane}=l();function dne(e,t,r){if([e,t,r]=ine(e,t,r),e.memory_id==null)return ane("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=one(n);let i="/_plugins/_ml/memory/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}wq.exports=dne});var Ba=o(($Me,Bq)=>{"use strict";var{normalizeArguments:lne,parsePathParam:cne,handleMissingParam:hne}=l();function fne(e,t,r){if([e,t,r]=lne(e,t,r),e.model_id==null)return hne("model_id",this,r);let{body:s,model_id:n,...u}=e;n=cne(n);let i="/_plugins/_ml/models/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Bq.exports=fne});var Ga=o((JMe,Gq)=>{"use strict";var{normalizeArguments:_ne,parsePathParam:mne,handleMissingParam:pne}=l();function Ene(e,t,r){if([e,t,r]=_ne(e,t,r),e.model_group_id==null)return pne("model_group_id",this,r);let{body:s,model_group_id:n,...u}=e;n=mne(n);let i="/_plugins/_ml/model_groups/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Gq.exports=Ene});var Ua=o((QMe,Uq)=>{"use strict";var{normalizeArguments:gne,parsePathParam:yne,handleMissingParam:Ane}=l();function Sne(e,t,r){if([e,t,r]=gne(e,t,r),e.task_id==null)return Ane("task_id",this,r);let{body:s,task_id:n,...u}=e;n=yne(n);let i="/_plugins/_ml/tasks/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Uq.exports=Sne});var Ya=o((kMe,Yq)=>{"use strict";var{normalizeArguments:Rne,parsePathParam:Cne,handleMissingParam:Dne}=l();function Tne(e,t,r){if([e,t,r]=Rne(e,t,r),e.model_id==null)return Dne("model_id",this,r);let{body:s,model_id:n,...u}=e;n=Cne(n);let i="/_plugins/_ml/models/"+n+"/_deploy",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Yq.exports=Tne});var Ha=o((eIe,Hq)=>{"use strict";var{normalizeArguments:Pne,parsePathParam:qne,handleMissingParam:One}=l();function Mne(e,t,r){if([e,t,r]=Pne(e,t,r),e.agent_id==null)return One("agent_id",this,r);let{body:s,agent_id:n,...u}=e;n=qne(n);let i="/_plugins/_ml/agents/"+n+"/_execute",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Hq.exports=Mne});var Ka=o((tIe,Kq)=>{"use strict";var{normalizeArguments:Ine,parsePathParam:Nne,handleMissingParam:Lne}=l();function Fne(e,t,r){if([e,t,r]=Ine(e,t,r),e.algorithm_name==null)return Lne("algorithm_name",this,r);let{body:s,algorithm_name:n,...u}=e;n=Nne(n);let i="/_plugins/_ml/_execute/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Kq.exports=Fne});var za=o((rIe,zq)=>{"use strict";var{normalizeArguments:vne,parsePathParam:bne,handleMissingParam:xne}=l();function wne(e,t,r){if([e,t,r]=vne(e,t,r),e.agent_id==null)return xne("agent_id",this,r);let{body:s,agent_id:n,...u}=e;n=bne(n);let i="/_plugins/_ml/agents/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}zq.exports=wne});var ja=o((sIe,jq)=>{"use strict";var{normalizeArguments:Bne}=l();function Gne(e,t,r){[e,t,r]=Bne(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/memory",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}jq.exports=Gne});var Va=o((nIe,Vq)=>{"use strict";var{normalizeArguments:Une,parsePathParam:Yne,handleMissingParam:Hne}=l();function Kne(e,t,r){if([e,t,r]=Une(e,t,r),e.memory_id==null)return Hne("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=Yne(n);let i="/_plugins/_ml/memory/"+n+"/messages",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Vq.exports=Kne});var Xa=o((uIe,Xq)=>{"use strict";var{normalizeArguments:zne}=l();function jne(e,t,r){[e,t,r]=zne(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/tools",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}Xq.exports=jne});var Wa=o((iIe,Wq)=>{"use strict";var{normalizeArguments:Vne,parsePathParam:Xne,handleMissingParam:Wne}=l();function Zne(e,t,r){if([e,t,r]=Vne(e,t,r),e.connector_id==null)return Wne("connector_id",this,r);let{body:s,connector_id:n,...u}=e;n=Xne(n);let i="/_plugins/_ml/connectors/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Wq.exports=Zne});var Za=o((oIe,Zq)=>{"use strict";var{normalizeArguments:$ne,parsePathParam:Jne,handleMissingParam:Qne}=l();function kne(e,t,r){if([e,t,r]=$ne(e,t,r),e.model_id==null)return Qne("model_id",this,r);let{body:s,model_id:n,...u}=e;n=Jne(n);let i="/_plugins/_ml/controllers/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Zq.exports=kne});var $a=o((aIe,$q)=>{"use strict";var{normalizeArguments:eue,parsePathParam:tue,handleMissingParam:rue}=l();function sue(e,t,r){if([e,t,r]=eue(e,t,r),e.memory_id==null)return rue("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=tue(n);let i="/_plugins/_ml/memory/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}$q.exports=sue});var Ja=o((dIe,Jq)=>{"use strict";var{normalizeArguments:nue,parsePathParam:uue,handleMissingParam:iue}=l();function oue(e,t,r){if([e,t,r]=nue(e,t,r),e.message_id==null)return iue("message_id",this,r);let{body:s,message_id:n,...u}=e;n=uue(n);let i="/_plugins/_ml/memory/message/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Jq.exports=oue});var Qa=o((lIe,Qq)=>{"use strict";var{normalizeArguments:aue,parsePathParam:due,handleMissingParam:lue}=l();function cue(e,t,r){if([e,t,r]=aue(e,t,r),e.message_id==null)return lue("message_id",this,r);let{body:s,message_id:n,...u}=e;n=due(n);let i="/_plugins/_ml/memory/message/"+n+"/traces",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Qq.exports=cue});var ka=o((cIe,kq)=>{"use strict";var{normalizeArguments:hue,parsePathParam:fue,handleMissingParam:_ue}=l();function mue(e,t,r){if([e,t,r]=hue(e,t,r),e.model_id==null)return _ue("model_id",this,r);let{body:s,model_id:n,...u}=e;n=fue(n);let i="/_plugins/_ml/models/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}kq.exports=mue});var ed=o((hIe,eO)=>{"use strict";var{normalizeArguments:pue,parsePathParam:Eue,handleMissingParam:gue}=l();function yue(e,t,r){if([e,t,r]=pue(e,t,r),e.model_group_id==null)return gue("model_group_id",this,r);let{body:s,model_group_id:n,...u}=e;n=Eue(n);let i="/_plugins/_ml/model_groups/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}eO.exports=yue});var td=o((fIe,tO)=>{"use strict";var{normalizeArguments:Aue}=l();function Sue(e,t,r){[e,t,r]=Aue(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/profile",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}tO.exports=Sue});var rd=o((_Ie,rO)=>{"use strict";var{normalizeArguments:Rue,parsePathParam:Cue}=l();function Due(e,t,r){[e,t,r]=Rue(e,t,r);let{body:s,model_id:n,...u}=e;n=Cue(n);let i=["/_plugins/_ml/profile/models",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}rO.exports=Due});var sd=o((mIe,sO)=>{"use strict";var{normalizeArguments:Tue,parsePathParam:Pue}=l();function que(e,t,r){[e,t,r]=Tue(e,t,r);let{body:s,task_id:n,...u}=e;n=Pue(n);let i=["/_plugins/_ml/profile/tasks",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}sO.exports=que});var nd=o((pIe,uO)=>{"use strict";var{normalizeArguments:Oue,parsePathParam:nO}=l();function Mue(e,t,r){[e,t,r]=Oue(e,t,r);let{body:s,node_id:n,stat:u,...i}=e;n=nO(n),u=nO(u);let a=["/_plugins/_ml",n,"stats",u].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}uO.exports=Mue});var ud=o((EIe,iO)=>{"use strict";var{normalizeArguments:Iue,parsePathParam:Nue,handleMissingParam:Lue}=l();function Fue(e,t,r){if([e,t,r]=Iue(e,t,r),e.task_id==null)return Lue("task_id",this,r);let{body:s,task_id:n,...u}=e;n=Nue(n);let i="/_plugins/_ml/tasks/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}iO.exports=Fue});var id=o((gIe,oO)=>{"use strict";var{normalizeArguments:vue,parsePathParam:bue,handleMissingParam:xue}=l();function wue(e,t,r){if([e,t,r]=vue(e,t,r),e.tool_name==null)return xue("tool_name",this,r);let{body:s,tool_name:n,...u}=e;n=bue(n);let i="/_plugins/_ml/tools/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}oO.exports=wue});var od=o((yIe,aO)=>{"use strict";var{normalizeArguments:Bue,parsePathParam:Gue,handleMissingParam:Uue}=l();function Yue(e,t,r){if([e,t,r]=Bue(e,t,r),e.model_id==null)return Uue("model_id",this,r);let{body:s,model_id:n,...u}=e;n=Gue(n);let i="/_plugins/_ml/models/"+n+"/_load",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}aO.exports=Yue});var hO=o((AIe,cO)=>{"use strict";var{normalizeArguments:Hue,parsePathParam:dO,handleMissingParam:lO}=l();function Kue(e,t,r){if([e,t,r]=Hue(e,t,r),e.algorithm_name==null)return lO("algorithm_name",this,r);if(e.model_id==null)return lO("model_id",this,r);let{body:s,algorithm_name:n,model_id:u,...i}=e;n=dO(n),u=dO(u);let a="/_plugins/_ml/_predict/"+n+"/"+u,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}cO.exports=Kue});var ad=o((SIe,fO)=>{"use strict";var{normalizeArguments:zue,parsePathParam:jue,handleMissingParam:Vue}=l();function Xue(e,t,r){if([e,t,r]=zue(e,t,r),e.model_id==null)return Vue("model_id",this,r);let{body:s,model_id:n,...u}=e;n=jue(n);let i="/_plugins/_ml/models/"+n+"/_predict",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fO.exports=Xue});var dd=o((RIe,_O)=>{"use strict";var{normalizeArguments:Wue}=l();function Zue(e,t,r){[e,t,r]=Wue(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/agents/_register",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}_O.exports=Zue});var ld=o((CIe,mO)=>{"use strict";var{normalizeArguments:$ue}=l();function Jue(e,t,r){[e,t,r]=$ue(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/models/_register",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}mO.exports=Jue});var cd=o((DIe,pO)=>{"use strict";var{normalizeArguments:Que}=l();function kue(e,t,r){[e,t,r]=Que(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/model_groups/_register",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}pO.exports=kue});var hd=o((TIe,EO)=>{"use strict";var{normalizeArguments:eie}=l();function tie(e,t,r){[e,t,r]=eie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/models/_register_meta",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}EO.exports=tie});var fd=o((PIe,gO)=>{"use strict";var{normalizeArguments:rie}=l();function sie(e,t,r){[e,t,r]=rie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/agents/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}gO.exports=sie});var _d=o((qIe,yO)=>{"use strict";var{normalizeArguments:nie}=l();function uie(e,t,r){[e,t,r]=nie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/connectors/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}yO.exports=uie});var md=o((OIe,AO)=>{"use strict";var{normalizeArguments:iie}=l();function oie(e,t,r){[e,t,r]=iie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/memory/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}AO.exports=oie});var pd=o((MIe,SO)=>{"use strict";var{normalizeArguments:aie,parsePathParam:die,handleMissingParam:lie}=l();function cie(e,t,r){if([e,t,r]=aie(e,t,r),e.memory_id==null)return lie("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=die(n);let i="/_plugins/_ml/memory/"+n+"/_search",a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}SO.exports=cie});var Ed=o((IIe,RO)=>{"use strict";var{normalizeArguments:hie}=l();function fie(e,t,r){[e,t,r]=hie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/model_groups/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}RO.exports=fie});var gd=o((NIe,CO)=>{"use strict";var{normalizeArguments:_ie}=l();function mie(e,t,r){[e,t,r]=_ie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/models/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}CO.exports=mie});var yd=o((LIe,DO)=>{"use strict";var{normalizeArguments:pie}=l();function Eie(e,t,r){[e,t,r]=pie(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/tasks/_search",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}DO.exports=Eie});var PO=o((FIe,TO)=>{"use strict";var{normalizeArguments:gie,parsePathParam:yie,handleMissingParam:Aie}=l();function Sie(e,t,r){if([e,t,r]=gie(e,t,r),e.algorithm_name==null)return Aie("algorithm_name",this,r);let{body:s,algorithm_name:n,...u}=e;n=yie(n);let i="/_plugins/_ml/_train/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}TO.exports=Sie});var Ad=o((vIe,qO)=>{"use strict";var{normalizeArguments:Rie,parsePathParam:Cie,handleMissingParam:Die}=l();function Tie(e,t,r){if([e,t,r]=Rie(e,t,r),e.algorithm_name==null)return Die("algorithm_name",this,r);let{body:s,algorithm_name:n,...u}=e;n=Cie(n);let i="/_plugins/_ml/_train_predict/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}qO.exports=Tie});var Sd=o((bIe,OO)=>{"use strict";var{normalizeArguments:Pie,parsePathParam:qie}=l();function Oie(e,t,r){[e,t,r]=Pie(e,t,r);let{body:s,model_id:n,...u}=e;n=qie(n);let i=["/_plugins/_ml/models",n,"_undeploy"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}OO.exports=Oie});var Rd=o((xIe,MO)=>{"use strict";var{normalizeArguments:Mie,parsePathParam:Iie}=l();function Nie(e,t,r){[e,t,r]=Mie(e,t,r);let{body:s,model_id:n,...u}=e;n=Iie(n);let i=["/_plugins/_ml/models",n,"_unload"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}MO.exports=Nie});var Cd=o((wIe,IO)=>{"use strict";var{normalizeArguments:Lie,parsePathParam:Fie,handleMissingParam:vie}=l();function bie(e,t,r){if([e,t,r]=Lie(e,t,r),e.connector_id==null)return vie("connector_id",this,r);let{body:s,connector_id:n,...u}=e;n=Fie(n);let i="/_plugins/_ml/connectors/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}IO.exports=bie});var Dd=o((BIe,NO)=>{"use strict";var{normalizeArguments:xie,parsePathParam:wie,handleMissingParam:Bie}=l();function Gie(e,t,r){if([e,t,r]=xie(e,t,r),e.model_id==null)return Bie("model_id",this,r);let{body:s,model_id:n,...u}=e;n=wie(n);let i="/_plugins/_ml/controllers/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}NO.exports=Gie});var Td=o((GIe,LO)=>{"use strict";var{normalizeArguments:Uie,parsePathParam:Yie,handleMissingParam:Hie}=l();function Kie(e,t,r){if([e,t,r]=Uie(e,t,r),e.memory_id==null)return Hie("memory_id",this,r);let{body:s,memory_id:n,...u}=e;n=Yie(n);let i="/_plugins/_ml/memory/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}LO.exports=Kie});var Pd=o((UIe,FO)=>{"use strict";var{normalizeArguments:zie,parsePathParam:jie,handleMissingParam:Vie}=l();function Xie(e,t,r){if([e,t,r]=zie(e,t,r),e.message_id==null)return Vie("message_id",this,r);let{body:s,message_id:n,...u}=e;n=jie(n);let i="/_plugins/_ml/memory/message/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}FO.exports=Xie});var qd=o((YIe,vO)=>{"use strict";var{normalizeArguments:Wie,parsePathParam:Zie,handleMissingParam:$ie}=l();function Jie(e,t,r){if([e,t,r]=Wie(e,t,r),e.model_id==null)return $ie("model_id",this,r);let{body:s,model_id:n,...u}=e;n=Zie(n);let i="/_plugins/_ml/models/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}vO.exports=Jie});var Od=o((HIe,bO)=>{"use strict";var{normalizeArguments:Qie,parsePathParam:kie,handleMissingParam:eoe}=l();function toe(e,t,r){if([e,t,r]=Qie(e,t,r),e.model_group_id==null)return eoe("model_group_id",this,r);let{body:s,model_group_id:n,...u}=e;n=kie(n);let i="/_plugins/_ml/model_groups/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}bO.exports=toe});var Md=o((KIe,BO)=>{"use strict";var{normalizeArguments:roe,parsePathParam:xO,handleMissingParam:wO}=l();function soe(e,t,r){if([e,t,r]=roe(e,t,r),e.chunk_number==null)return wO("chunk_number",this,r);if(e.model_id==null)return wO("model_id",this,r);let{body:s,chunk_number:n,model_id:u,...i}=e;n=xO(n),u=xO(u);let a="/_plugins/_ml/models/"+u+"/upload_chunk/"+n,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}BO.exports=soe});var Id=o((zIe,GO)=>{"use strict";var{normalizeArguments:noe}=l();function uoe(e,t,r){[e,t,r]=noe(e,t,r);let{body:s,...n}=e,u="/_plugins/_ml/models/_upload",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}GO.exports=uoe});var YO=o((jIe,UO)=>{"use strict";function ioe(e){this.chunkModel=Oa().bind(e),this.createConnector=Ma().bind(e),this.createController=Ia().bind(e),this.createMemory=Na().bind(e),this.createMessage=La().bind(e),this.createModelMeta=Fa().bind(e),this.deleteAgent=va().bind(e),this.deleteConnector=ba().bind(e),this.deleteController=xa().bind(e),this.deleteMemory=wa().bind(e),this.deleteModel=Ba().bind(e),this.deleteModelGroup=Ga().bind(e),this.deleteTask=Ua().bind(e),this.deployModel=Ya().bind(e),this.executeAgent=Ha().bind(e),this.executeAlgorithm=Ka().bind(e),this.getAgent=za().bind(e),this.getAllMemories=ja().bind(e),this.getAllMessages=Va().bind(e),this.getAllTools=Xa().bind(e),this.getConnector=Wa().bind(e),this.getController=Za().bind(e),this.getMemory=$a().bind(e),this.getMessage=Ja().bind(e),this.getMessageTraces=Qa().bind(e),this.getModel=ka().bind(e),this.getModelGroup=ed().bind(e),this.getProfile=td().bind(e),this.getProfileModels=rd().bind(e),this.getProfileTasks=sd().bind(e),this.getStats=nd().bind(e),this.getTask=ud().bind(e),this.getTool=id().bind(e),this.loadModel=od().bind(e),this.predict=hO().bind(e),this.predictModel=ad().bind(e),this.registerAgents=dd().bind(e),this.registerModel=ld().bind(e),this.registerModelGroup=cd().bind(e),this.registerModelMeta=hd().bind(e),this.searchAgents=fd().bind(e),this.searchConnectors=_d().bind(e),this.searchMemory=md().bind(e),this.searchMessage=pd().bind(e),this.searchModelGroup=Ed().bind(e),this.searchModels=gd().bind(e),this.searchTasks=yd().bind(e),this.train=PO().bind(e),this.trainPredict=Ad().bind(e),this.undeployModel=Sd().bind(e),this.unloadModel=Rd().bind(e),this.updateConnector=Cd().bind(e),this.updateController=Dd().bind(e),this.updateMemory=Td().bind(e),this.updateMessage=Pd().bind(e),this.updateModel=qd().bind(e),this.updateModelGroup=Od().bind(e),this.uploadChunk=Md().bind(e),this.uploadModel=Id().bind(e),this.chunk_model=Oa().bind(e),this.create_connector=Ma().bind(e),this.create_controller=Ia().bind(e),this.create_memory=Na().bind(e),this.create_message=La().bind(e),this.create_model_meta=Fa().bind(e),this.delete_agent=va().bind(e),this.delete_connector=ba().bind(e),this.delete_controller=xa().bind(e),this.delete_memory=wa().bind(e),this.delete_model=Ba().bind(e),this.delete_model_group=Ga().bind(e),this.delete_task=Ua().bind(e),this.deploy_model=Ya().bind(e),this.execute_agent=Ha().bind(e),this.execute_algorithm=Ka().bind(e),this.get_agent=za().bind(e),this.get_all_memories=ja().bind(e),this.get_all_messages=Va().bind(e),this.get_all_tools=Xa().bind(e),this.get_connector=Wa().bind(e),this.get_controller=Za().bind(e),this.get_memory=$a().bind(e),this.get_message=Ja().bind(e),this.get_message_traces=Qa().bind(e),this.get_model=ka().bind(e),this.get_model_group=ed().bind(e),this.get_profile=td().bind(e),this.get_profile_models=rd().bind(e),this.get_profile_tasks=sd().bind(e),this.get_stats=nd().bind(e),this.get_task=ud().bind(e),this.get_tool=id().bind(e),this.load_model=od().bind(e),this.predict_model=ad().bind(e),this.register_agents=dd().bind(e),this.register_model=ld().bind(e),this.register_model_group=cd().bind(e),this.register_model_meta=hd().bind(e),this.search_agents=fd().bind(e),this.search_connectors=_d().bind(e),this.search_memory=md().bind(e),this.search_message=pd().bind(e),this.search_model_group=Ed().bind(e),this.search_models=gd().bind(e),this.search_tasks=yd().bind(e),this.train_predict=Ad().bind(e),this.undeploy_model=Sd().bind(e),this.unload_model=Rd().bind(e),this.update_connector=Cd().bind(e),this.update_controller=Dd().bind(e),this.update_memory=Td().bind(e),this.update_message=Pd().bind(e),this.update_model=qd().bind(e),this.update_model_group=Od().bind(e),this.upload_chunk=Md().bind(e),this.upload_model=Id().bind(e)}UO.exports=ioe});var Nd=o((VIe,HO)=>{"use strict";var{normalizeArguments:ooe,parsePathParam:aoe}=l();function doe(e,t,r){[e,t,r]=ooe(e,t,r);let{body:s,node_id:n,...u}=e;n=aoe(n);let i=["/_nodes",n,"hot_threads"].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}HO.exports=doe});var jO=o((XIe,zO)=>{"use strict";var{normalizeArguments:loe,parsePathParam:KO}=l();function coe(e,t,r){[e,t,r]=loe(e,t,r);let{body:s,metric:n,node_id:u,...i}=e;n=KO(n),u=KO(u);let a=["/_nodes",u,n].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}zO.exports=coe});var Ld=o((WIe,VO)=>{"use strict";var{normalizeArguments:hoe,parsePathParam:foe}=l();function _oe(e,t,r){[e,t,r]=hoe(e,t,r);let{body:s,node_id:n,...u}=e;n=foe(n);let i=["/_nodes",n,"reload_secure_settings"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}VO.exports=_oe});var WO=o((ZIe,XO)=>{"use strict";var{normalizeArguments:moe,parsePathParam:Fd}=l();function poe(e,t,r){[e,t,r]=moe(e,t,r);let{body:s,node_id:n,metric:u,index_metric:i,...a}=e;n=Fd(n),u=Fd(u),i=Fd(i);let d=["/_nodes",n,"stats",u,i].filter(f=>f!=null).join("/"),h="GET";return s=s||"",this.transport.request({method:h,path:d,querystring:a,body:s},t,r)}XO.exports=poe});var JO=o(($Ie,$O)=>{"use strict";var{normalizeArguments:Eoe,parsePathParam:ZO}=l();function goe(e,t,r){[e,t,r]=Eoe(e,t,r);let{body:s,node_id:n,metric:u,...i}=e;n=ZO(n),u=ZO(u);let a=["/_nodes",n,"usage",u].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}$O.exports=goe});var kO=o((JIe,QO)=>{"use strict";function yoe(e){this.hotThreads=Nd().bind(e),this.info=jO().bind(e),this.reloadSecureSettings=Ld().bind(e),this.stats=WO().bind(e),this.usage=JO().bind(e),this.hot_threads=Nd().bind(e),this.reload_secure_settings=Ld().bind(e)}QO.exports=yoe});var vd=o((QIe,eM)=>{"use strict";var{normalizeArguments:Aoe,handleMissingParam:Soe}=l();function Roe(e,t,r){if([e,t,r]=Aoe(e,t,r),e.body==null)return Soe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_notifications/configs",querystring:n,body:s},t,r)}eM.exports=Roe});var bd=o((kIe,tM)=>{"use strict";var{normalizeArguments:Coe,parsePathParam:Doe,handleMissingParam:Toe}=l();function Poe(e,t,r){if([e,t,r]=Coe(e,t,r),e.config_id==null)return Toe("config_id",this,r);let{body:s,config_id:n,...u}=e;n=Doe(n);let i="/_plugins/_notifications/configs/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}tM.exports=Poe});var xd=o((eNe,rM)=>{"use strict";var{normalizeArguments:qoe,handleMissingParam:Ooe}=l();function Moe(e,t,r){if([e,t,r]=qoe(e,t,r),e.config_id==null)return Ooe("config_id",this,r);let{body:s,...n}=e,u="/_plugins/_notifications/configs",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}rM.exports=Moe});var wd=o((tNe,sM)=>{"use strict";var{normalizeArguments:Ioe,parsePathParam:Noe,handleMissingParam:Loe}=l();function Foe(e,t,r){if([e,t,r]=Ioe(e,t,r),e.config_id==null)return Loe("config_id",this,r);let{body:s,config_id:n,...u}=e;n=Noe(n);let i="/_plugins/_notifications/configs/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}sM.exports=Foe});var Bd=o((rNe,nM)=>{"use strict";var{normalizeArguments:voe}=l();function boe(e,t,r){[e,t,r]=voe(e,t,r);let{body:s,...n}=e,u="/_plugins/_notifications/configs",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}nM.exports=boe});var Gd=o((sNe,uM)=>{"use strict";var{normalizeArguments:xoe}=l();function woe(e,t,r){[e,t,r]=xoe(e,t,r);let{body:s,...n}=e,u="/_plugins/_notifications/channels",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}uM.exports=woe});var Ud=o((nNe,iM)=>{"use strict";var{normalizeArguments:Boe}=l();function Goe(e,t,r){[e,t,r]=Boe(e,t,r);let{body:s,...n}=e,u="/_plugins/_notifications/features",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}iM.exports=Goe});var Yd=o((uNe,oM)=>{"use strict";var{normalizeArguments:Uoe,parsePathParam:Yoe,handleMissingParam:Hoe}=l();function Koe(e,t,r){if([e,t,r]=Uoe(e,t,r),e.config_id==null)return Hoe("config_id",this,r);let{body:s,config_id:n,...u}=e;n=Yoe(n);let i="/_plugins/_notifications/feature/test/"+n,a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}oM.exports=Koe});var Hd=o((iNe,dM)=>{"use strict";var{normalizeArguments:zoe,parsePathParam:joe,handleMissingParam:aM}=l();function Voe(e,t,r){if([e,t,r]=zoe(e,t,r),e.config_id==null)return aM("config_id",this,r);if(e.body==null)return aM("body",this,r);let{body:s,config_id:n,...u}=e;n=joe(n);let i="/_plugins/_notifications/configs/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}dM.exports=Voe});var cM=o((oNe,lM)=>{"use strict";function Xoe(e){this.createConfig=vd().bind(e),this.deleteConfig=bd().bind(e),this.deleteConfigs=xd().bind(e),this.getConfig=wd().bind(e),this.getConfigs=Bd().bind(e),this.listChannels=Gd().bind(e),this.listFeatures=Ud().bind(e),this.sendTest=Yd().bind(e),this.updateConfig=Hd().bind(e),this.create_config=vd().bind(e),this.delete_config=bd().bind(e),this.delete_configs=xd().bind(e),this.get_config=wd().bind(e),this.get_configs=Bd().bind(e),this.list_channels=Gd().bind(e),this.list_features=Ud().bind(e),this.send_test=Yd().bind(e),this.update_config=Hd().bind(e)}lM.exports=Xoe});var Kd=o((aNe,hM)=>{"use strict";var{normalizeArguments:Woe}=l();function Zoe(e,t,r){[e,t,r]=Woe(e,t,r);let{body:s,...n}=e,u="/_plugins/_observability/object",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}hM.exports=Zoe});var zd=o((dNe,fM)=>{"use strict";var{normalizeArguments:$oe,parsePathParam:Joe,handleMissingParam:Qoe}=l();function koe(e,t,r){if([e,t,r]=$oe(e,t,r),e.object_id==null)return Qoe("object_id",this,r);let{body:s,object_id:n,...u}=e;n=Joe(n);let i="/_plugins/_observability/object/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fM.exports=koe});var jd=o((lNe,_M)=>{"use strict";var{normalizeArguments:eae}=l();function tae(e,t,r){[e,t,r]=eae(e,t,r);let{body:s,...n}=e,u="/_plugins/_observability/object",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}_M.exports=tae});var Vd=o((cNe,mM)=>{"use strict";var{normalizeArguments:rae}=l();function sae(e,t,r){[e,t,r]=rae(e,t,r);let{body:s,...n}=e,u="/_plugins/_observability/_local/stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}mM.exports=sae});var Xd=o((hNe,pM)=>{"use strict";var{normalizeArguments:nae,parsePathParam:uae,handleMissingParam:iae}=l();function oae(e,t,r){if([e,t,r]=nae(e,t,r),e.object_id==null)return iae("object_id",this,r);let{body:s,object_id:n,...u}=e;n=uae(n);let i="/_plugins/_observability/object/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}pM.exports=oae});var Wd=o((fNe,EM)=>{"use strict";var{normalizeArguments:aae}=l();function dae(e,t,r){[e,t,r]=aae(e,t,r);let{body:s,...n}=e,u="/_plugins/_observability/object",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}EM.exports=dae});var Zd=o((_Ne,gM)=>{"use strict";var{normalizeArguments:lae,parsePathParam:cae,handleMissingParam:hae}=l();function fae(e,t,r){if([e,t,r]=lae(e,t,r),e.object_id==null)return hae("object_id",this,r);let{body:s,object_id:n,...u}=e;n=cae(n);let i="/_plugins/_observability/object/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}gM.exports=fae});var AM=o((mNe,yM)=>{"use strict";function _ae(e){this.createObject=Kd().bind(e),this.deleteObject=zd().bind(e),this.deleteObjects=jd().bind(e),this.getLocalstats=Vd().bind(e),this.getObject=Xd().bind(e),this.listObjects=Wd().bind(e),this.updateObject=Zd().bind(e),this.create_object=Kd().bind(e),this.delete_object=zd().bind(e),this.delete_objects=jd().bind(e),this.get_localstats=Vd().bind(e),this.get_object=Xd().bind(e),this.list_objects=Wd().bind(e),this.update_object=Zd().bind(e)}yM.exports=_ae});var RM=o((pNe,SM)=>{"use strict";var{normalizeArguments:mae,handleMissingParam:pae}=l();function Eae(e,t,r){if([e,t,r]=mae(e,t,r),e.body==null)return pae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_ppl/_explain",querystring:n,body:s},t,r)}SM.exports=Eae});var $d=o((ENe,CM)=>{"use strict";var{normalizeArguments:gae}=l();function yae(e,t,r){[e,t,r]=gae(e,t,r);let{body:s,...n}=e,u="/_plugins/_ppl/stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}CM.exports=yae});var Jd=o((gNe,DM)=>{"use strict";var{normalizeArguments:Aae,handleMissingParam:Sae}=l();function Rae(e,t,r){if([e,t,r]=Aae(e,t,r),e.body==null)return Sae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_ppl/stats",querystring:n,body:s},t,r)}DM.exports=Rae});var PM=o((yNe,TM)=>{"use strict";var{normalizeArguments:Cae,handleMissingParam:Dae}=l();function Tae(e,t,r){if([e,t,r]=Cae(e,t,r),e.body==null)return Dae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_ppl",querystring:n,body:s},t,r)}TM.exports=Tae});var OM=o((ANe,qM)=>{"use strict";function Pae(e){this.explain=RM().bind(e),this.getStats=$d().bind(e),this.postStats=Jd().bind(e),this.query=PM().bind(e),this.get_stats=$d().bind(e),this.post_stats=Jd().bind(e)}qM.exports=Pae});var Qd=o((SNe,MM)=>{"use strict";var{normalizeArguments:qae,parsePathParam:Oae,handleMissingParam:Mae}=l();function Iae(e,t,r){if([e,t,r]=qae(e,t,r),e.datasource_name==null)return Mae("datasource_name",this,r);let{body:s,datasource_name:n,...u}=e;n=Oae(n);let i="/_plugins/_query/_datasources/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}MM.exports=Iae});var kd=o((RNe,IM)=>{"use strict";var{normalizeArguments:Nae,parsePathParam:Lae,handleMissingParam:Fae}=l();function vae(e,t,r){if([e,t,r]=Nae(e,t,r),e.datasource_name==null)return Fae("datasource_name",this,r);let{body:s,datasource_name:n,...u}=e;n=Lae(n);let i="/_plugins/_query/_datasources/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}IM.exports=vae});var el=o((CNe,NM)=>{"use strict";var{normalizeArguments:bae}=l();function xae(e,t,r){[e,t,r]=bae(e,t,r);let{body:s,...n}=e,u="/_plugins/_query/_datasources",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}NM.exports=xae});var tl=o((DNe,LM)=>{"use strict";var{normalizeArguments:wae}=l();function Bae(e,t,r){[e,t,r]=wae(e,t,r);let{body:s,...n}=e,u="/_plugins/_query/_datasources",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}LM.exports=Bae});var rl=o((TNe,FM)=>{"use strict";var{normalizeArguments:Gae}=l();function Uae(e,t,r){[e,t,r]=Gae(e,t,r);let{body:s,...n}=e,u="/_plugins/_query/_datasources",i="PUT";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}FM.exports=Uae});var bM=o((PNe,vM)=>{"use strict";function Yae(e){this.datasourceDelete=Qd().bind(e),this.datasourceRetrieve=kd().bind(e),this.datasourcesCreate=el().bind(e),this.datasourcesList=tl().bind(e),this.datasourcesUpdate=rl().bind(e),this.datasource_delete=Qd().bind(e),this.datasource_retrieve=kd().bind(e),this.datasources_create=el().bind(e),this.datasources_list=tl().bind(e),this.datasources_update=rl().bind(e)}vM.exports=Yae});var wM=o((qNe,xM)=>{"use strict";var{normalizeArguments:Hae,handleMissingParam:Kae}=l();function zae(e,t,r){if([e,t,r]=Hae(e,t,r),e.body==null)return Kae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_remotestore/_restore",querystring:n,body:s},t,r)}xM.exports=zae});var GM=o((ONe,BM)=>{"use strict";function jae(e){this.restore=wM().bind(e)}BM.exports=jae});var sl=o((MNe,UM)=>{"use strict";var{normalizeArguments:Vae}=l();function Xae(e,t,r){[e,t,r]=Vae(e,t,r);let{body:s,...n}=e,u="/_plugins/_replication/autofollow_stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}UM.exports=Xae});var nl=o((INe,YM)=>{"use strict";var{normalizeArguments:Wae,handleMissingParam:Zae}=l();function $ae(e,t,r){if([e,t,r]=Wae(e,t,r),e.body==null)return Zae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_replication/_autofollow",querystring:n,body:s},t,r)}YM.exports=$ae});var ul=o((NNe,HM)=>{"use strict";var{normalizeArguments:Jae,handleMissingParam:Qae}=l();function kae(e,t,r){if([e,t,r]=Jae(e,t,r),e.body==null)return Qae("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"DELETE",path:"/_plugins/_replication/_autofollow",querystring:n,body:s},t,r)}HM.exports=kae});var il=o((LNe,KM)=>{"use strict";var{normalizeArguments:ede}=l();function tde(e,t,r){[e,t,r]=ede(e,t,r);let{body:s,...n}=e,u="/_plugins/_replication/follower_stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}KM.exports=tde});var ol=o((FNe,zM)=>{"use strict";var{normalizeArguments:rde}=l();function sde(e,t,r){[e,t,r]=rde(e,t,r);let{body:s,...n}=e,u="/_plugins/_replication/leader_stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}zM.exports=sde});var XM=o((vNe,VM)=>{"use strict";var{normalizeArguments:nde,parsePathParam:ude,handleMissingParam:jM}=l();function ide(e,t,r){if([e,t,r]=nde(e,t,r),e.index==null)return jM("index",this,r);if(e.body==null)return jM("body",this,r);let{body:s,index:n,...u}=e;n=ude(n);let i="/_plugins/_replication/"+n+"/_pause";return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}VM.exports=ide});var $M=o((bNe,ZM)=>{"use strict";var{normalizeArguments:ode,parsePathParam:ade,handleMissingParam:WM}=l();function dde(e,t,r){if([e,t,r]=ode(e,t,r),e.index==null)return WM("index",this,r);if(e.body==null)return WM("body",this,r);let{body:s,index:n,...u}=e;n=ade(n);let i="/_plugins/_replication/"+n+"/_resume";return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}ZM.exports=dde});var kM=o((xNe,QM)=>{"use strict";var{normalizeArguments:lde,parsePathParam:cde,handleMissingParam:JM}=l();function hde(e,t,r){if([e,t,r]=lde(e,t,r),e.index==null)return JM("index",this,r);if(e.body==null)return JM("body",this,r);let{body:s,index:n,...u}=e;n=cde(n);let i="/_plugins/_replication/"+n+"/_start";return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}QM.exports=hde});var tI=o((wNe,eI)=>{"use strict";var{normalizeArguments:fde,parsePathParam:_de,handleMissingParam:mde}=l();function pde(e,t,r){if([e,t,r]=fde(e,t,r),e.index==null)return mde("index",this,r);let{body:s,index:n,...u}=e;n=_de(n);let i="/_plugins/_replication/"+n+"/_status",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}eI.exports=pde});var nI=o((BNe,sI)=>{"use strict";var{normalizeArguments:Ede,parsePathParam:gde,handleMissingParam:rI}=l();function yde(e,t,r){if([e,t,r]=Ede(e,t,r),e.index==null)return rI("index",this,r);if(e.body==null)return rI("body",this,r);let{body:s,index:n,...u}=e;n=gde(n);let i="/_plugins/_replication/"+n+"/_stop";return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}sI.exports=yde});var al=o((GNe,iI)=>{"use strict";var{normalizeArguments:Ade,parsePathParam:Sde,handleMissingParam:uI}=l();function Rde(e,t,r){if([e,t,r]=Ade(e,t,r),e.index==null)return uI("index",this,r);if(e.body==null)return uI("body",this,r);let{body:s,index:n,...u}=e;n=Sde(n);let i="/_plugins/_replication/"+n+"/_update";return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}iI.exports=Rde});var aI=o((UNe,oI)=>{"use strict";function Cde(e){this.autofollowStats=sl().bind(e),this.createReplicationRule=nl().bind(e),this.deleteReplicationRule=ul().bind(e),this.followerStats=il().bind(e),this.leaderStats=ol().bind(e),this.pause=XM().bind(e),this.resume=$M().bind(e),this.start=kM().bind(e),this.status=tI().bind(e),this.stop=nI().bind(e),this.updateSettings=al().bind(e),this.autofollow_stats=sl().bind(e),this.create_replication_rule=nl().bind(e),this.delete_replication_rule=ul().bind(e),this.follower_stats=il().bind(e),this.leader_stats=ol().bind(e),this.update_settings=al().bind(e)}oI.exports=Cde});var lI=o((YNe,dI)=>{"use strict";var{normalizeArguments:Dde,parsePathParam:Tde,handleMissingParam:Pde}=l();function qde(e,t,r){if([e,t,r]=Dde(e,t,r),e.id==null)return Pde("id",this,r);let{body:s,id:n,...u}=e;n=Tde(n);let i="/_plugins/_rollup/jobs/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}dI.exports=qde});var hI=o((HNe,cI)=>{"use strict";var{normalizeArguments:Ode,parsePathParam:Mde,handleMissingParam:Ide}=l();function Nde(e,t,r){if([e,t,r]=Ode(e,t,r),e.id==null)return Ide("id",this,r);let{body:s,id:n,...u}=e;n=Mde(n);let i="/_plugins/_rollup/jobs/"+n+"/_explain",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cI.exports=Nde});var _I=o((KNe,fI)=>{"use strict";var{normalizeArguments:Lde,parsePathParam:Fde,handleMissingParam:vde}=l();function bde(e,t,r){if([e,t,r]=Lde(e,t,r),e.id==null)return vde("id",this,r);let{body:s,id:n,...u}=e;n=Fde(n);let i="/_plugins/_rollup/jobs/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fI.exports=bde});var pI=o((zNe,mI)=>{"use strict";var{normalizeArguments:xde,parsePathParam:wde,handleMissingParam:Bde}=l();function Gde(e,t,r){if([e,t,r]=xde(e,t,r),e.id==null)return Bde("id",this,r);let{body:s,id:n,...u}=e;n=wde(n);let i="/_plugins/_rollup/jobs/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}mI.exports=Gde});var gI=o((jNe,EI)=>{"use strict";var{normalizeArguments:Ude,parsePathParam:Yde,handleMissingParam:Hde}=l();function Kde(e,t,r){if([e,t,r]=Ude(e,t,r),e.id==null)return Hde("id",this,r);let{body:s,id:n,...u}=e;n=Yde(n);let i="/_plugins/_rollup/jobs/"+n+"/_start",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}EI.exports=Kde});var AI=o((VNe,yI)=>{"use strict";var{normalizeArguments:zde,parsePathParam:jde,handleMissingParam:Vde}=l();function Xde(e,t,r){if([e,t,r]=zde(e,t,r),e.id==null)return Vde("id",this,r);let{body:s,id:n,...u}=e;n=jde(n);let i="/_plugins/_rollup/jobs/"+n+"/_stop",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yI.exports=Xde});var RI=o((XNe,SI)=>{"use strict";function Wde(e){this.delete=lI().bind(e),this.explain=hI().bind(e),this.get=_I().bind(e),this.put=pI().bind(e),this.start=gI().bind(e),this.stop=AI().bind(e)}SI.exports=Wde});var DI=o((WNe,CI)=>{"use strict";var{normalizeArguments:Zde,parsePathParam:$de,handleMissingParam:Jde}=l();function Qde(e,t,r){if([e,t,r]=Zde(e,t,r),e.id==null)return Jde("id",this,r);let{body:s,id:n,...u}=e;n=$de(n);let i="/_search/pipeline/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}CI.exports=Qde});var PI=o((ZNe,TI)=>{"use strict";var{normalizeArguments:kde,parsePathParam:ele}=l();function tle(e,t,r){[e,t,r]=kde(e,t,r);let{body:s,id:n,...u}=e;n=ele(n);let i=["/_search/pipeline",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}TI.exports=tle});var MI=o(($Ne,OI)=>{"use strict";var{normalizeArguments:rle,parsePathParam:sle,handleMissingParam:qI}=l();function nle(e,t,r){if([e,t,r]=rle(e,t,r),e.id==null)return qI("id",this,r);if(e.body==null)return qI("body",this,r);let{body:s,id:n,...u}=e;n=sle(n);let i="/_search/pipeline/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}OI.exports=nle});var NI=o((JNe,II)=>{"use strict";function ule(e){this.delete=DI().bind(e),this.get=PI().bind(e),this.put=MI().bind(e)}II.exports=ule});var FI=o((QNe,LI)=>{"use strict";var{normalizeArguments:ile}=l();function ole(e,t,r){[e,t,r]=ile(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/authinfo",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}LI.exports=ole});var bI=o((kNe,vI)=>{"use strict";var{normalizeArguments:ale}=l();function dle(e,t,r){[e,t,r]=ale(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/authtoken",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}vI.exports=dle});var dl=o((eLe,xI)=>{"use strict";var{normalizeArguments:lle,handleMissingParam:cle}=l();function hle(e,t,r){if([e,t,r]=lle(e,t,r),e.body==null)return cle("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_plugins/_security/api/account",querystring:n,body:s},t,r)}xI.exports=hle});var ll=o((tLe,wI)=>{"use strict";var{normalizeArguments:fle}=l();function _le(e,t,r){[e,t,r]=fle(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/_upgrade_check",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}wI.exports=_le});var cl=o((rLe,BI)=>{"use strict";var{normalizeArguments:mle}=l();function ple(e,t,r){[e,t,r]=mle(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/_upgrade_perform",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}BI.exports=ple});var hl=o((sLe,UI)=>{"use strict";var{normalizeArguments:Ele,parsePathParam:gle,handleMissingParam:GI}=l();function yle(e,t,r){if([e,t,r]=Ele(e,t,r),e.action_group==null)return GI("action_group",this,r);if(e.body==null)return GI("body",this,r);let{body:s,action_group:n,...u}=e;n=gle(n);let i="/_plugins/_security/api/actiongroups/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}UI.exports=yle});var fl=o((nLe,YI)=>{"use strict";var{normalizeArguments:Ale,handleMissingParam:Sle}=l();function Rle(e,t,r){if([e,t,r]=Ale(e,t,r),e.body==null)return Sle("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_plugins/_security/api/allowlist",querystring:n,body:s},t,r)}YI.exports=Rle});var _l=o((uLe,KI)=>{"use strict";var{normalizeArguments:Cle,parsePathParam:Dle,handleMissingParam:HI}=l();function Tle(e,t,r){if([e,t,r]=Cle(e,t,r),e.role==null)return HI("role",this,r);if(e.body==null)return HI("body",this,r);let{body:s,role:n,...u}=e;n=Dle(n);let i="/_plugins/_security/api/roles/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}KI.exports=Tle});var ml=o((iLe,jI)=>{"use strict";var{normalizeArguments:Ple,parsePathParam:qle,handleMissingParam:zI}=l();function Ole(e,t,r){if([e,t,r]=Ple(e,t,r),e.role==null)return zI("role",this,r);if(e.body==null)return zI("body",this,r);let{body:s,role:n,...u}=e;n=qle(n);let i="/_plugins/_security/api/rolesmapping/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}jI.exports=Ole});var pl=o((oLe,XI)=>{"use strict";var{normalizeArguments:Mle,parsePathParam:Ile,handleMissingParam:VI}=l();function Nle(e,t,r){if([e,t,r]=Mle(e,t,r),e.tenant==null)return VI("tenant",this,r);if(e.body==null)return VI("body",this,r);let{body:s,tenant:n,...u}=e;n=Ile(n);let i="/_plugins/_security/api/tenants/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}XI.exports=Nle});var El=o((aLe,WI)=>{"use strict";var{normalizeArguments:Lle,handleMissingParam:Fle}=l();function vle(e,t,r){if([e,t,r]=Lle(e,t,r),e.body==null)return Fle("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_plugins/_security/api/tenancy/config",querystring:n,body:s},t,r)}WI.exports=vle});var gl=o((dLe,$I)=>{"use strict";var{normalizeArguments:ble,parsePathParam:xle,handleMissingParam:ZI}=l();function wle(e,t,r){if([e,t,r]=ble(e,t,r),e.username==null)return ZI("username",this,r);if(e.body==null)return ZI("body",this,r);let{body:s,username:n,...u}=e;n=xle(n);let i="/_plugins/_security/api/internalusers/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}$I.exports=wle});var yl=o((lLe,QI)=>{"use strict";var{normalizeArguments:Ble,parsePathParam:Gle,handleMissingParam:JI}=l();function Ule(e,t,r){if([e,t,r]=Ble(e,t,r),e.username==null)return JI("username",this,r);if(e.body==null)return JI("body",this,r);let{body:s,username:n,...u}=e;n=Gle(n);let i="/_plugins/_security/api/user/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}QI.exports=Ule});var Al=o((cLe,kI)=>{"use strict";var{normalizeArguments:Yle,parsePathParam:Hle,handleMissingParam:Kle}=l();function zle(e,t,r){if([e,t,r]=Yle(e,t,r),e.action_group==null)return Kle("action_group",this,r);let{body:s,action_group:n,...u}=e;n=Hle(n);let i="/_plugins/_security/api/actiongroups/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}kI.exports=zle});var Sl=o((hLe,eN)=>{"use strict";var{normalizeArguments:jle,parsePathParam:Vle,handleMissingParam:Xle}=l();function Wle(e,t,r){if([e,t,r]=jle(e,t,r),e.cluster_name==null)return Xle("cluster_name",this,r);let{body:s,cluster_name:n,...u}=e;n=Vle(n);let i="/_plugins/_security/api/nodesdn/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}eN.exports=Wle});var Rl=o((fLe,tN)=>{"use strict";var{normalizeArguments:Zle,parsePathParam:$le,handleMissingParam:Jle}=l();function Qle(e,t,r){if([e,t,r]=Zle(e,t,r),e.role==null)return Jle("role",this,r);let{body:s,role:n,...u}=e;n=$le(n);let i="/_plugins/_security/api/roles/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}tN.exports=Qle});var Cl=o((_Le,rN)=>{"use strict";var{normalizeArguments:kle,parsePathParam:ece,handleMissingParam:tce}=l();function rce(e,t,r){if([e,t,r]=kle(e,t,r),e.role==null)return tce("role",this,r);let{body:s,role:n,...u}=e;n=ece(n);let i="/_plugins/_security/api/rolesmapping/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}rN.exports=rce});var Dl=o((mLe,sN)=>{"use strict";var{normalizeArguments:sce,parsePathParam:nce,handleMissingParam:uce}=l();function ice(e,t,r){if([e,t,r]=sce(e,t,r),e.tenant==null)return uce("tenant",this,r);let{body:s,tenant:n,...u}=e;n=nce(n);let i="/_plugins/_security/api/tenants/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}sN.exports=ice});var Tl=o((pLe,nN)=>{"use strict";var{normalizeArguments:oce,parsePathParam:ace,handleMissingParam:dce}=l();function lce(e,t,r){if([e,t,r]=oce(e,t,r),e.username==null)return dce("username",this,r);let{body:s,username:n,...u}=e;n=ace(n);let i="/_plugins/_security/api/internalusers/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}nN.exports=lce});var Pl=o((ELe,uN)=>{"use strict";var{normalizeArguments:cce,parsePathParam:hce,handleMissingParam:fce}=l();function _ce(e,t,r){if([e,t,r]=cce(e,t,r),e.username==null)return fce("username",this,r);let{body:s,username:n,...u}=e;n=hce(n);let i="/_plugins/_security/api/user/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}uN.exports=_ce});var ql=o((gLe,iN)=>{"use strict";var{normalizeArguments:mce}=l();function pce(e,t,r){[e,t,r]=mce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/cache",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}iN.exports=pce});var Ol=o((yLe,oN)=>{"use strict";var{normalizeArguments:Ece,handleMissingParam:gce}=l();function yce(e,t,r){if([e,t,r]=Ece(e,t,r),e.body==null)return gce("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_plugins/_security/api/generateonbehalfoftoken",querystring:n,body:s},t,r)}oN.exports=yce});var Ml=o((ALe,aN)=>{"use strict";var{normalizeArguments:Ace,parsePathParam:Sce,handleMissingParam:Rce}=l();function Cce(e,t,r){if([e,t,r]=Ace(e,t,r),e.username==null)return Rce("username",this,r);let{body:s,username:n,...u}=e;n=Sce(n);let i="/_plugins/_security/api/internalusers/"+n+"/authtoken",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}aN.exports=Cce});var Il=o((SLe,dN)=>{"use strict";var{normalizeArguments:Dce,parsePathParam:Tce,handleMissingParam:Pce}=l();function qce(e,t,r){if([e,t,r]=Dce(e,t,r),e.username==null)return Pce("username",this,r);let{body:s,username:n,...u}=e;n=Tce(n);let i="/_plugins/_security/api/user/"+n+"/authtoken",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}dN.exports=qce});var Nl=o((RLe,lN)=>{"use strict";var{normalizeArguments:Oce}=l();function Mce(e,t,r){[e,t,r]=Oce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/account",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}lN.exports=Mce});var Ll=o((CLe,cN)=>{"use strict";var{normalizeArguments:Ice,parsePathParam:Nce,handleMissingParam:Lce}=l();function Fce(e,t,r){if([e,t,r]=Ice(e,t,r),e.action_group==null)return Lce("action_group",this,r);let{body:s,action_group:n,...u}=e;n=Nce(n);let i="/_plugins/_security/api/actiongroups/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cN.exports=Fce});var Fl=o((DLe,hN)=>{"use strict";var{normalizeArguments:vce}=l();function bce(e,t,r){[e,t,r]=vce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/actiongroups",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}hN.exports=bce});var vl=o((TLe,fN)=>{"use strict";var{normalizeArguments:xce}=l();function wce(e,t,r){[e,t,r]=xce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/certificates",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}fN.exports=wce});var bl=o((PLe,_N)=>{"use strict";var{normalizeArguments:Bce}=l();function Gce(e,t,r){[e,t,r]=Bce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/allowlist",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}_N.exports=Gce});var xl=o((qLe,mN)=>{"use strict";var{normalizeArguments:Uce}=l();function Yce(e,t,r){[e,t,r]=Uce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/audit",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}mN.exports=Yce});var wl=o((OLe,pN)=>{"use strict";var{normalizeArguments:Hce}=l();function Kce(e,t,r){[e,t,r]=Hce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/ssl/certs",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}pN.exports=Kce});var Bl=o((MLe,EN)=>{"use strict";var{normalizeArguments:zce}=l();function jce(e,t,r){[e,t,r]=zce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/securityconfig",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}EN.exports=jce});var Gl=o((ILe,gN)=>{"use strict";var{normalizeArguments:Vce}=l();function Xce(e,t,r){[e,t,r]=Vce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/dashboardsinfo",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}gN.exports=Xce});var Ul=o((NLe,yN)=>{"use strict";var{normalizeArguments:Wce,parsePathParam:Zce,handleMissingParam:$ce}=l();function Jce(e,t,r){if([e,t,r]=Wce(e,t,r),e.cluster_name==null)return $ce("cluster_name",this,r);let{body:s,cluster_name:n,...u}=e;n=Zce(n);let i="/_plugins/_security/api/nodesdn/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yN.exports=Jce});var Yl=o((LLe,AN)=>{"use strict";var{normalizeArguments:Qce}=l();function kce(e,t,r){[e,t,r]=Qce(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/nodesdn",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}AN.exports=kce});var Hl=o((FLe,SN)=>{"use strict";var{normalizeArguments:ehe,parsePathParam:the,handleMissingParam:rhe}=l();function she(e,t,r){if([e,t,r]=ehe(e,t,r),e.node_id==null)return rhe("node_id",this,r);let{body:s,node_id:n,...u}=e;n=the(n);let i="/_plugins/_security/api/certificates/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}SN.exports=she});var Kl=o((vLe,RN)=>{"use strict";var{normalizeArguments:nhe}=l();function uhe(e,t,r){[e,t,r]=nhe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/permissionsinfo",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}RN.exports=uhe});var zl=o((bLe,CN)=>{"use strict";var{normalizeArguments:ihe,parsePathParam:ohe,handleMissingParam:ahe}=l();function dhe(e,t,r){if([e,t,r]=ihe(e,t,r),e.role==null)return ahe("role",this,r);let{body:s,role:n,...u}=e;n=ohe(n);let i="/_plugins/_security/api/roles/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}CN.exports=dhe});var jl=o((xLe,DN)=>{"use strict";var{normalizeArguments:lhe,parsePathParam:che,handleMissingParam:hhe}=l();function fhe(e,t,r){if([e,t,r]=lhe(e,t,r),e.role==null)return hhe("role",this,r);let{body:s,role:n,...u}=e;n=che(n);let i="/_plugins/_security/api/rolesmapping/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}DN.exports=fhe});var Vl=o((wLe,TN)=>{"use strict";var{normalizeArguments:_he}=l();function mhe(e,t,r){[e,t,r]=_he(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/rolesmapping",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}TN.exports=mhe});var Xl=o((BLe,PN)=>{"use strict";var{normalizeArguments:phe}=l();function Ehe(e,t,r){[e,t,r]=phe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/roles",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}PN.exports=Ehe});var Wl=o((GLe,qN)=>{"use strict";var{normalizeArguments:ghe}=l();function yhe(e,t,r){[e,t,r]=ghe(e,t,r);let{body:s,...n}=e,u="/_opendistro/_security/sslinfo",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}qN.exports=yhe});var Zl=o((ULe,ON)=>{"use strict";var{normalizeArguments:Ahe}=l();function She(e,t,r){[e,t,r]=Ahe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/tenancy/config",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}ON.exports=She});var $l=o((YLe,MN)=>{"use strict";var{normalizeArguments:Rhe,parsePathParam:Che,handleMissingParam:Dhe}=l();function The(e,t,r){if([e,t,r]=Rhe(e,t,r),e.tenant==null)return Dhe("tenant",this,r);let{body:s,tenant:n,...u}=e;n=Che(n);let i="/_plugins/_security/api/tenants/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}MN.exports=The});var Jl=o((HLe,IN)=>{"use strict";var{normalizeArguments:Phe}=l();function qhe(e,t,r){[e,t,r]=Phe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/tenants",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}IN.exports=qhe});var Ql=o((KLe,NN)=>{"use strict";var{normalizeArguments:Ohe,parsePathParam:Mhe,handleMissingParam:Ihe}=l();function Nhe(e,t,r){if([e,t,r]=Ohe(e,t,r),e.username==null)return Ihe("username",this,r);let{body:s,username:n,...u}=e;n=Mhe(n);let i="/_plugins/_security/api/internalusers/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}NN.exports=Nhe});var kl=o((zLe,LN)=>{"use strict";var{normalizeArguments:Lhe,parsePathParam:Fhe,handleMissingParam:vhe}=l();function bhe(e,t,r){if([e,t,r]=Lhe(e,t,r),e.username==null)return vhe("username",this,r);let{body:s,username:n,...u}=e;n=Fhe(n);let i="/_plugins/_security/api/user/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}LN.exports=bhe});var ec=o((jLe,FN)=>{"use strict";var{normalizeArguments:xhe}=l();function whe(e,t,r){[e,t,r]=xhe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/internalusers",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}FN.exports=whe});var tc=o((VLe,vN)=>{"use strict";var{normalizeArguments:Bhe}=l();function Ghe(e,t,r){[e,t,r]=Bhe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/user",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}vN.exports=Ghe});var xN=o((XLe,bN)=>{"use strict";var{normalizeArguments:Uhe}=l();function Yhe(e,t,r){[e,t,r]=Uhe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/health",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}bN.exports=Yhe});var BN=o((WLe,wN)=>{"use strict";var{normalizeArguments:Hhe}=l();function Khe(e,t,r){[e,t,r]=Hhe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/migrate",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}wN.exports=Khe});var rc=o((ZLe,UN)=>{"use strict";var{normalizeArguments:zhe,parsePathParam:jhe,handleMissingParam:GN}=l();function Vhe(e,t,r){if([e,t,r]=zhe(e,t,r),e.action_group==null)return GN("action_group",this,r);if(e.body==null)return GN("body",this,r);let{body:s,action_group:n,...u}=e;n=jhe(n);let i="/_plugins/_security/api/actiongroups/"+n;return this.transport.request({method:"PATCH",path:i,querystring:u,body:s},t,r)}UN.exports=Vhe});var sc=o(($Le,YN)=>{"use strict";var{normalizeArguments:Xhe,handleMissingParam:Whe}=l();function Zhe(e,t,r){if([e,t,r]=Xhe(e,t,r),e.body==null)return Whe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/actiongroups",querystring:n,body:s},t,r)}YN.exports=Zhe});var nc=o((JLe,HN)=>{"use strict";var{normalizeArguments:$he,handleMissingParam:Jhe}=l();function Qhe(e,t,r){if([e,t,r]=$he(e,t,r),e.body==null)return Jhe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/allowlist",querystring:n,body:s},t,r)}HN.exports=Qhe});var uc=o((QLe,KN)=>{"use strict";var{normalizeArguments:khe,handleMissingParam:efe}=l();function tfe(e,t,r){if([e,t,r]=khe(e,t,r),e.body==null)return efe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/audit",querystring:n,body:s},t,r)}KN.exports=tfe});var ic=o((kLe,zN)=>{"use strict";var{normalizeArguments:rfe,handleMissingParam:sfe}=l();function nfe(e,t,r){if([e,t,r]=rfe(e,t,r),e.body==null)return sfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/securityconfig",querystring:n,body:s},t,r)}zN.exports=nfe});var oc=o((e1e,jN)=>{"use strict";var{normalizeArguments:ufe,parsePathParam:ife,handleMissingParam:ofe}=l();function afe(e,t,r){if([e,t,r]=ufe(e,t,r),e.cluster_name==null)return ofe("cluster_name",this,r);let{body:s,cluster_name:n,...u}=e;n=ife(n);let i="/_plugins/_security/api/nodesdn/"+n,a="PATCH";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}jN.exports=afe});var ac=o((t1e,VN)=>{"use strict";var{normalizeArguments:dfe,handleMissingParam:lfe}=l();function cfe(e,t,r){if([e,t,r]=dfe(e,t,r),e.body==null)return lfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/nodesdn",querystring:n,body:s},t,r)}VN.exports=cfe});var dc=o((r1e,WN)=>{"use strict";var{normalizeArguments:hfe,parsePathParam:ffe,handleMissingParam:XN}=l();function _fe(e,t,r){if([e,t,r]=hfe(e,t,r),e.role==null)return XN("role",this,r);if(e.body==null)return XN("body",this,r);let{body:s,role:n,...u}=e;n=ffe(n);let i="/_plugins/_security/api/roles/"+n;return this.transport.request({method:"PATCH",path:i,querystring:u,body:s},t,r)}WN.exports=_fe});var lc=o((s1e,$N)=>{"use strict";var{normalizeArguments:mfe,parsePathParam:pfe,handleMissingParam:ZN}=l();function Efe(e,t,r){if([e,t,r]=mfe(e,t,r),e.role==null)return ZN("role",this,r);if(e.body==null)return ZN("body",this,r);let{body:s,role:n,...u}=e;n=pfe(n);let i="/_plugins/_security/api/rolesmapping/"+n;return this.transport.request({method:"PATCH",path:i,querystring:u,body:s},t,r)}$N.exports=Efe});var cc=o((n1e,JN)=>{"use strict";var{normalizeArguments:gfe,handleMissingParam:yfe}=l();function Afe(e,t,r){if([e,t,r]=gfe(e,t,r),e.body==null)return yfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/rolesmapping",querystring:n,body:s},t,r)}JN.exports=Afe});var hc=o((u1e,QN)=>{"use strict";var{normalizeArguments:Sfe,handleMissingParam:Rfe}=l();function Cfe(e,t,r){if([e,t,r]=Sfe(e,t,r),e.body==null)return Rfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/roles",querystring:n,body:s},t,r)}QN.exports=Cfe});var fc=o((i1e,eL)=>{"use strict";var{normalizeArguments:Dfe,parsePathParam:Tfe,handleMissingParam:kN}=l();function Pfe(e,t,r){if([e,t,r]=Dfe(e,t,r),e.tenant==null)return kN("tenant",this,r);if(e.body==null)return kN("body",this,r);let{body:s,tenant:n,...u}=e;n=Tfe(n);let i="/_plugins/_security/api/tenants/"+n;return this.transport.request({method:"PATCH",path:i,querystring:u,body:s},t,r)}eL.exports=Pfe});var _c=o((o1e,tL)=>{"use strict";var{normalizeArguments:qfe,handleMissingParam:Ofe}=l();function Mfe(e,t,r){if([e,t,r]=qfe(e,t,r),e.body==null)return Ofe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/tenants",querystring:n,body:s},t,r)}tL.exports=Mfe});var mc=o((a1e,sL)=>{"use strict";var{normalizeArguments:Ife,parsePathParam:Nfe,handleMissingParam:rL}=l();function Lfe(e,t,r){if([e,t,r]=Ife(e,t,r),e.username==null)return rL("username",this,r);if(e.body==null)return rL("body",this,r);let{body:s,username:n,...u}=e;n=Nfe(n);let i="/_plugins/_security/api/internalusers/"+n;return this.transport.request({method:"PATCH",path:i,querystring:u,body:s},t,r)}sL.exports=Lfe});var pc=o((d1e,nL)=>{"use strict";var{normalizeArguments:Ffe,handleMissingParam:vfe}=l();function bfe(e,t,r){if([e,t,r]=Ffe(e,t,r),e.body==null)return vfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PATCH",path:"/_plugins/_security/api/internalusers",querystring:n,body:s},t,r)}nL.exports=bfe});var Ec=o((l1e,uL)=>{"use strict";var{normalizeArguments:xfe}=l();function wfe(e,t,r){[e,t,r]=xfe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/dashboardsinfo",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}uL.exports=wfe});var gc=o((c1e,iL)=>{"use strict";var{normalizeArguments:Bfe}=l();function Gfe(e,t,r){[e,t,r]=Bfe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/ssl/http/reloadcerts",i="PUT";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}iL.exports=Gfe});var yc=o((h1e,oL)=>{"use strict";var{normalizeArguments:Ufe}=l();function Yfe(e,t,r){[e,t,r]=Ufe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/ssl/transport/reloadcerts",i="PUT";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}oL.exports=Yfe});var Ac=o((f1e,aL)=>{"use strict";var{normalizeArguments:Hfe}=l();function Kfe(e,t,r){[e,t,r]=Hfe(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/tenantinfo",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}aL.exports=Kfe});var Sc=o((_1e,dL)=>{"use strict";var{normalizeArguments:zfe,handleMissingParam:jfe}=l();function Vfe(e,t,r){if([e,t,r]=zfe(e,t,r),e.body==null)return jfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_plugins/_security/api/audit/config",querystring:n,body:s},t,r)}dL.exports=Vfe});var Rc=o((m1e,lL)=>{"use strict";var{normalizeArguments:Xfe,handleMissingParam:Wfe}=l();function Zfe(e,t,r){if([e,t,r]=Xfe(e,t,r),e.body==null)return Wfe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_plugins/_security/api/securityconfig/config",querystring:n,body:s},t,r)}lL.exports=Zfe});var Cc=o((p1e,cL)=>{"use strict";var{normalizeArguments:$fe,parsePathParam:Jfe,handleMissingParam:Qfe}=l();function kfe(e,t,r){if([e,t,r]=$fe(e,t,r),e.cluster_name==null)return Qfe("cluster_name",this,r);let{body:s,cluster_name:n,...u}=e;n=Jfe(n);let i="/_plugins/_security/api/nodesdn/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cL.exports=kfe});var fL=o((E1e,hL)=>{"use strict";var{normalizeArguments:e_e}=l();function t_e(e,t,r){[e,t,r]=e_e(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/api/validate",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}hL.exports=t_e});var Dc=o((g1e,_L)=>{"use strict";var{normalizeArguments:r_e}=l();function s_e(e,t,r){[e,t,r]=r_e(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/whoami",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}_L.exports=s_e});var Tc=o((y1e,mL)=>{"use strict";var{normalizeArguments:n_e}=l();function u_e(e,t,r){[e,t,r]=n_e(e,t,r);let{body:s,...n}=e,u="/_plugins/_security/whoamiprotected",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}mL.exports=u_e});var EL=o((A1e,pL)=>{"use strict";function i_e(e){this.authinfo=FI().bind(e),this.authtoken=bI().bind(e),this.changePassword=dl().bind(e),this.configUpgradeCheck=ll().bind(e),this.configUpgradePerform=cl().bind(e),this.createActionGroup=hl().bind(e),this.createAllowlist=fl().bind(e),this.createRole=_l().bind(e),this.createRoleMapping=ml().bind(e),this.createTenant=pl().bind(e),this.createUpdateTenancyConfig=El().bind(e),this.createUser=gl().bind(e),this.createUserLegacy=yl().bind(e),this.deleteActionGroup=Al().bind(e),this.deleteDistinguishedName=Sl().bind(e),this.deleteRole=Rl().bind(e),this.deleteRoleMapping=Cl().bind(e),this.deleteTenant=Dl().bind(e),this.deleteUser=Tl().bind(e),this.deleteUserLegacy=Pl().bind(e),this.flushCache=ql().bind(e),this.generateOboToken=Ol().bind(e),this.generateUserToken=Ml().bind(e),this.generateUserTokenLegacy=Il().bind(e),this.getAccountDetails=Nl().bind(e),this.getActionGroup=Ll().bind(e),this.getActionGroups=Fl().bind(e),this.getAllCertificates=vl().bind(e),this.getAllowlist=bl().bind(e),this.getAuditConfiguration=xl().bind(e),this.getCertificates=wl().bind(e),this.getConfiguration=Bl().bind(e),this.getDashboardsInfo=Gl().bind(e),this.getDistinguishedName=Ul().bind(e),this.getDistinguishedNames=Yl().bind(e),this.getNodeCertificates=Hl().bind(e),this.getPermissionsInfo=Kl().bind(e),this.getRole=zl().bind(e),this.getRoleMapping=jl().bind(e),this.getRoleMappings=Vl().bind(e),this.getRoles=Xl().bind(e),this.getSslinfo=Wl().bind(e),this.getTenancyConfig=Zl().bind(e),this.getTenant=$l().bind(e),this.getTenants=Jl().bind(e),this.getUser=Ql().bind(e),this.getUserLegacy=kl().bind(e),this.getUsers=ec().bind(e),this.getUsersLegacy=tc().bind(e),this.health=xN().bind(e),this.migrate=BN().bind(e),this.patchActionGroup=rc().bind(e),this.patchActionGroups=sc().bind(e),this.patchAllowlist=nc().bind(e),this.patchAuditConfiguration=uc().bind(e),this.patchConfiguration=ic().bind(e),this.patchDistinguishedName=oc().bind(e),this.patchDistinguishedNames=ac().bind(e),this.patchRole=dc().bind(e),this.patchRoleMapping=lc().bind(e),this.patchRoleMappings=cc().bind(e),this.patchRoles=hc().bind(e),this.patchTenant=fc().bind(e),this.patchTenants=_c().bind(e),this.patchUser=mc().bind(e),this.patchUsers=pc().bind(e),this.postDashboardsInfo=Ec().bind(e),this.reloadHttpCertificates=gc().bind(e),this.reloadTransportCertificates=yc().bind(e),this.tenantInfo=Ac().bind(e),this.updateAuditConfiguration=Sc().bind(e),this.updateConfiguration=Rc().bind(e),this.updateDistinguishedName=Cc().bind(e),this.validate=fL().bind(e),this.whoAmI=Dc().bind(e),this.whoAmIProtected=Tc().bind(e),this.change_password=dl().bind(e),this.config_upgrade_check=ll().bind(e),this.config_upgrade_perform=cl().bind(e),this.create_action_group=hl().bind(e),this.create_allowlist=fl().bind(e),this.create_role=_l().bind(e),this.create_role_mapping=ml().bind(e),this.create_tenant=pl().bind(e),this.create_update_tenancy_config=El().bind(e),this.create_user=gl().bind(e),this.create_user_legacy=yl().bind(e),this.delete_action_group=Al().bind(e),this.delete_distinguished_name=Sl().bind(e),this.delete_role=Rl().bind(e),this.delete_role_mapping=Cl().bind(e),this.delete_tenant=Dl().bind(e),this.delete_user=Tl().bind(e),this.delete_user_legacy=Pl().bind(e),this.flush_cache=ql().bind(e),this.generate_obo_token=Ol().bind(e),this.generate_user_token=Ml().bind(e),this.generate_user_token_legacy=Il().bind(e),this.get_account_details=Nl().bind(e),this.get_action_group=Ll().bind(e),this.get_action_groups=Fl().bind(e),this.get_all_certificates=vl().bind(e),this.get_allowlist=bl().bind(e),this.get_audit_configuration=xl().bind(e),this.get_certificates=wl().bind(e),this.get_configuration=Bl().bind(e),this.get_dashboards_info=Gl().bind(e),this.get_distinguished_name=Ul().bind(e),this.get_distinguished_names=Yl().bind(e),this.get_node_certificates=Hl().bind(e),this.get_permissions_info=Kl().bind(e),this.get_role=zl().bind(e),this.get_role_mapping=jl().bind(e),this.get_role_mappings=Vl().bind(e),this.get_roles=Xl().bind(e),this.get_sslinfo=Wl().bind(e),this.get_tenancy_config=Zl().bind(e),this.get_tenant=$l().bind(e),this.get_tenants=Jl().bind(e),this.get_user=Ql().bind(e),this.get_user_legacy=kl().bind(e),this.get_users=ec().bind(e),this.get_users_legacy=tc().bind(e),this.patch_action_group=rc().bind(e),this.patch_action_groups=sc().bind(e),this.patch_allowlist=nc().bind(e),this.patch_audit_configuration=uc().bind(e),this.patch_configuration=ic().bind(e),this.patch_distinguished_name=oc().bind(e),this.patch_distinguished_names=ac().bind(e),this.patch_role=dc().bind(e),this.patch_role_mapping=lc().bind(e),this.patch_role_mappings=cc().bind(e),this.patch_roles=hc().bind(e),this.patch_tenant=fc().bind(e),this.patch_tenants=_c().bind(e),this.patch_user=mc().bind(e),this.patch_users=pc().bind(e),this.post_dashboards_info=Ec().bind(e),this.reload_http_certificates=gc().bind(e),this.reload_transport_certificates=yc().bind(e),this.tenant_info=Ac().bind(e),this.update_audit_configuration=Sc().bind(e),this.update_configuration=Rc().bind(e),this.update_distinguished_name=Cc().bind(e),this.who_am_i=Dc().bind(e),this.who_am_i_protected=Tc().bind(e)}pL.exports=i_e});var Pc=o((S1e,gL)=>{"use strict";var{normalizeArguments:o_e,parsePathParam:a_e,handleMissingParam:d_e}=l();function l_e(e,t,r){if([e,t,r]=o_e(e,t,r),e.policy_name==null)return d_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=a_e(n);let i="/_plugins/_sm/policies/"+n,a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}gL.exports=l_e});var qc=o((R1e,yL)=>{"use strict";var{normalizeArguments:c_e,parsePathParam:h_e,handleMissingParam:f_e}=l();function __e(e,t,r){if([e,t,r]=c_e(e,t,r),e.policy_name==null)return f_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=h_e(n);let i="/_plugins/_sm/policies/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yL.exports=__e});var Oc=o((C1e,AL)=>{"use strict";var{normalizeArguments:m_e,parsePathParam:p_e,handleMissingParam:E_e}=l();function g_e(e,t,r){if([e,t,r]=m_e(e,t,r),e.policy_name==null)return E_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=p_e(n);let i="/_plugins/_sm/policies/"+n+"/_explain",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}AL.exports=g_e});var Mc=o((D1e,SL)=>{"use strict";var{normalizeArguments:y_e}=l();function A_e(e,t,r){[e,t,r]=y_e(e,t,r);let{body:s,...n}=e,u="/_plugins/_sm/policies",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}SL.exports=A_e});var Ic=o((T1e,RL)=>{"use strict";var{normalizeArguments:S_e,parsePathParam:R_e,handleMissingParam:C_e}=l();function D_e(e,t,r){if([e,t,r]=S_e(e,t,r),e.policy_name==null)return C_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=R_e(n);let i="/_plugins/_sm/policies/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}RL.exports=D_e});var Nc=o((P1e,CL)=>{"use strict";var{normalizeArguments:T_e,parsePathParam:P_e,handleMissingParam:q_e}=l();function O_e(e,t,r){if([e,t,r]=T_e(e,t,r),e.policy_name==null)return q_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=P_e(n);let i="/_plugins/_sm/policies/"+n+"/_start",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}CL.exports=O_e});var Lc=o((q1e,DL)=>{"use strict";var{normalizeArguments:M_e,parsePathParam:I_e,handleMissingParam:N_e}=l();function L_e(e,t,r){if([e,t,r]=M_e(e,t,r),e.policy_name==null)return N_e("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=I_e(n);let i="/_plugins/_sm/policies/"+n+"/_stop",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}DL.exports=L_e});var vc=o((O1e,TL)=>{"use strict";var{normalizeArguments:F_e,parsePathParam:v_e,handleMissingParam:Fc}=l();function b_e(e,t,r){if([e,t,r]=F_e(e,t,r),e.if_primary_term==null)return Fc("if_primary_term",this,r);if(e.if_seq_no==null)return Fc("if_seq_no",this,r);if(e.policy_name==null)return Fc("policy_name",this,r);let{body:s,policy_name:n,...u}=e;n=v_e(n);let i="/_plugins/_sm/policies/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}TL.exports=b_e});var qL=o((M1e,PL)=>{"use strict";function x_e(e){this.createPolicy=Pc().bind(e),this.deletePolicy=qc().bind(e),this.explainPolicy=Oc().bind(e),this.getPolicies=Mc().bind(e),this.getPolicy=Ic().bind(e),this.startPolicy=Nc().bind(e),this.stopPolicy=Lc().bind(e),this.updatePolicy=vc().bind(e),this.create_policy=Pc().bind(e),this.delete_policy=qc().bind(e),this.explain_policy=Oc().bind(e),this.get_policies=Mc().bind(e),this.get_policy=Ic().bind(e),this.start_policy=Nc().bind(e),this.stop_policy=Lc().bind(e),this.update_policy=vc().bind(e)}PL.exports=x_e});var bc=o((I1e,OL)=>{"use strict";var{normalizeArguments:w_e,parsePathParam:B_e,handleMissingParam:G_e}=l();function U_e(e,t,r){if([e,t,r]=w_e(e,t,r),e.repository==null)return G_e("repository",this,r);let{body:s,repository:n,...u}=e;n=B_e(n);let i="/_snapshot/"+n+"/_cleanup",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}OL.exports=U_e});var IL=o((N1e,ML)=>{"use strict";var{normalizeArguments:Y_e,parsePathParam:xc,handleMissingParam:su}=l();function H_e(e,t,r){if([e,t,r]=Y_e(e,t,r),e.repository==null)return su("repository",this,r);if(e.snapshot==null)return su("snapshot",this,r);if(e.target_snapshot==null)return su("target_snapshot",this,r);if(e.body==null)return su("body",this,r);let{body:s,repository:n,snapshot:u,target_snapshot:i,...a}=e;n=xc(n),u=xc(u),i=xc(i);let d="/_snapshot/"+n+"/"+u+"/_clone/"+i;return this.transport.request({method:"PUT",path:d,querystring:a,body:s},t,r)}ML.exports=H_e});var vL=o((L1e,FL)=>{"use strict";var{normalizeArguments:K_e,parsePathParam:NL,handleMissingParam:LL}=l();function z_e(e,t,r){if([e,t,r]=K_e(e,t,r),e.repository==null)return LL("repository",this,r);if(e.snapshot==null)return LL("snapshot",this,r);let{body:s,repository:n,snapshot:u,...i}=e;n=NL(n),u=NL(u);let a="/_snapshot/"+n+"/"+u,d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}FL.exports=z_e});var wc=o((F1e,xL)=>{"use strict";var{normalizeArguments:j_e,parsePathParam:V_e,handleMissingParam:bL}=l();function X_e(e,t,r){if([e,t,r]=j_e(e,t,r),e.repository==null)return bL("repository",this,r);if(e.body==null)return bL("body",this,r);let{body:s,repository:n,...u}=e;n=V_e(n);let i="/_snapshot/"+n;return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}xL.exports=X_e});var UL=o((v1e,GL)=>{"use strict";var{normalizeArguments:W_e,parsePathParam:wL,handleMissingParam:BL}=l();function Z_e(e,t,r){if([e,t,r]=W_e(e,t,r),e.repository==null)return BL("repository",this,r);if(e.snapshot==null)return BL("snapshot",this,r);let{body:s,repository:n,snapshot:u,...i}=e;n=wL(n),u=wL(u);let a="/_snapshot/"+n+"/"+u,d="DELETE";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}GL.exports=Z_e});var Bc=o((b1e,YL)=>{"use strict";var{normalizeArguments:$_e,parsePathParam:J_e,handleMissingParam:Q_e}=l();function k_e(e,t,r){if([e,t,r]=$_e(e,t,r),e.repository==null)return Q_e("repository",this,r);let{body:s,repository:n,...u}=e;n=J_e(n);let i="/_snapshot/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}YL.exports=k_e});var jL=o((x1e,zL)=>{"use strict";var{normalizeArguments:eme,parsePathParam:HL,handleMissingParam:KL}=l();function tme(e,t,r){if([e,t,r]=eme(e,t,r),e.repository==null)return KL("repository",this,r);if(e.snapshot==null)return KL("snapshot",this,r);let{body:s,repository:n,snapshot:u,...i}=e;n=HL(n),u=HL(u);let a="/_snapshot/"+n+"/"+u,d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}zL.exports=tme});var Gc=o((w1e,VL)=>{"use strict";var{normalizeArguments:rme,parsePathParam:sme}=l();function nme(e,t,r){[e,t,r]=rme(e,t,r);let{body:s,repository:n,...u}=e;n=sme(n);let i=["/_snapshot",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}VL.exports=nme});var $L=o((B1e,ZL)=>{"use strict";var{normalizeArguments:ume,parsePathParam:XL,handleMissingParam:WL}=l();function ime(e,t,r){if([e,t,r]=ume(e,t,r),e.repository==null)return WL("repository",this,r);if(e.snapshot==null)return WL("snapshot",this,r);let{body:s,repository:n,snapshot:u,...i}=e;n=XL(n),u=XL(u);let a="/_snapshot/"+n+"/"+u+"/_restore",d="POST";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}ZL.exports=ime});var kL=o((G1e,QL)=>{"use strict";var{normalizeArguments:ome,parsePathParam:JL}=l();function ame(e,t,r){[e,t,r]=ome(e,t,r);let{body:s,repository:n,snapshot:u,...i}=e;n=JL(n),u=JL(u);let a=["/_snapshot",n,u,"_status"].filter(h=>h!=null).join("/"),d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}QL.exports=ame});var Uc=o((U1e,e1)=>{"use strict";var{normalizeArguments:dme,parsePathParam:lme,handleMissingParam:cme}=l();function hme(e,t,r){if([e,t,r]=dme(e,t,r),e.repository==null)return cme("repository",this,r);let{body:s,repository:n,...u}=e;n=lme(n);let i="/_snapshot/"+n+"/_verify",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}e1.exports=hme});var r1=o((Y1e,t1)=>{"use strict";function fme(e){this.cleanupRepository=bc().bind(e),this.clone=IL().bind(e),this.create=vL().bind(e),this.createRepository=wc().bind(e),this.delete=UL().bind(e),this.deleteRepository=Bc().bind(e),this.get=jL().bind(e),this.getRepository=Gc().bind(e),this.restore=$L().bind(e),this.status=kL().bind(e),this.verifyRepository=Uc().bind(e),this.cleanup_repository=bc().bind(e),this.create_repository=wc().bind(e),this.delete_repository=Bc().bind(e),this.get_repository=Gc().bind(e),this.verify_repository=Uc().bind(e)}t1.exports=fme});var n1=o((H1e,s1)=>{"use strict";var{normalizeArguments:_me}=l();function mme(e,t,r){[e,t,r]=_me(e,t,r);let{body:s,...n}=e,u="/_plugins/_sql/close",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}s1.exports=mme});var i1=o((K1e,u1)=>{"use strict";var{normalizeArguments:pme}=l();function Eme(e,t,r){[e,t,r]=pme(e,t,r);let{body:s,...n}=e,u="/_plugins/_sql/_explain",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}u1.exports=Eme});var Yc=o((z1e,o1)=>{"use strict";var{normalizeArguments:gme}=l();function yme(e,t,r){[e,t,r]=gme(e,t,r);let{body:s,...n}=e,u="/_plugins/_sql/stats",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}o1.exports=yme});var Hc=o((j1e,a1)=>{"use strict";var{normalizeArguments:Ame}=l();function Sme(e,t,r){[e,t,r]=Ame(e,t,r);let{body:s,...n}=e,u="/_plugins/_sql/stats",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}a1.exports=Sme});var l1=o((V1e,d1)=>{"use strict";var{normalizeArguments:Rme}=l();function Cme(e,t,r){[e,t,r]=Rme(e,t,r);let{body:s,...n}=e,u="/_plugins/_sql",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}d1.exports=Cme});var h1=o((X1e,c1)=>{"use strict";var{normalizeArguments:Dme}=l();function Tme(e,t,r){[e,t,r]=Dme(e,t,r);let{body:s,...n}=e,u="/_plugins/_query/settings",i="PUT";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}c1.exports=Tme});var _1=o((W1e,f1)=>{"use strict";function Pme(e){this.close=n1().bind(e),this.explain=i1().bind(e),this.getStats=Yc().bind(e),this.postStats=Hc().bind(e),this.query=l1().bind(e),this.settings=h1().bind(e),this.get_stats=Yc().bind(e),this.post_stats=Hc().bind(e)}f1.exports=Pme});var p1=o((Z1e,m1)=>{"use strict";var{normalizeArguments:qme,parsePathParam:Ome}=l();function Mme(e,t,r){[e,t,r]=qme(e,t,r);let{body:s,task_id:n,...u}=e;n=Ome(n);let i=["/_tasks",n,"_cancel"].filter(d=>d!=null).join("/"),a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}m1.exports=Mme});var g1=o(($1e,E1)=>{"use strict";var{normalizeArguments:Ime,parsePathParam:Nme,handleMissingParam:Lme}=l();function Fme(e,t,r){if([e,t,r]=Ime(e,t,r),e.task_id==null)return Lme("task_id",this,r);let{body:s,task_id:n,...u}=e;n=Nme(n);let i="/_tasks/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}E1.exports=Fme});var A1=o((J1e,y1)=>{"use strict";var{normalizeArguments:vme}=l();function bme(e,t,r){[e,t,r]=vme(e,t,r);let{body:s,...n}=e,u="/_tasks",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}y1.exports=bme});var R1=o((Q1e,S1)=>{"use strict";function xme(e){this.cancel=p1().bind(e),this.get=g1().bind(e),this.list=A1().bind(e)}S1.exports=xme});var D1=o((k1e,C1)=>{"use strict";var{normalizeArguments:wme,parsePathParam:Bme,handleMissingParam:Gme}=l();function Ume(e,t,r){if([e,t,r]=wme(e,t,r),e.id==null)return Gme("id",this,r);let{body:s,id:n,...u}=e;n=Bme(n);let i="/_plugins/_transform/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}C1.exports=Ume});var P1=o((eFe,T1)=>{"use strict";var{normalizeArguments:Yme,parsePathParam:Hme,handleMissingParam:Kme}=l();function zme(e,t,r){if([e,t,r]=Yme(e,t,r),e.id==null)return Kme("id",this,r);let{body:s,id:n,...u}=e;n=Hme(n);let i="/_plugins/_transform/"+n+"/_explain",a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}T1.exports=zme});var O1=o((tFe,q1)=>{"use strict";var{normalizeArguments:jme,parsePathParam:Vme,handleMissingParam:Xme}=l();function Wme(e,t,r){if([e,t,r]=jme(e,t,r),e.id==null)return Xme("id",this,r);let{body:s,id:n,...u}=e;n=Vme(n);let i="/_plugins/_transform/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}q1.exports=Wme});var I1=o((rFe,M1)=>{"use strict";var{normalizeArguments:Zme}=l();function $me(e,t,r){[e,t,r]=Zme(e,t,r);let{body:s,...n}=e,u="/_plugins/_transform/_preview",i="POST";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}M1.exports=$me});var L1=o((sFe,N1)=>{"use strict";var{normalizeArguments:Jme,parsePathParam:Qme,handleMissingParam:kme}=l();function epe(e,t,r){if([e,t,r]=Jme(e,t,r),e.id==null)return kme("id",this,r);let{body:s,id:n,...u}=e;n=Qme(n);let i="/_plugins/_transform/"+n,a="PUT";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}N1.exports=epe});var v1=o((nFe,F1)=>{"use strict";var{normalizeArguments:tpe}=l();function rpe(e,t,r){[e,t,r]=tpe(e,t,r);let{body:s,...n}=e,u="/_plugins/_transform",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}F1.exports=rpe});var x1=o((uFe,b1)=>{"use strict";var{normalizeArguments:spe,parsePathParam:npe,handleMissingParam:upe}=l();function ipe(e,t,r){if([e,t,r]=spe(e,t,r),e.id==null)return upe("id",this,r);let{body:s,id:n,...u}=e;n=npe(n);let i="/_plugins/_transform/"+n+"/_start",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}b1.exports=ipe});var B1=o((iFe,w1)=>{"use strict";var{normalizeArguments:ope,parsePathParam:ape,handleMissingParam:dpe}=l();function lpe(e,t,r){if([e,t,r]=ope(e,t,r),e.id==null)return dpe("id",this,r);let{body:s,id:n,...u}=e;n=ape(n);let i="/_plugins/_transform/"+n+"/_stop",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}w1.exports=lpe});var U1=o((oFe,G1)=>{"use strict";function cpe(e){this.delete=D1().bind(e),this.explain=P1().bind(e),this.get=O1().bind(e),this.preview=I1().bind(e),this.put=L1().bind(e),this.search=v1().bind(e),this.start=x1().bind(e),this.stop=B1().bind(e)}G1.exports=cpe});var Kc=o((aFe,Y1)=>{"use strict";var{normalizeArguments:hpe,handleMissingParam:fpe}=l();function _pe(e,t,r){if([e,t,r]=hpe(e,t,r),e.body==null)return fpe("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"PUT",path:"/_wlm/query_group",querystring:n,body:s},t,r)}Y1.exports=_pe});var zc=o((dFe,H1)=>{"use strict";var{normalizeArguments:mpe,parsePathParam:ppe,handleMissingParam:Epe}=l();function gpe(e,t,r){if([e,t,r]=mpe(e,t,r),e.name==null)return Epe("name",this,r);let{body:s,name:n,...u}=e;n=ppe(n);let i="/_wlm/query_group/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}H1.exports=gpe});var jc=o((lFe,K1)=>{"use strict";var{normalizeArguments:ype,parsePathParam:Ape}=l();function Spe(e,t,r){[e,t,r]=ype(e,t,r);let{body:s,name:n,...u}=e;n=Ape(n);let i=["/_wlm/query_group",n].filter(d=>d!=null).join("/"),a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}K1.exports=Spe});var Vc=o((cFe,j1)=>{"use strict";var{normalizeArguments:Rpe,parsePathParam:Cpe,handleMissingParam:z1}=l();function Dpe(e,t,r){if([e,t,r]=Rpe(e,t,r),e.name==null)return z1("name",this,r);if(e.body==null)return z1("body",this,r);let{body:s,name:n,...u}=e;n=Cpe(n);let i="/_wlm/query_group/"+n;return this.transport.request({method:"PUT",path:i,querystring:u,body:s},t,r)}j1.exports=Dpe});var X1=o((hFe,V1)=>{"use strict";function Tpe(e){this.createQueryGroup=Kc().bind(e),this.deleteQueryGroup=zc().bind(e),this.getQueryGroup=jc().bind(e),this.updateQueryGroup=Vc().bind(e),this.create_query_group=Kc().bind(e),this.delete_query_group=zc().bind(e),this.get_query_group=jc().bind(e),this.update_query_group=Vc().bind(e)}V1.exports=Tpe});var Z1=o((fFe,W1)=>{"use strict";var{normalizeArguments:Ppe,parsePathParam:qpe,handleMissingParam:Ope}=l();function Mpe(e,t,r){if([e,t,r]=Ppe(e,t,r),e.body==null)return Ope("body",this,r);let{body:s,index:n,...u}=e;n=qpe(n);let i=["",n,"_bulk"].filter(d=>d!=null).join("/"),a=n==null?"POST":"PUT";return this.transport.request({method:a,path:i,querystring:u,bulkBody:s},t,r)}W1.exports=Mpe});var Xc=o((_Fe,$1)=>{"use strict";var{normalizeArguments:Ipe,parsePathParam:Npe,handleMissingParam:Lpe}=l();function Fpe(e,t,r){if([e,t,r]=Ipe(e,t,r),e.body==null)return Lpe("body",this,r);let{body:s,index:n,...u}=e;n=Npe(n);let i=["",n,"_bulk/stream"].filter(d=>d!=null).join("/"),a=n==null?"POST":"PUT";return this.transport.request({method:a,path:i,querystring:u,bulkBody:s},t,r)}$1.exports=Fpe});var Wc=o((mFe,J1)=>{"use strict";var{normalizeArguments:vpe,parsePathParam:bpe}=l();function xpe(e,t,r){[e,t,r]=vpe(e,t,r);let{body:s,scroll_id:n,...u}=e;n=bpe(n);let i=["/_search/scroll",n].filter(d=>d!=null).join("/"),a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}J1.exports=xpe});var k1=o((pFe,Q1)=>{"use strict";var{normalizeArguments:wpe,parsePathParam:Bpe}=l();function Gpe(e,t,r){[e,t,r]=wpe(e,t,r);let{body:s,index:n,...u}=e;n=Bpe(n);let i=["",n,"_count"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Q1.exports=Gpe});var rF=o((EFe,tF)=>{"use strict";var{normalizeArguments:Upe,parsePathParam:eF,handleMissingParam:Zc}=l();function Ype(e,t,r){if([e,t,r]=Upe(e,t,r),e.id==null)return Zc("id",this,r);if(e.index==null)return Zc("index",this,r);if(e.body==null)return Zc("body",this,r);let{body:s,id:n,index:u,...i}=e;n=eF(n),u=eF(u);let a="/"+u+"/_create/"+n;return this.transport.request({method:"POST",path:a,querystring:i,body:s},t,r)}tF.exports=Ype});var $c=o((gFe,sF)=>{"use strict";var{normalizeArguments:Hpe,parsePathParam:Kpe,handleMissingParam:zpe}=l();function jpe(e,t,r){if([e,t,r]=Hpe(e,t,r),e.index==null)return zpe("index",this,r);let{body:s,index:n,...u}=e;n=Kpe(n);let i="/"+n+"/_search/point_in_time",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}sF.exports=jpe});var oF=o((yFe,iF)=>{"use strict";var{normalizeArguments:Vpe,parsePathParam:nF,handleMissingParam:uF}=l();function Xpe(e,t,r){if([e,t,r]=Vpe(e,t,r),e.id==null)return uF("id",this,r);if(e.index==null)return uF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=nF(n),u=nF(u);let a="/"+u+"/_doc/"+n,d="DELETE";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}iF.exports=Xpe});var Jc=o((AFe,aF)=>{"use strict";var{normalizeArguments:Wpe}=l();function Zpe(e,t,r){[e,t,r]=Wpe(e,t,r);let{body:s,...n}=e,u="/_search/point_in_time/_all",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}aF.exports=Zpe});var Qc=o((SFe,lF)=>{"use strict";var{normalizeArguments:$pe,parsePathParam:Jpe,handleMissingParam:dF}=l();function Qpe(e,t,r){if([e,t,r]=$pe(e,t,r),e.index==null)return dF("index",this,r);if(e.body==null)return dF("body",this,r);let{body:s,index:n,...u}=e;n=Jpe(n);let i="/"+n+"/_delete_by_query";return this.transport.request({method:"POST",path:i,querystring:u,body:s},t,r)}lF.exports=Qpe});var kc=o((RFe,cF)=>{"use strict";var{normalizeArguments:kpe,parsePathParam:eEe,handleMissingParam:tEe}=l();function rEe(e,t,r){if([e,t,r]=kpe(e,t,r),e.task_id==null)return tEe("task_id",this,r);let{body:s,task_id:n,...u}=e;n=eEe(n);let i="/_delete_by_query/"+n+"/_rethrottle",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cF.exports=rEe});var eh=o((CFe,hF)=>{"use strict";var{normalizeArguments:sEe}=l();function nEe(e,t,r){[e,t,r]=sEe(e,t,r);let{body:s,...n}=e,u="/_search/point_in_time",i="DELETE";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}hF.exports=nEe});var th=o((DFe,fF)=>{"use strict";var{normalizeArguments:uEe,parsePathParam:iEe,handleMissingParam:oEe}=l();function aEe(e,t,r){if([e,t,r]=uEe(e,t,r),e.id==null)return oEe("id",this,r);let{body:s,id:n,...u}=e;n=iEe(n);let i="/_scripts/"+n,a="DELETE";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}fF.exports=aEe});var EF=o((TFe,pF)=>{"use strict";var{normalizeArguments:dEe,parsePathParam:_F,handleMissingParam:mF}=l();function lEe(e,t,r){if([e,t,r]=dEe(e,t,r),e.id==null)return mF("id",this,r);if(e.index==null)return mF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=_F(n),u=_F(u);let a="/"+u+"/_doc/"+n,d="HEAD";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}pF.exports=lEe});var rh=o((PFe,AF)=>{"use strict";var{normalizeArguments:cEe,parsePathParam:gF,handleMissingParam:yF}=l();function hEe(e,t,r){if([e,t,r]=cEe(e,t,r),e.id==null)return yF("id",this,r);if(e.index==null)return yF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=gF(n),u=gF(u);let a="/"+u+"/_source/"+n,d="HEAD";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}AF.exports=hEe});var DF=o((qFe,CF)=>{"use strict";var{normalizeArguments:fEe,parsePathParam:SF,handleMissingParam:RF}=l();function _Ee(e,t,r){if([e,t,r]=fEe(e,t,r),e.id==null)return RF("id",this,r);if(e.index==null)return RF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=SF(n),u=SF(u);let a="/"+u+"/_explain/"+n,d=s?"POST":"GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}CF.exports=_Ee});var sh=o((OFe,TF)=>{"use strict";var{normalizeArguments:mEe,parsePathParam:pEe}=l();function EEe(e,t,r){[e,t,r]=mEe(e,t,r);let{body:s,index:n,...u}=e;n=pEe(n);let i=["",n,"_field_caps"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}TF.exports=EEe});var MF=o((MFe,OF)=>{"use strict";var{normalizeArguments:gEe,parsePathParam:PF,handleMissingParam:qF}=l();function yEe(e,t,r){if([e,t,r]=gEe(e,t,r),e.id==null)return qF("id",this,r);if(e.index==null)return qF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=PF(n),u=PF(u);let a="/"+u+"/_doc/"+n,d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}OF.exports=yEe});var nh=o((IFe,IF)=>{"use strict";var{normalizeArguments:AEe}=l();function SEe(e,t,r){[e,t,r]=AEe(e,t,r);let{body:s,...n}=e,u="/_search/point_in_time/_all",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}IF.exports=SEe});var uh=o((NFe,NF)=>{"use strict";var{normalizeArguments:REe,parsePathParam:CEe,handleMissingParam:DEe}=l();function TEe(e,t,r){if([e,t,r]=REe(e,t,r),e.id==null)return DEe("id",this,r);let{body:s,id:n,...u}=e;n=CEe(n);let i="/_scripts/"+n,a="GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}NF.exports=TEe});var ih=o((LFe,LF)=>{"use strict";var{normalizeArguments:PEe}=l();function qEe(e,t,r){[e,t,r]=PEe(e,t,r);let{body:s,...n}=e,u="/_script_context",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}LF.exports=qEe});var oh=o((FFe,FF)=>{"use strict";var{normalizeArguments:OEe}=l();function MEe(e,t,r){[e,t,r]=OEe(e,t,r);let{body:s,...n}=e,u="/_script_language",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}FF.exports=MEe});var ah=o((vFe,xF)=>{"use strict";var{normalizeArguments:IEe,parsePathParam:vF,handleMissingParam:bF}=l();function NEe(e,t,r){if([e,t,r]=IEe(e,t,r),e.id==null)return bF("id",this,r);if(e.index==null)return bF("index",this,r);let{body:s,id:n,index:u,...i}=e;n=vF(n),u=vF(u);let a="/"+u+"/_source/"+n,d="GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}xF.exports=NEe});var UF=o((bFe,GF)=>{"use strict";var{normalizeArguments:LEe,parsePathParam:wF,handleMissingParam:BF}=l();function FEe(e,t,r){if([e,t,r]=LEe(e,t,r),e.index==null)return BF("index",this,r);if(e.body==null)return BF("body",this,r);let{body:s,index:n,id:u,...i}=e;n=wF(n),u=wF(u);let a=["",n,"_doc",u].filter(h=>h!=null).join("/"),d=u==null?"POST":"PUT";return this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}GF.exports=FEe});var HF=o((xFe,YF)=>{"use strict";var{normalizeArguments:vEe}=l();function bEe(e,t,r){[e,t,r]=vEe(e,t,r);let{body:s,...n}=e,u="/",i="GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}YF.exports=bEe});var zF=o((wFe,KF)=>{"use strict";var{normalizeArguments:xEe,parsePathParam:wEe,handleMissingParam:BEe}=l();function GEe(e,t,r){if([e,t,r]=xEe(e,t,r),e.body==null)return BEe("body",this,r);let{body:s,index:n,...u}=e;n=wEe(n);let i=["",n,"_mget"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}KF.exports=GEe});var VF=o((BFe,jF)=>{"use strict";var{normalizeArguments:UEe,parsePathParam:YEe,handleMissingParam:HEe}=l();function KEe(e,t,r){if([e,t,r]=UEe(e,t,r),e.body==null)return HEe("body",this,r);let{body:s,index:n,...u}=e;n=YEe(n);let i=["",n,"_msearch"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,bulkBody:s},t,r)}jF.exports=KEe});var dh=o((GFe,XF)=>{"use strict";var{normalizeArguments:zEe,parsePathParam:jEe,handleMissingParam:VEe}=l();function XEe(e,t,r){if([e,t,r]=zEe(e,t,r),e.body==null)return VEe("body",this,r);let{body:s,index:n,...u}=e;n=jEe(n);let i=["",n,"_msearch/template"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,bulkBody:s},t,r)}XF.exports=XEe});var ZF=o((UFe,WF)=>{"use strict";var{normalizeArguments:WEe,parsePathParam:ZEe}=l();function $Ee(e,t,r){[e,t,r]=WEe(e,t,r);let{body:s,index:n,...u}=e;n=ZEe(n);let i=["",n,"_mtermvectors"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}WF.exports=$Ee});var JF=o((YFe,$F)=>{"use strict";var{normalizeArguments:JEe}=l();function QEe(e,t,r){[e,t,r]=JEe(e,t,r);let{body:s,...n}=e,u="/",i="HEAD";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}$F.exports=QEe});var lh=o((HFe,ev)=>{"use strict";var{normalizeArguments:kEe,parsePathParam:QF,handleMissingParam:kF}=l();function ege(e,t,r){if([e,t,r]=kEe(e,t,r),e.id==null)return kF("id",this,r);if(e.body==null)return kF("body",this,r);let{body:s,id:n,context:u,...i}=e;n=QF(n),u=QF(u);let a=["/_scripts",n,u].filter(h=>h!=null).join("/"),d=u==null?"POST":"PUT";return this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}ev.exports=ege});var ch=o((KFe,tv)=>{"use strict";var{normalizeArguments:tge,parsePathParam:rge,handleMissingParam:sge}=l();function nge(e,t,r){if([e,t,r]=tge(e,t,r),e.body==null)return sge("body",this,r);let{body:s,index:n,...u}=e;n=rge(n);let i=["",n,"_rank_eval"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}tv.exports=nge});var sv=o((zFe,rv)=>{"use strict";var{normalizeArguments:uge,handleMissingParam:ige}=l();function oge(e,t,r){if([e,t,r]=uge(e,t,r),e.body==null)return ige("body",this,r);let{body:s,...n}=e;return this.transport.request({method:"POST",path:"/_reindex",querystring:n,body:s},t,r)}rv.exports=oge});var hh=o((jFe,nv)=>{"use strict";var{normalizeArguments:age,parsePathParam:dge,handleMissingParam:lge}=l();function cge(e,t,r){if([e,t,r]=age(e,t,r),e.task_id==null)return lge("task_id",this,r);let{body:s,task_id:n,...u}=e;n=dge(n);let i="/_reindex/"+n+"/_rethrottle",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}nv.exports=cge});var fh=o((VFe,uv)=>{"use strict";var{normalizeArguments:hge,parsePathParam:fge}=l();function _ge(e,t,r){[e,t,r]=hge(e,t,r);let{body:s,id:n,...u}=e;n=fge(n);let i=["/_render/template",n].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}uv.exports=_ge});var _h=o((XFe,iv)=>{"use strict";var{normalizeArguments:mge}=l();function pge(e,t,r){[e,t,r]=mge(e,t,r);let{body:s,...n}=e,u="/_scripts/painless/_execute",i=s?"POST":"GET";return s=s||"",this.transport.request({method:i,path:u,querystring:n,body:s},t,r)}iv.exports=pge});var av=o((WFe,ov)=>{"use strict";var{normalizeArguments:Ege,parsePathParam:gge}=l();function yge(e,t,r){[e,t,r]=Ege(e,t,r);let{body:s,scroll_id:n,...u}=e;n=gge(n);let i=["/_search/scroll",n].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}ov.exports=yge});var lv=o((ZFe,dv)=>{"use strict";var{normalizeArguments:Age,parsePathParam:Sge}=l();function Rge(e,t,r){[e,t,r]=Age(e,t,r);let{body:s,index:n,...u}=e;n=Sge(n);let i=["",n,"_search"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}dv.exports=Rge});var mh=o(($Fe,cv)=>{"use strict";var{normalizeArguments:Cge,parsePathParam:Dge}=l();function Tge(e,t,r){[e,t,r]=Cge(e,t,r);let{body:s,index:n,...u}=e;n=Dge(n);let i=["",n,"_search_shards"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}cv.exports=Tge});var ph=o((JFe,hv)=>{"use strict";var{normalizeArguments:Pge,parsePathParam:qge,handleMissingParam:Oge}=l();function Mge(e,t,r){if([e,t,r]=Pge(e,t,r),e.body==null)return Oge("body",this,r);let{body:s,index:n,...u}=e;n=qge(n);let i=["",n,"_search/template"].filter(d=>d!=null).join("/"),a=s?"POST":"GET";return this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}hv.exports=Mge});var mv=o((QFe,_v)=>{"use strict";var{normalizeArguments:Ige,parsePathParam:fv,handleMissingParam:Nge}=l();function Lge(e,t,r){if([e,t,r]=Ige(e,t,r),e.index==null)return Nge("index",this,r);let{body:s,index:n,id:u,...i}=e;n=fv(n),u=fv(u);let a=["",n,"_termvectors",u].filter(h=>h!=null).join("/"),d=s?"POST":"GET";return s=s||"",this.transport.request({method:d,path:a,querystring:i,body:s},t,r)}_v.exports=Lge});var gv=o((kFe,Ev)=>{"use strict";var{normalizeArguments:Fge,parsePathParam:pv,handleMissingParam:Eh}=l();function vge(e,t,r){if([e,t,r]=Fge(e,t,r),e.id==null)return Eh("id",this,r);if(e.index==null)return Eh("index",this,r);if(e.body==null)return Eh("body",this,r);let{body:s,id:n,index:u,...i}=e;n=pv(n),u=pv(u);let a="/"+u+"/_update/"+n;return this.transport.request({method:"POST",path:a,querystring:i,body:s},t,r)}Ev.exports=vge});var gh=o((eve,yv)=>{"use strict";var{normalizeArguments:bge,parsePathParam:xge,handleMissingParam:wge}=l();function Bge(e,t,r){if([e,t,r]=bge(e,t,r),e.index==null)return wge("index",this,r);let{body:s,index:n,...u}=e;n=xge(n);let i="/"+n+"/_update_by_query",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}yv.exports=Bge});var yh=o((tve,Av)=>{"use strict";var{normalizeArguments:Gge,parsePathParam:Uge,handleMissingParam:Yge}=l();function Hge(e,t,r){if([e,t,r]=Gge(e,t,r),e.task_id==null)return Yge("task_id",this,r);let{body:s,task_id:n,...u}=e;n=Uge(n);let i="/_update_by_query/"+n+"/_rethrottle",a="POST";return s=s||"",this.transport.request({method:a,path:i,querystring:u,body:s},t,r)}Av.exports=Hge});var Rv=o((rve,Sv)=>{"use strict";var{kConfigErr:Kge}=l(),U=Symbol("api modules"),Ah=class{constructor(t){this[Kge]=t.ConfigurationError,this[U]={asynchronousSearch:new(xC())(this),cat:new(PD())(this),cluster:new(sT())(this),danglingIndices:new(lT())(this),flowFramework:new(MT())(this),http:new(ZT())(this),indices:new(M0())(this),ingest:new(B0())(this),insights:new(Y0())(this),ism:new(tq())(this),knn:new(hq())(this),list:new(Aq())(this),ltr:new(Tq())(this),ml:new(YO())(this),nodes:new(kO())(this),notifications:new(cM())(this),observability:new(AM())(this),ppl:new(OM())(this),query:new(bM())(this),remoteStore:new(GM())(this),replication:new(aI())(this),rollups:new(RI())(this),searchPipeline:new(NI())(this),security:new(EL())(this),sm:new(qL())(this),snapshot:new(r1())(this),sql:new(_1())(this),tasks:new(R1())(this),transforms:new(U1())(this),wlm:new(X1())(this)},this.bulk=Z1().bind(this),this.bulkStream=Xc().bind(this),this.clearScroll=Wc().bind(this),this.count=k1().bind(this),this.create=rF().bind(this),this.createPit=$c().bind(this),this.delete=oF().bind(this),this.deleteAllPits=Jc().bind(this),this.deleteByQuery=Qc().bind(this),this.deleteByQueryRethrottle=kc().bind(this),this.deletePit=eh().bind(this),this.deleteScript=th().bind(this),this.exists=EF().bind(this),this.existsSource=rh().bind(this),this.explain=DF().bind(this),this.fieldCaps=sh().bind(this),this.get=MF().bind(this),this.getAllPits=nh().bind(this),this.getScript=uh().bind(this),this.getScriptContext=ih().bind(this),this.getScriptLanguages=oh().bind(this),this.getSource=ah().bind(this),this.index=UF().bind(this),this.info=HF().bind(this),this.mget=zF().bind(this),this.msearch=VF().bind(this),this.msearchTemplate=dh().bind(this),this.mtermvectors=ZF().bind(this),this.ping=JF().bind(this),this.putScript=lh().bind(this),this.rankEval=ch().bind(this),this.reindex=sv().bind(this),this.reindexRethrottle=hh().bind(this),this.renderSearchTemplate=fh().bind(this),this.scriptsPainlessExecute=_h().bind(this),this.scroll=av().bind(this),this.search=lv().bind(this),this.searchShards=mh().bind(this),this.searchTemplate=ph().bind(this),this.termvectors=mv().bind(this),this.update=gv().bind(this),this.updateByQuery=gh().bind(this),this.updateByQueryRethrottle=yh().bind(this),this.bulk_stream=Xc().bind(this),this.clear_scroll=Wc().bind(this),this.create_pit=$c().bind(this),this.delete_all_pits=Jc().bind(this),this.delete_by_query=Qc().bind(this),this.delete_by_query_rethrottle=kc().bind(this),this.delete_pit=eh().bind(this),this.delete_script=th().bind(this),this.exists_source=rh().bind(this),this.field_caps=sh().bind(this),this.get_all_pits=nh().bind(this),this.get_script=uh().bind(this),this.get_script_context=ih().bind(this),this.get_script_languages=oh().bind(this),this.get_source=ah().bind(this),this.msearch_template=dh().bind(this),this.put_script=lh().bind(this),this.rank_eval=ch().bind(this),this.reindex_rethrottle=hh().bind(this),this.render_search_template=fh().bind(this),this.scripts_painless_execute=_h().bind(this),this.search_shards=mh().bind(this),this.search_template=ph().bind(this),this.update_by_query=gh().bind(this),this.update_by_query_rethrottle=yh().bind(this),Object.defineProperties(this,{asynchronousSearch:{get(){return this[U].asynchronousSearch}},cat:{get(){return this[U].cat}},cluster:{get(){return this[U].cluster}},danglingIndices:{get(){return this[U].danglingIndices}},flowFramework:{get(){return this[U].flowFramework}},http:{get(){return this[U].http}},indices:{get(){return this[U].indices}},ingest:{get(){return this[U].ingest}},insights:{get(){return this[U].insights}},ism:{get(){return this[U].ism}},knn:{get(){return this[U].knn}},list:{get(){return this[U].list}},ltr:{get(){return this[U].ltr}},ml:{get(){return this[U].ml}},nodes:{get(){return this[U].nodes}},notifications:{get(){return this[U].notifications}},observability:{get(){return this[U].observability}},ppl:{get(){return this[U].ppl}},query:{get(){return this[U].query}},remoteStore:{get(){return this[U].remoteStore}},replication:{get(){return this[U].replication}},rollups:{get(){return this[U].rollups}},searchPipeline:{get(){return this[U].searchPipeline}},security:{get(){return this[U].security}},sm:{get(){return this[U].sm}},snapshot:{get(){return this[U].snapshot}},sql:{get(){return this[U].sql}},tasks:{get(){return this[U].tasks}},transforms:{get(){return this[U].transforms}},wlm:{get(){return this[U].wlm}},asynchronous_search:{get(){return this[U].asynchronousSearch}},dangling_indices:{get(){return this[U].danglingIndices}},flow_framework:{get(){return this[U].flowFramework}},remote_store:{get(){return this[U].remoteStore}},search_pipeline:{get(){return this[U].searchPipeline}}})}};Sv.exports=Ah});var qv=o((sve,Pv)=>{"use strict";var{EventEmitter:zge}=require("events"),{URL:Cv}=require("url"),jge=Mt()("opensearch"),Vge=Wn(),Tv=er(),{ConnectionPool:Xge,CloudConnectionPool:Wge}=Hi(),Zge=_C(),$ge=ki(),Jge=Ie(),{ConfigurationError:nu}=Jge,{prepareHeaders:Qge}=Tv.internals,Dv=Symbol("opensearchjs-initial-options"),He=Symbol("opensearchjs-child"),uu=Symbol("opensearchjs-extensions"),he=Symbol("opensearchjs-event-emitter"),kge=Rv(),Sh=class e extends kge{constructor(t={}){if(super({ConfigurationError:nu}),t.cloud&&t[He]===void 0){let{id:s,username:n,password:u}=t.cloud,i=Buffer.from(s.split(":")[1],"base64").toString().split("$");n&&u&&(t.auth=Object.assign({},t.auth,{username:n,password:u})),t.node=`https://${i[1]}.${i[0]}`,t.compression==null&&(t.compression="gzip"),t.suggestCompression==null&&(t.suggestCompression=!0),(t.ssl==null||t.ssl&&t.ssl.secureProtocol==null)&&(t.ssl=t.ssl||{},t.ssl.secureProtocol="TLSv1_2_method")}if(!t.node&&!t.nodes)throw new nu("Missing node(s) option");if(t[He]===void 0){let s=eye(t.node||t.nodes);s&&s.username&&s.password&&(t.auth=Object.assign({},t.auth,{username:s.username,password:s.password}))}let r=t[He]!==void 0?t[He].initialOptions:Object.assign({},{Connection:Tv,Transport:Vge,Serializer:$ge,ConnectionPool:t.cloud?Wge:Xge,maxRetries:3,requestTimeout:3e4,pingTimeout:3e3,sniffInterval:!1,sniffOnStart:!1,sniffEndpoint:"_nodes/_all/http",sniffOnConnectionFault:!1,resurrectStrategy:"ping",suggestCompression:!1,compression:!1,ssl:null,agent:null,headers:{},nodeFilter:null,nodeSelector:"round-robin",generateRequestId:null,name:"opensearch-js",auth:null,opaqueIdPrefix:null,context:null,proxy:null,enableMetaHeader:!0,disablePrototypePoisoningProtection:!1,enableLongNumeralSupport:!1},t);process.env.OPENSEARCH_CLIENT_APIVERSIONING==="true"&&(r.headers=Object.assign({accept:"application/vnd.opensearch+json; compatible-with=7"},r.headers)),this[Dv]=r,this[uu]=[],this.name=r.name,t[He]!==void 0?(this.serializer=r[He].serializer,this.connectionPool=r[He].connectionPool,this[he]=r[He].eventEmitter):(this[he]=new zge,this.serializer=new r.Serializer({disablePrototypePoisoningProtection:r.disablePrototypePoisoningProtection,enableLongNumeralSupport:r.enableLongNumeralSupport}),this.connectionPool=new r.ConnectionPool({pingTimeout:r.pingTimeout,resurrectStrategy:r.resurrectStrategy,ssl:r.ssl,agent:r.agent,proxy:r.proxy,Connection:r.Connection,auth:r.auth,emit:this[he].emit.bind(this[he]),sniffEnabled:r.sniffInterval!==!1||r.sniffOnStart!==!1||r.sniffOnConnectionFault!==!1}),this.connectionPool.addConnection(r.node||r.nodes)),this.transport=new r.Transport({emit:this[he].emit.bind(this[he]),connectionPool:this.connectionPool,serializer:this.serializer,maxRetries:r.maxRetries,requestTimeout:r.requestTimeout,sniffInterval:r.sniffInterval,sniffOnStart:r.sniffOnStart,sniffOnConnectionFault:r.sniffOnConnectionFault,sniffEndpoint:r.sniffEndpoint,suggestCompression:r.suggestCompression,compression:r.compression,headers:r.headers,nodeFilter:r.nodeFilter,nodeSelector:r.nodeSelector,generateRequestId:r.generateRequestId,name:r.name,opaqueIdPrefix:r.opaqueIdPrefix,context:r.context,memoryCircuitBreaker:r.memoryCircuitBreaker,auth:r.auth}),this.helpers=new Zge({client:this,maxRetries:r.maxRetries})}get emit(){return this[he].emit.bind(this[he])}get on(){return this[he].on.bind(this[he])}get once(){return this[he].once.bind(this[he])}get off(){return this[he].off.bind(this[he])}extend(t,r,s){typeof r=="function"&&(s=r,r={});let[n,u]=t.split(".");if(u==null&&(u=n,n=null),n!=null){if(this[n]!=null&&this[n][u]!=null&&r.force!==!0)throw new Error(`The method "${u}" already exists on namespace "${n}"`);this[n]==null&&(this[n]={}),this[n][u]=s({makeRequest:this.transport.request.bind(this.transport),result:{body:null,statusCode:null,headers:null,warnings:null},ConfigurationError:nu})}else{if(this[u]!=null&&r.force!==!0)throw new Error(`The method "${u}" already exists`);this[u]=s({makeRequest:this.transport.request.bind(this.transport),result:{body:null,statusCode:null,headers:null,warnings:null},ConfigurationError:nu})}this[uu].push({name:t,opts:r,fn:s})}child(t){let r=Object.assign({},this[Dv],t);r[He]={connectionPool:this.connectionPool,serializer:this.serializer,eventEmitter:this[he],initialOptions:r},r.auth!==void 0&&(r.headers=Qge(r.headers,r.auth));let s=new e(r),n=Object.getOwnPropertySymbols(this.transport).filter(u=>u.description==="compatible check")[0];return s.transport[n]=this.transport[n],this[uu].length>0&&this[uu].forEach(({name:u,opts:i,fn:a})=>{s.extend(u,i,a)}),s}close(t){if(t==null)return new Promise(r=>{this.close(r)});jge("Closing the client"),this.connectionPool.empty(t)}};function eye(e){if(Array.isArray(e)){for(let s of e){let n=r(s);if(n.username!==""&&n.password!=="")return n}return null}let t=r(e);if(t.username!==""&&t.password!=="")return t;return null;function r(s){if(typeof s=="string"){let{username:n,password:u}=new Cv(s);return{username:decodeURIComponent(n),password:decodeURIComponent(u)}}else if(s.url instanceof Cv)return{username:decodeURIComponent(s.url.username),password:decodeURIComponent(s.url.password)}}}Pv.exports={Client:Sh}});var Mv=o((nve,Ov)=>{"use strict";var{Client:tye}=qv(),rye=Wn(),{ConnectionPool:sye}=Hi(),nye=er(),uye=ki(),iye=Ie(),oye={RESPONSE:"response",REQUEST:"request",SNIFF:"sniff",RESURRECT:"resurrect",SERIALIZATION:"serialization",DESERIALIZATION:"deserialization"};Ov.exports={Client:tye,Transport:rye,ConnectionPool:sye,Connection:nye,Serializer:uye,errors:iye,events:oye}});var iu=o((hve,Nv)=>{"use strict";var{OpenSearchClientError:aye}=Ie(),Rh=class e extends aye{constructor(t,r){super(t,r),Error.captureStackTrace(this,e),this.name="AwsSigv4SignerError",this.message=t||"AwsSigv4Signer Error",this.data=r}};Nv.exports=Rh});var Fv=o((fve,Lv)=>{Lv.exports=function(e){return new Br(e)};function Br(e){this.capacity=e|0,this.map=Object.create(null),this.list=new ou}Br.prototype.get=function(e){var t=this.map[e];if(t!=null)return this.used(t),t.val};Br.prototype.set=function(e,t){var r=this.map[e];if(r!=null)r.val=t;else{if(this.capacity||this.prune(),!this.capacity)return!1;r=new dye(e,t),this.map[e]=r,this.capacity--}return this.used(r),!0};Br.prototype.used=function(e){this.list.moveToFront(e)};Br.prototype.prune=function(){var e=this.list.pop();e!=null&&(delete this.map[e.key],this.capacity++)};function ou(){this.firstNode=null,this.lastNode=null}ou.prototype.moveToFront=function(e){this.firstNode!=e&&(this.remove(e),this.firstNode==null?(this.firstNode=e,this.lastNode=e,e.prev=null,e.next=null):(e.prev=null,e.next=this.firstNode,e.next.prev=e,this.firstNode=e))};ou.prototype.pop=function(){var e=this.lastNode;return e!=null&&this.remove(e),e};ou.prototype.remove=function(e){this.firstNode==e?this.firstNode=e.next:e.prev!=null&&(e.prev.next=e.next),this.lastNode==e?this.lastNode=e.prev:e.next!=null&&(e.next.prev=e.prev)};function dye(e,t){this.key=e,this.val=t,this.prev=null,this.next=null}});var Uv=o(Gv=>{var bv=Gv,lye=require("url"),xv=require("querystring"),wv=require("crypto"),cye=Fv(),vv=cye(1e3);function Gr(e,t,r){return wv.createHmac("sha256",e).update(t,"utf8").digest(r)}function Ch(e,t){return wv.createHash("sha256").update(e,"utf8").digest(t)}function Bv(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function au(e){return Bv(encodeURIComponent(e))}var hye={authorization:!0,connection:!0,"x-amzn-trace-id":!0,"user-agent":!0,expect:!0,"presigned-expires":!0,range:!0};function te(e,t){typeof e=="string"&&(e=lye.parse(e));var r=e.headers=Object.assign({},e.headers||{}),s=(!this.service||!this.region)&&this.matchHost(e.hostname||e.host||r.Host||r.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||s[0]||"",this.region=e.region||s[1]||"us-east-1",this.service==="email"&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),!r.Host&&!r.host&&(r.Host=e.hostname||e.host||this.createHost(),e.port&&(r.Host+=":"+e.port)),!e.hostname&&!e.host&&(e.hostname=r.Host||r.host),this.isCodeCommitGit=this.service==="codecommit"&&e.method==="GIT",this.extraHeadersToIgnore=e.extraHeadersToIgnore||Object.create(null),this.extraHeadersToInclude=e.extraHeadersToInclude||Object.create(null)}te.prototype.matchHost=function(e){var t=(e||"").match(/([^\.]{1,63})\.(?:([^\.]{0,63})\.)?amazonaws\.com(\.cn)?$/),r=(t||[]).slice(1,3);if((r[1]==="es"||r[1]==="aoss")&&(r=r.reverse()),r[1]=="s3")r[0]="s3",r[1]="us-east-1";else for(var s=0;s<2;s++)if(/^s3-/.test(r[s])){r[1]=r[s].slice(3),r[0]="s3";break}return r};te.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&this.region==="us-east-1"?!0:["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0};te.prototype.createHost=function(){var e=this.isSingleRegion()?"":"."+this.region,t=this.service==="ses"?"email":this.service;return t+e+".amazonaws.com"};te.prototype.prepareRequest=function(){this.parsePath();var e=this.request,t=e.headers,r;e.signQuery?(this.parsedPath.query=r=this.parsedPath.query||{},this.credentials.sessionToken&&(r["X-Amz-Security-Token"]=this.credentials.sessionToken),this.service==="s3"&&!r["X-Amz-Expires"]&&(r["X-Amz-Expires"]=86400),r["X-Amz-Date"]?this.datetime=r["X-Amz-Date"]:r["X-Amz-Date"]=this.getDateTime(),r["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",r["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),r["X-Amz-SignedHeaders"]=this.signedHeaders()):(!e.doNotModifyHeaders&&!this.isCodeCommitGit&&(e.body&&!t["Content-Type"]&&!t["content-type"]&&(t["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),e.body&&!t["Content-Length"]&&!t["content-length"]&&(t["Content-Length"]=Buffer.byteLength(e.body)),this.credentials.sessionToken&&!t["X-Amz-Security-Token"]&&!t["x-amz-security-token"]&&(t["X-Amz-Security-Token"]=this.credentials.sessionToken),this.service==="s3"&&!t["X-Amz-Content-Sha256"]&&!t["x-amz-content-sha256"]&&(t["X-Amz-Content-Sha256"]=Ch(this.request.body||"","hex")),t["X-Amz-Date"]||t["x-amz-date"]?this.datetime=t["X-Amz-Date"]||t["x-amz-date"]:t["X-Amz-Date"]=this.getDateTime()),delete t.Authorization,delete t.authorization)};te.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request};te.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime};te.prototype.getDate=function(){return this.getDateTime().substr(0,8)};te.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")};te.prototype.signature=function(){var e=this.getDate(),t=[this.credentials.secretAccessKey,e,this.region,this.service].join(),r,s,n,u=vv.get(t);return u||(r=Gr("AWS4"+this.credentials.secretAccessKey,e),s=Gr(r,this.region),n=Gr(s,this.service),u=Gr(n,"aws4_request"),vv.set(t,u)),Gr(u,this.stringToSign(),"hex")};te.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),Ch(this.canonicalString(),"hex")].join(`
`)};te.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e=this.parsedPath.path,t=this.parsedPath.query,r=this.request.headers,s="",n=this.service!=="s3",u=this.service==="s3"||this.request.doNotEncodePath,i=this.service==="s3",a=this.service==="s3",d;if(this.service==="s3"&&this.request.signQuery?d="UNSIGNED-PAYLOAD":this.isCodeCommitGit?d="":d=r["X-Amz-Content-Sha256"]||r["x-amz-content-sha256"]||Ch(this.request.body||"","hex"),t){var h=Object.keys(t).reduce(function(_,p){return p&&(_[au(p)]=Array.isArray(t[p])&&a?t[p][0]:t[p]),_},{}),f=[];Object.keys(h).sort().forEach(function(_){Array.isArray(h[_])?h[_].map(au).sort().forEach(function(p){f.push(_+"="+p)}):f.push(_+"="+au(h[_]))}),s=f.join("&")}return e!=="/"&&(n&&(e=e.replace(/\/{2,}/g,"/")),e=e.split("/").reduce(function(_,p){return n&&p===".."?_.pop():(!n||p!==".")&&(u&&(p=decodeURIComponent(p.replace(/\+/g," "))),_.push(au(p))),_},[]).join("/"),e[0]!=="/"&&(e="/"+e),i&&(e=e.replace(/%2F/g,"/"))),[this.request.method||"GET",e,s,this.canonicalHeaders()+`
`,this.signedHeaders(),d].join(`
`)};te.prototype.filterHeaders=function(){var e=this.request.headers,t=this.extraHeadersToInclude,r=this.extraHeadersToIgnore;this.filteredHeaders=Object.keys(e).map(function(s){return[s.toLowerCase(),e[s]]}).filter(function(s){return t[s[0]]||hye[s[0]]==null&&!r[s[0]]}).sort(function(s,n){return s[0]<n[0]?-1:1})};te.prototype.canonicalHeaders=function(){return this.filteredHeaders||this.filterHeaders(),this.filteredHeaders.map(function(e){return e[0]+":"+e[1].toString().trim().replace(/\s+/g," ")}).join(`
`)};te.prototype.signedHeaders=function(){return this.filteredHeaders||this.filterHeaders(),this.filteredHeaders.map(function(e){return e[0]}).join(";")};te.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")};te.prototype.defaultCredentials=function(){var e=process.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}};te.prototype.parsePath=function(){var e=this.request.path||"/";/[^0-9A-Za-z;,/?:@&=+$\-_.!~*'()#%]/.test(e)&&(e=encodeURI(decodeURI(e)));var t=e.indexOf("?"),r=null;t>=0&&(r=xv.parse(e.slice(t+1)),e=e.slice(0,t)),this.parsedPath={path:e,query:r}};te.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(t[""]!=null&&delete t[""],e+"?"+Bv(xv.stringify(t))):e};bv.RequestSigner=te;bv.sign=function(e,t){return new te(e,t).sign()}});var Kv=o((mve,Dh)=>{"use strict";var fye=er(),Hv=Wn(),_ye=Uv(),mye=iu(),{RequestAbortedError:Yv}=Ie(),pye=require("crypto"),{toMs:Eye}=Hv.internals,gye=()=>{};function yye(e){return function(){return new Promise((r,s)=>{e().then(n=>{n().then(r).catch(s)}).catch(n=>{s(n)})})}}function Aye(e){return function(r={}){let s={credentials:null};if(!r.region)throw new mye("Region cannot be empty");r.service||(r.service="es"),typeof r.getCredentials!="function"&&(r.getCredentials=e);function n(a={}){if(a.service=r.service,a.region=r.region,a.headers=a.headers||{},a.headers.host=a.hostname,a.auth){let h=a.auth;s.credentials={accessKeyId:h.credentials.accessKeyId,secretAccessKey:h.credentials.secretAccessKey,sessionToken:h.credentials.sessionToken},a.region=h.region,a.service=h.service,delete a.auth}let d=_ye.sign(a,s.credentials);return d.headers["x-amz-content-sha256"]=pye.createHash("sha256").update(a.body||"","utf8").digest("hex"),d}class u extends fye{buildRequestObject(d){let h=super.buildRequestObject(d);return n(h)}}class i extends Hv{request(d,h={},f=void 0){typeof h=="function"&&(f=h,h={});let _=s.credentials,p=Eye(h.requestTimeout||this.requestTimeout),E=!1;if(_?typeof _.needsRefresh=="function"?E=_.needsRefresh():(_.expired===!0||_.expireTime&&_.expireTime<new Date||_.expiration&&_.expiration.getTime()-Date.now()<p)&&(E=!0):E=!0,!E)return f===void 0?super.request(d,h):super.request(d,h,f);let x=null;if(f===void 0){let q=null,I=null;x=new Promise((O,m)=>{q=O,I=m}),f=function(m,R){m?I(m):q(R)}}let P={aborted:!1},C={abort:gye},g={then(q,I){if(x!=null)return x.then(q,I)},catch(q){if(x!=null)return x.catch(q)},abort(){return P.aborted=!0,C.abort(),this},finally(q){if(x!=null)return x.finally(q)}};return(()=>{_&&typeof _.refreshPromise=="function"?_.refreshPromise().then(()=>{if(P.aborted)return f(new Yv);C=super.request(d,h,f)}).catch(f):r.getCredentials().then(q=>{if(P.aborted)return f(new Yv);s.credentials=q,C=super.request(d,h,f)}).catch(f)})(),g}}return{Transport:i,Connection:u,buildSignedRequestObject:n}}}Dh.exports.giveAwsCredentialProviderLoader=yye;Dh.exports.giveAwsV4Signer=Aye});var jv=o((pve,zv)=>{"use strict";var Sye=iu(),{giveAwsV4Signer:Rye,giveAwsCredentialProviderLoader:Cye}=Kv(),Dye=async()=>{try{let e=await import("@aws-sdk/credential-provider-node");if(typeof e.defaultProvider=="function")return e.defaultProvider()}catch{}try{let e=await import("aws-sdk");if(e.default&&typeof e.default.config.getCredentials=="function")return()=>new Promise((t,r)=>{e.default.config.getCredentials((s,n)=>{s?r(s):t(n)})})}catch{}throw new Sye("Unable to find a valid AWS SDK, please provide a valid getCredentials function to AwsSigv4Signer options.")},Tye=Rye(Cye(Dye));zv.exports=Tye});var Xv=o((Eve,Vv)=>{"use strict";var Pye=jv(),qye=iu();Vv.exports={AwsSigv4Signer:Pye,AwsSigv4SignerError:qye}});var Oh=o(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.VerbatimString=void 0;var qh=class extends String{format;constructor(t,r){super(r),this.format=t}};fu.VerbatimString=qh});var Ne=o(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.MultiErrorReply=j.TimeoutError=j.BlobError=j.SimpleError=j.ErrorReply=j.ReconnectStrategyError=j.RootNodesUnavailableError=j.SocketClosedUnexpectedlyError=j.DisconnectsClientError=j.ClientOfflineError=j.ClientClosedError=j.SocketTimeoutError=j.ConnectionTimeoutError=j.WatchError=j.AbortError=void 0;var Mh=class extends Error{constructor(){super("The command was aborted")}};j.AbortError=Mh;var Ih=class extends Error{constructor(t="One (or more) of the watched keys has been changed"){super(t)}};j.WatchError=Ih;var Nh=class extends Error{constructor(){super("Connection timeout")}};j.ConnectionTimeoutError=Nh;var Lh=class extends Error{constructor(t){super(`Socket timeout timeout. Expecting data, but didn't receive any in ${t}ms.`)}};j.SocketTimeoutError=Lh;var Fh=class extends Error{constructor(){super("The client is closed")}};j.ClientClosedError=Fh;var vh=class extends Error{constructor(){super("The client is offline")}};j.ClientOfflineError=vh;var bh=class extends Error{constructor(){super("Disconnects client")}};j.DisconnectsClientError=bh;var xh=class extends Error{constructor(){super("Socket closed unexpectedly")}};j.SocketClosedUnexpectedlyError=xh;var wh=class extends Error{constructor(){super("All the root nodes are unavailable")}};j.RootNodesUnavailableError=wh;var Bh=class extends Error{originalError;socketError;constructor(t,r){super(t.message),this.originalError=t,this.socketError=r}};j.ReconnectStrategyError=Bh;var nr=class extends Error{};j.ErrorReply=nr;var Gh=class extends nr{};j.SimpleError=Gh;var Uh=class extends nr{};j.BlobError=Uh;var Yh=class extends Error{};j.TimeoutError=Yh;var Hh=class extends nr{replies;errorIndexes;constructor(t,r){super(`${r.length} commands failed, see .replies and .errorIndexes for more information`),this.replies=t,this.errorIndexes=r}*errors(){for(let t of this.errorIndexes)yield this.replies[t]}};j.MultiErrorReply=Hh});var pu=o(b=>{"use strict";var Kh;Object.defineProperty(b,"__esModule",{value:!0});b.Decoder=b.PUSH_TYPE_MAPPING=b.RESP_TYPES=void 0;var tb=Oh(),_u=Ne();b.RESP_TYPES={NULL:95,BOOLEAN:35,NUMBER:58,BIG_NUMBER:40,DOUBLE:44,SIMPLE_STRING:43,BLOB_STRING:36,VERBATIM_STRING:61,SIMPLE_ERROR:45,BLOB_ERROR:33,ARRAY:42,SET:126,MAP:37,PUSH:62};var W={"\r":13,t:116,"+":43,"-":45,0:48,".":46,i:105,n:110,E:69,e:101};b.PUSH_TYPE_MAPPING={[b.RESP_TYPES.BLOB_STRING]:Buffer};var mu=class{onReply;onErrorReply;onPush;getTypeMapping;#e=0;#t;constructor(t){this.onReply=t.onReply,this.onErrorReply=t.onErrorReply,this.onPush=t.onPush,this.getTypeMapping=t.getTypeMapping}reset(){this.#e=0,this.#t=void 0}write(t){if(this.#e>=t.length){this.#e-=t.length;return}if(this.#t&&(this.#t(t)||this.#e>=t.length)){this.#e-=t.length;return}do{let r=t[this.#e];if(++this.#e===t.length){this.#t=this.#r.bind(this,r);break}if(this.#s(r,t))break}while(this.#e<t.length);this.#e-=t.length}#r(t,r){return this.#t=void 0,this.#s(t,r)}#s(t,r){switch(t){case b.RESP_TYPES.NULL:return this.onReply(this.#u()),!1;case b.RESP_TYPES.BOOLEAN:return this.#n(this.onReply,this.#i(r));case b.RESP_TYPES.NUMBER:return this.#n(this.onReply,this.#l(this.getTypeMapping()[b.RESP_TYPES.NUMBER],r));case b.RESP_TYPES.BIG_NUMBER:return this.#n(this.onReply,this.#o(this.getTypeMapping()[b.RESP_TYPES.BIG_NUMBER],r));case b.RESP_TYPES.DOUBLE:return this.#n(this.onReply,this.#g(this.getTypeMapping()[b.RESP_TYPES.DOUBLE],r));case b.RESP_TYPES.SIMPLE_STRING:return this.#n(this.onReply,this.#O(this.getTypeMapping()[b.RESP_TYPES.SIMPLE_STRING],r));case b.RESP_TYPES.BLOB_STRING:return this.#n(this.onReply,this.#M(this.getTypeMapping()[b.RESP_TYPES.BLOB_STRING],r));case b.RESP_TYPES.VERBATIM_STRING:return this.#n(this.onReply,this.#x(this.getTypeMapping()[b.RESP_TYPES.VERBATIM_STRING],r));case b.RESP_TYPES.SIMPLE_ERROR:return this.#n(this.onErrorReply,this.#U(r));case b.RESP_TYPES.BLOB_ERROR:return this.#n(this.onErrorReply,this.#H(r));case b.RESP_TYPES.ARRAY:return this.#n(this.onReply,this.#$(this.getTypeMapping(),r));case b.RESP_TYPES.SET:return this.#n(this.onReply,this.#ee(this.getTypeMapping(),r));case b.RESP_TYPES.MAP:return this.#n(this.onReply,this.#ne(this.getTypeMapping(),r));case b.RESP_TYPES.PUSH:return this.#n(this.onPush,this.#$(b.PUSH_TYPE_MAPPING,r));default:throw new Error(`Unknown RESP type ${t} "${String.fromCharCode(t)}"`)}}#n(t,r){return typeof r=="function"?(this.#t=this.#a.bind(this,t,r),!0):(t(r),!1)}#a(t,r,s){return this.#t=void 0,this.#n(t,r(s))}#u(){return this.#e+=2,null}#i(t){let r=t[this.#e]===W.t;return this.#e+=3,r}#l(t,r){if(t===String)return this.#O(String,r);switch(r[this.#e]){case W["+"]:return this.#p(!1,r);case W["-"]:return this.#p(!0,r);default:return this.#f(!1,this.#d.bind(this,0),r)}}#p(t,r){let s=this.#d.bind(this,0);return++this.#e===r.length?this.#f.bind(this,t,s):this.#f(t,s,r)}#f(t,r,s){let n=r(s);return typeof n=="function"?this.#f.bind(this,t,n):t?-n:n}#d(t,r){let s=this.#e;do{let n=r[s];if(n===W["\r"])return this.#e=s+2,t;t=t*10+n-W[0]}while(++s<r.length);return this.#e=s,this.#d.bind(this,t)}#o(t,r){if(t===String)return this.#O(String,r);switch(r[this.#e]){case W["+"]:return this.#h(!1,r);case W["-"]:return this.#h(!0,r);default:return this.#E(!1,this.#m.bind(this,0n),r)}}#h(t,r){let s=this.#m.bind(this,0n);return++this.#e===r.length?this.#E.bind(this,t,s):this.#E(t,s,r)}#E(t,r,s){let n=r(s);return typeof n=="function"?this.#E.bind(this,t,n):t?-n:n}#m(t,r){let s=this.#e;do{let n=r[s];if(n===W["\r"])return this.#e=s+2,t;t=t*10n+BigInt(n-W[0])}while(++s<r.length);return this.#e=s,this.#m.bind(this,t)}#g(t,r){if(t===String)return this.#O(String,r);switch(r[this.#e]){case W.n:return this.#e+=5,NaN;case W["+"]:return this.#A(!1,r);case W["-"]:return this.#A(!0,r);default:return this.#_(!1,0,r)}}#A(t,r){return++this.#e===r.length?this.#_.bind(this,t,0):this.#_(t,0,r)}#_(t,r,s){return s[this.#e]===W.i?(this.#e+=5,t?-1/0:1/0):this.#C(t,r,s)}#C(t,r,s){let n=this.#e;do{let u=s[n];switch(u){case W["."]:return this.#e=n+1,this.#e<s.length?this.#y(t,0,r,s):this.#y.bind(this,t,0,r);case W.E:case W.e:this.#e=n+1;let i=t?-r:r;return this.#e<s.length?this.#D(i,s):this.#D.bind(this,i);case W["\r"]:return this.#e=n+2,t?-r:r;default:r=r*10+u-W[0]}}while(++n<s.length);return this.#e=n,this.#C.bind(this,t,r)}static#S=[.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17];#y(t,r,s,n){let u=this.#e;do{let i=n[u];switch(i){case W.E:case W.e:this.#e=u+1;let a=t?-s:s;return this.#e===n.length?this.#D.bind(this,a):this.#D(a,n);case W["\r"]:return this.#e=u+2,t?-s:s}r<Kh.#S.length&&(s+=(i-W[0])*Kh.#S[r++])}while(++u<n.length);return this.#e=u,this.#y.bind(this,t,r,s)}#D(t,r){switch(r[this.#e]){case W["+"]:return++this.#e===r.length?this.#c.bind(this,!1,t,0):this.#c(!1,t,0,r);case W["-"]:return++this.#e===r.length?this.#c.bind(this,!0,t,0):this.#c(!0,t,0,r)}return this.#c(!1,t,0,r)}#c(t,r,s,n){let u=this.#e;do{let i=n[u];if(i===W["\r"])return this.#e=u+2,r*10**(t?-s:s);s=s*10+i-W[0]}while(++u<n.length);return this.#e=u,this.#c.bind(this,t,r,s)}#T(t,r){for(;t[r]!==W["\r"];)if(++r===t.length)return this.#e=t.length,-1;return this.#e=r+2,r}#O(t,r){let s=this.#e,n=this.#T(r,s);if(n===-1)return this.#P.bind(this,[r.subarray(s)],t);let u=r.subarray(s,n);return t===Buffer?u:u.toString()}#P(t,r,s){let n=this.#e,u=this.#T(s,n);return u===-1?(t.push(s.subarray(n)),this.#P.bind(this,t,r)):(t.push(s.subarray(n,u)),r===Buffer?Buffer.concat(t):t.join(""))}#M(t,r){if(r[this.#e]===W["-"])return this.#e+=4,null;let s=this.#d(0,r);return typeof s=="function"?this.#L.bind(this,s,t):this.#e>=r.length?this.#N.bind(this,s,t):this.#N(s,t,r)}#L(t,r,s){let n=t(s);return typeof n=="function"?this.#L.bind(this,n,r):this.#e>=s.length?this.#N.bind(this,n,r):this.#N(n,r,s)}#b(t,r,s,n){let u=this.#e+t;if(u>=n.length){let a=n.subarray(this.#e);return this.#e=n.length,this.#I.bind(this,t-a.length,[a],r,s)}let i=n.subarray(this.#e,u);return this.#e=u+r,s===Buffer?i:i.toString()}#I(t,r,s,n,u){let i=this.#e+t;if(i>=u.length){let a=u.subarray(this.#e);return r.push(a),this.#e=u.length,this.#I.bind(this,t-a.length,r,s,n)}return r.push(u.subarray(this.#e,i)),this.#e=i+s,n===Buffer?Buffer.concat(r):r.join("")}#N(t,r,s){return this.#b(t,2,r,s)}#x(t,r){return this.#B(this.#d.bind(this,0),t,r)}#B(t,r,s){let n=t(s);return typeof n=="function"?this.#B.bind(this,n,r):this.#V(n,r,s)}#V(t,r,s){let n=t-4;return r===tb.VerbatimString?this.#v(n,s):(this.#e+=4,this.#e>=s.length?this.#N.bind(this,n,r):this.#N(n,r,s))}#v(t,r){let s=this.#b.bind(this,3,1,String);return this.#e>=r.length?this.#F.bind(this,t,s):this.#F(t,s,r)}#F(t,r,s){let n=r(s);return typeof n=="function"?this.#F.bind(this,t,n):this.#X(t,n,s)}#X(t,r,s){return this.#G(r,this.#N.bind(this,t,String),s)}#G(t,r,s){let n=r(s);return typeof n=="function"?this.#G.bind(this,t,n):new tb.VerbatimString(t,n)}#U(t){let r=this.#O(String,t);return typeof r=="function"?this.#R.bind(this,r):new _u.SimpleError(r)}#R(t,r){let s=t(r);return typeof s=="function"?this.#R.bind(this,s):new _u.SimpleError(s)}#H(t){let r=this.#M(String,t);return typeof r=="function"?this.#w.bind(this,r):new _u.BlobError(r)}#w(t,r){let s=t(r);return typeof s=="function"?this.#w.bind(this,s):new _u.BlobError(s)}#q(t,r){let s=r[this.#e];return++this.#e===r.length?this.#Y.bind(this,s,t):this.#Y(s,t,r)}#Y(t,r,s){switch(t){case b.RESP_TYPES.NULL:return this.#u();case b.RESP_TYPES.BOOLEAN:return this.#i(s);case b.RESP_TYPES.NUMBER:return this.#l(r[b.RESP_TYPES.NUMBER],s);case b.RESP_TYPES.BIG_NUMBER:return this.#o(r[b.RESP_TYPES.BIG_NUMBER],s);case b.RESP_TYPES.DOUBLE:return this.#g(r[b.RESP_TYPES.DOUBLE],s);case b.RESP_TYPES.SIMPLE_STRING:return this.#O(r[b.RESP_TYPES.SIMPLE_STRING],s);case b.RESP_TYPES.BLOB_STRING:return this.#M(r[b.RESP_TYPES.BLOB_STRING],s);case b.RESP_TYPES.VERBATIM_STRING:return this.#x(r[b.RESP_TYPES.VERBATIM_STRING],s);case b.RESP_TYPES.SIMPLE_ERROR:return this.#U(s);case b.RESP_TYPES.BLOB_ERROR:return this.#H(s);case b.RESP_TYPES.ARRAY:return this.#$(r,s);case b.RESP_TYPES.SET:return this.#ee(r,s);case b.RESP_TYPES.MAP:return this.#ne(r,s);default:throw new Error(`Unknown RESP type ${t} "${String.fromCharCode(t)}"`)}}#$(t,r){return r[this.#e]===W["-"]?(this.#e+=4,null):this.#Q(this.#d(0,r),t,r)}#Q(t,r,s){return typeof t=="function"?this.#ce.bind(this,t,r):this.#K(new Array(t),0,r,s)}#ce(t,r,s){return this.#Q(t(s),r,s)}#K(t,r,s,n){for(let u=r;u<t.length;u++){if(this.#e>=n.length)return this.#K.bind(this,t,u,s);let i=this.#q(s,n);if(typeof i=="function")return this.#k.bind(this,t,u,i,s);t[u]=i}return t}#k(t,r,s,n,u){let i=s(u);return typeof i=="function"?this.#k.bind(this,t,r,i,n):(t[r++]=i,this.#K(t,r,n,u))}#ee(t,r){let s=this.#d(0,r);return typeof s=="function"?this.#te.bind(this,s,t):this.#re(s,t,r)}#te(t,r,s){let n=t(s);return typeof n=="function"?this.#te.bind(this,n,r):this.#re(n,r,s)}#re(t,r,s){return r[b.RESP_TYPES.SET]===Set?this.#J(new Set,t,r,s):this.#K(new Array(t),0,r,s)}#J(t,r,s,n){for(;r>0;){if(this.#e>=n.length)return this.#J.bind(this,t,r,s);let u=this.#q(s,n);if(typeof u=="function")return this.#se.bind(this,t,r,u,s);t.add(u),--r}return t}#se(t,r,s,n,u){let i=s(u);return typeof i=="function"?this.#se.bind(this,t,r,i,n):(t.add(i),this.#J(t,r-1,n,u))}#ne(t,r){let s=this.#d(0,r);return typeof s=="function"?this.#ue.bind(this,s,t):this.#ie(s,t,r)}#ue(t,r,s){let n=t(s);return typeof n=="function"?this.#ue.bind(this,n,r):this.#ie(n,r,s)}#ie(t,r,s){switch(r[b.RESP_TYPES.MAP]){case Map:return this.#W(new Map,t,r,s);case Array:return this.#K(new Array(t*2),0,r,s);default:return this.#Z(Object.create(null),t,r,s)}}#W(t,r,s,n){for(;r>0;){if(this.#e>=n.length)return this.#W.bind(this,t,r,s);let u=this.#oe(s,n);if(typeof u=="function")return this.#de.bind(this,t,r,u,s);if(this.#e>=n.length)return this.#z.bind(this,t,r,u,this.#q.bind(this,s),s);let i=this.#q(s,n);if(typeof i=="function")return this.#z.bind(this,t,r,u,i,s);t.set(u,i),--r}return t}#oe(t,r){let s=r[this.#e];return++this.#e===r.length?this.#ae.bind(this,s,t):this.#ae(s,t,r)}#ae(t,r,s){switch(t){case b.RESP_TYPES.SIMPLE_STRING:return this.#O(String,s);case b.RESP_TYPES.BLOB_STRING:return this.#M(String,s);default:return this.#Y(t,r,s)}}#de(t,r,s,n,u){let i=s(u);if(typeof i=="function")return this.#de.bind(this,t,r,i,n);if(this.#e>=u.length)return this.#z.bind(this,t,r,i,this.#q.bind(this,n),n);let a=this.#q(n,u);return typeof a=="function"?this.#z.bind(this,t,r,i,a,n):(t.set(i,a),this.#W(t,r-1,n,u))}#z(t,r,s,n,u,i){let a=n(i);return typeof a=="function"?this.#z.bind(this,t,r,s,a,u):(t.set(s,a),this.#W(t,r-1,u,i))}#Z(t,r,s,n){for(;r>0;){if(this.#e>=n.length)return this.#Z.bind(this,t,r,s);let u=this.#oe(s,n);if(typeof u=="function")return this.#le.bind(this,t,r,u,s);if(this.#e>=n.length)return this.#j.bind(this,t,r,u,this.#q.bind(this,s),s);let i=this.#q(s,n);if(typeof i=="function")return this.#j.bind(this,t,r,u,i,s);t[u]=i,--r}return t}#le(t,r,s,n,u){let i=s(u);if(typeof i=="function")return this.#le.bind(this,t,r,i,n);if(this.#e>=u.length)return this.#j.bind(this,t,r,i,this.#q.bind(this,n),n);let a=this.#q(n,u);return typeof a=="function"?this.#j.bind(this,t,r,i,a,n):(t[i]=a,this.#Z(t,r-1,n,u))}#j(t,r,s,n,u,i){let a=n(i);return typeof a=="function"?this.#j.bind(this,t,r,s,a,u):(t[s]=a,this.#Z(t,r-1,u,i))}};b.Decoder=mu;Kh=mu});var sb=o(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.scriptSha1=ur.defineScript=void 0;var Iye=require("node:crypto");function Nye(e){return{...e,SHA1:rb(e.SCRIPT)}}ur.defineScript=Nye;function rb(e){return(0,Iye.createHash)("sha1").update(e).digest("hex")}ur.scriptSha1=rb});var nb=o(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","CAT"),t&&e.push(t)},transformReply:void 0}});var ub=o(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","DELUSER"),e.pushVariadic(t)},transformReply:void 0}});var ib=o(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ACL","DRYRUN",t,...r)},transformReply:void 0}});var ob=o(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","GENPASS"),t&&e.push(t.toString())},transformReply:void 0}});var ab=o(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","GETUSER",t)},transformReply:{2:e=>({flags:e[1],passwords:e[3],commands:e[5],keys:e[7],channels:e[9],selectors:e[11]?.map(t=>{let r=t;return{commands:r[1],keys:r[3],channels:r[5]}})}),3:void 0}}});var db=o(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","LIST")},transformReply:void 0}});var lb=o($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","LOAD")},transformReply:void 0}});var Le=o(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.BasicCommandParser=void 0;var Jh=class{#e=[];#t=[];preserve;get redisArgs(){return this.#e}get keys(){return this.#t}get firstKey(){return this.#t[0]}get cacheKey(){let t=new Array(this.#e.length*2);for(let r=0;r<this.#e.length;r++)t[r]=this.#e[r].length,t[r+this.#e.length]=this.#e[r];return t.join("_")}push(...t){this.#e.push(...t)}pushVariadic(t){if(Array.isArray(t))for(let r of t)this.push(r);else this.push(t)}pushVariadicWithLength(t){Array.isArray(t)?this.#e.push(t.length.toString()):this.#e.push("1"),this.pushVariadic(t)}pushVariadicNumber(t){if(Array.isArray(t))for(let r of t)this.push(r.toString());else this.push(t.toString())}pushKey(t){this.#t.push(t),this.#e.push(t)}pushKeysLength(t){Array.isArray(t)?this.#e.push(t.length.toString()):this.#e.push("1"),this.pushKeys(t)}pushKeys(t){Array.isArray(t)?(this.#t.push(...t),this.#e.push(...t)):(this.#t.push(t),this.#e.push(t))}};Eu.BasicCommandParser=Jh});var y=o(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.transformRedisJsonNullReply=A.transformRedisJsonReply=A.transformRedisJsonArgument=A.transformStreamsMessagesReplyResp3=A.transformStreamsMessagesReplyResp2=A.transformStreamMessagesReply=A.transformStreamMessageNullReply=A.transformStreamMessageReply=A.parseArgs=A.parseZKeysArguments=A.transformRangeReply=A.parseSlotRangesArguments=A.transformFunctionListItemReply=A.RedisFunctionFlags=A.transformCommandReply=A.CommandCategories=A.CommandFlags=A.parseOptionalVariadicArgument=A.pushVariadicArgument=A.pushVariadicNumberArguments=A.pushVariadicArguments=A.pushEvalArguments=A.evalFirstKeyIndex=A.transformPXAT=A.transformEXAT=A.transformSortedSetReply=A.transformTuplesReply=A.createTransformTuplesReplyFunc=A.transformTuplesToMap=A.transformNullableDoubleReply=A.createTransformNullableDoubleReplyResp2Func=A.transformDoubleArrayReply=A.createTransformDoubleReplyResp2Func=A.transformDoubleReply=A.transformStringDoubleArgument=A.transformDoubleArgument=A.transformBooleanArrayReply=A.transformBooleanReply=A.isArrayReply=A.isNullReply=void 0;var Lye=Le(),Qh=pu();function kh(e){return e===null}A.isNullReply=kh;function Fye(e){return Array.isArray(e)}A.isArrayReply=Fye;A.transformBooleanReply={2:e=>e===1,3:void 0};A.transformBooleanArrayReply={2:e=>e.map(A.transformBooleanReply[2]),3:void 0};function gu(e){switch(e){case 1/0:return"+inf";case-1/0:return"-inf";default:return e.toString()}}A.transformDoubleArgument=gu;function vye(e){return typeof e!="number"?e:gu(e)}A.transformStringDoubleArgument=vye;A.transformDoubleReply={2:(e,t,r)=>{switch(r?r[Qh.RESP_TYPES.DOUBLE]:void 0){case String:return e;default:{let n;switch(e.toString()){case"inf":case"+inf":n=1/0;case"-inf":n=-1/0;case"nan":n=NaN;default:n=Number(e)}return n}}},3:void 0};function mb(e,t){return r=>A.transformDoubleReply[2](r,e,t)}A.createTransformDoubleReplyResp2Func=mb;A.transformDoubleArrayReply={2:(e,t,r)=>e.map(mb(t,r)),3:void 0};function bye(e,t){return r=>A.transformNullableDoubleReply[2](r,e,t)}A.createTransformNullableDoubleReplyResp2Func=bye;A.transformNullableDoubleReply={2:(e,t,r)=>e===null?null:A.transformDoubleReply[2](e,t,r),3:void 0};function xye(e,t){let r=Object.create(null);for(let s=0;s<e.length;s+=2)r[e[s].toString()]=t(e[s+1]);return r}A.transformTuplesToMap=xye;function wye(e,t){return r=>ef(r,e,t)}A.createTransformTuplesReplyFunc=wye;function ef(e,t,r){let s=r?r[Qh.RESP_TYPES.MAP]:void 0,n=e;switch(s){case Array:return e;case Map:{let u=new Map;for(let i=0;i<n.length;i+=2)u.set(n[i].toString(),n[i+1]);return u}default:{let u=Object.create(null);for(let i=0;i<n.length;i+=2)u[n[i].toString()]=n[i+1];return u}}}A.transformTuplesReply=ef;A.transformSortedSetReply={2:(e,t,r)=>{let s=e,n=[];for(let u=0;u<s.length;u+=2)n.push({value:s[u],score:A.transformDoubleReply[2](s[u+1],t,r)});return n},3:e=>e.map(t=>{let[r,s]=t;return{value:r,score:s}})};function Bye(e){return(typeof e=="number"?e:Math.floor(e.getTime()/1e3)).toString()}A.transformEXAT=Bye;function Gye(e){return(typeof e=="number"?e:e.getTime()).toString()}A.transformPXAT=Gye;function Uye(e){return e?.keys?.[0]}A.evalFirstKeyIndex=Uye;function Yye(e,t){return t?.keys?e.push(t.keys.length.toString(),...t.keys):e.push("0"),t?.arguments&&e.push(...t.arguments),e}A.pushEvalArguments=Yye;function Hye(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e}A.pushVariadicArguments=Hye;function Kye(e,t){if(Array.isArray(t))for(let r of t)e.push(r.toString());else e.push(t.toString());return e}A.pushVariadicNumberArguments=Kye;function zye(e,t){return Array.isArray(t)?e.push(t.length.toString(),...t):e.push("1",t),e}A.pushVariadicArgument=zye;function jye(e,t,r){r!==void 0&&(e.push(t),e.pushVariadicWithLength(r))}A.parseOptionalVariadicArgument=jye;var cb;(function(e){e.WRITE="write",e.READONLY="readonly",e.DENYOOM="denyoom",e.ADMIN="admin",e.PUBSUB="pubsub",e.NOSCRIPT="noscript",e.RANDOM="random",e.SORT_FOR_SCRIPT="sort_for_script",e.LOADING="loading",e.STALE="stale",e.SKIP_MONITOR="skip_monitor",e.ASKING="asking",e.FAST="fast",e.MOVABLEKEYS="movablekeys"})(cb||(A.CommandFlags=cb={}));var hb;(function(e){e.KEYSPACE="@keyspace",e.READ="@read",e.WRITE="@write",e.SET="@set",e.SORTEDSET="@sortedset",e.LIST="@list",e.HASH="@hash",e.STRING="@string",e.BITMAP="@bitmap",e.HYPERLOGLOG="@hyperloglog",e.GEO="@geo",e.STREAM="@stream",e.PUBSUB="@pubsub",e.ADMIN="@admin",e.FAST="@fast",e.SLOW="@slow",e.BLOCKING="@blocking",e.DANGEROUS="@dangerous",e.CONNECTION="@connection",e.TRANSACTION="@transaction",e.SCRIPTING="@scripting"})(hb||(A.CommandCategories=hb={}));function Vye([e,t,r,s,n,u,i]){return{name:e,arity:t,flags:new Set(r),firstKeyIndex:s,lastKeyIndex:n,step:u,categories:new Set(i)}}A.transformCommandReply=Vye;var fb;(function(e){e.NO_WRITES="no-writes",e.ALLOW_OOM="allow-oom",e.ALLOW_STALE="allow-stale",e.NO_CLUSTER="no-cluster"})(fb||(A.RedisFunctionFlags=fb={}));function Xye(e){return{libraryName:e[1],engine:e[3],functions:e[5].map(t=>({name:t[1],description:t[3],flags:t[5]}))}}A.transformFunctionListItemReply=Xye;function _b(e,t){e.push(t.start.toString(),t.end.toString())}function Wye(e,t){if(Array.isArray(t))for(let r of t)_b(e,r);else _b(e,t)}A.parseSlotRangesArguments=Wye;function Zye([e,t]){return{start:e,end:t}}A.transformRangeReply=Zye;function $ye(e,t){if(Array.isArray(t)){if(e.push(t.length.toString()),t.length)if(Jye(t))e.pushKeys(t);else{for(let r=0;r<t.length;r++)e.pushKey(t[r].key);e.push("WEIGHTS");for(let r=0;r<t.length;r++)e.push(gu(t[r].weight))}}else e.push("1"),pb(t)?e.pushKey(t):(e.pushKey(t.key),e.push("WEIGHTS",gu(t.weight)))}A.parseZKeysArguments=$ye;function pb(e){return typeof e=="string"||e instanceof Buffer}function Jye(e){return pb(e[0])}function Qye(e,...t){let r=new Lye.BasicCommandParser;e.parseCommand(r,...t);let s=r.redisArgs;return r.preserve&&(s.preserve=r.preserve),s}A.parseArgs=Qye;function tf(e,t){let[r,s]=t;return{id:r,message:ef(s,void 0,e)}}A.transformStreamMessageReply=tf;function kye(e,t){return kh(t)?t:tf(e,t)}A.transformStreamMessageNullReply=kye;function Ur(e,t){return e.map(tf.bind(void 0,t))}A.transformStreamMessagesReply=Ur;function eAe(e,t,r){if(e===null)return null;switch(r?r[Qh.RESP_TYPES.MAP]:void 0){default:{let s=[];for(let n=0;n<e.length;n++){let u=e[n];s.push({name:u[0],messages:Ur(u[1])})}return s}}}A.transformStreamsMessagesReplyResp2=eAe;function tAe(e){if(e===null)return null;if(e instanceof Map){let t=new Map;for(let[r,s]of e){let n=r;t.set(n.toString(),Ur(s))}return t}else if(e instanceof Array){let t=[];for(let r=0;r<e.length;r+=2){let s=e[r],n=e[r+1];t.push(s),t.push(Ur(n))}return t}else{let t=Object.create(null);for(let[r,s]of Object.entries(e))t[r]=Ur(s);return t}}A.transformStreamsMessagesReplyResp3=tAe;function rAe(e){return JSON.stringify(e)}A.transformRedisJsonArgument=rAe;function Eb(e){return JSON.parse(e.toString())}A.transformRedisJsonReply=Eb;function sAe(e){return kh(e)?e:Eb(e)}A.transformRedisJsonNullReply=sAe});var sf=o(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});var nAe=y();rf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","LOG"),t!=null&&e.push(t.toString())},transformReply:{2:(e,t,r)=>e.map(s=>{let n=s;return{count:n[1],reason:n[3],context:n[5],object:n[7],username:n[9],"age-seconds":nAe.transformDoubleReply[2](n[11],t,r),"client-info":n[13],"entry-id":n[15],"timestamp-created":n[17],"timestamp-last-updated":n[19]}}),3:void 0}}});var gb=o(Yr=>{"use strict";var uAe=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});var iAe=uAe(sf());Yr.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:iAe.default.IS_READ_ONLY,parseCommand(e){e.push("ACL","LOG","RESET")},transformReply:void 0}});var yb=o(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","SAVE")},transformReply:void 0}});var Ab=o(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ACL","SETUSER",t),e.pushVariadic(r)},transformReply:void 0}});var Sb=o(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","USERS")},transformReply:void 0}});var Rb=o(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","WHOAMI")},transformReply:void 0}});var Cb=o(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("APPEND",t,r)},transformReply:void 0}});var lf=o(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ASKING_CMD=void 0;ir.ASKING_CMD="ASKING";ir.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push(ir.ASKING_CMD)},transformReply:void 0}});var Db=o(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,{username:t,password:r}){e.push("AUTH"),t!==void 0&&e.push(t),e.push(r)},transformReply:void 0}});var Tb=o(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("BGREWRITEAOF")},transformReply:void 0}});var Pb=o(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("BGSAVE"),t?.SCHEDULE&&e.push("SCHEDULE")},transformReply:void 0}});var qb=o(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BITCOUNT"),e.pushKey(t),r&&(e.push(r.start.toString()),e.push(r.end.toString()),r.mode&&e.push(r.mode))},transformReply:void 0}});var Ob=o(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BITFIELD_RO"),e.pushKey(t);for(let s of r)e.push("GET"),e.push(s.encoding),e.push(s.offset.toString())},transformReply:void 0}});var Mb=o(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BITFIELD"),e.pushKey(t);for(let s of r)switch(s.operation){case"GET":e.push("GET",s.encoding,s.offset.toString());break;case"SET":e.push("SET",s.encoding,s.offset.toString(),s.value.toString());break;case"INCRBY":e.push("INCRBY",s.encoding,s.offset.toString(),s.increment.toString());break;case"OVERFLOW":e.push("OVERFLOW",s.behavior);break}},transformReply:void 0}});var Ib=o(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("BITOP",t),e.pushKey(r),e.pushKeys(s)},transformReply:void 0}});var Nb=o(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n,u){e.push("BITPOS"),e.pushKey(t),e.push(r.toString()),s!==void 0&&e.push(s.toString()),n!==void 0&&e.push(n.toString()),u&&e.push(u)},transformReply:void 0}});var Lb=o(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u){e.push("BLMOVE"),e.pushKeys([t,r]),e.push(s,n,u.toString())},transformReply:void 0}});var Af=o(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.parseLMPopArguments=void 0;function Fb(e,t,r,s){e.pushKeysLength(t),e.push(r),s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString())}Hr.parseLMPopArguments=Fb;Hr.default={IS_READ_ONLY:!1,parseCommand(e,...t){e.push("LMPOP"),Fb(e,...t)},transformReply:void 0}});var bb=o(Ke=>{"use strict";var oAe=Ke&&Ke.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),aAe=Ke&&Ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dAe=Ke&&Ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oAe(t,e,r);return aAe(t,e),t};Object.defineProperty(Ke,"__esModule",{value:!0});var vb=dAe(Af());Ke.default={IS_READ_ONLY:!1,parseCommand(e,t,...r){e.push("BLMPOP",t.toString()),(0,vb.parseLMPopArguments)(e,...r)},transformReply:vb.default.transformReply}});var Rf=o(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BLPOP"),e.pushKeys(t),e.push(r.toString())},transformReply(e){return e===null?null:{key:e[0],element:e[1]}}}});var xb=o(Kr=>{"use strict";var lAe=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});var cAe=lAe(Rf());Kr.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BRPOP"),e.pushKeys(t),e.push(r.toString())},transformReply:cAe.default.transformReply}});var wb=o(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("BRPOPLPUSH"),e.pushKeys([t,r]),e.push(s.toString())},transformReply:void 0}});var Df=o(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.parseZMPopArguments=void 0;var Bb=y();function Gb(e,t,r,s){e.pushKeysLength(t),e.push(r),s?.COUNT&&e.push("COUNT",s.COUNT.toString())}zr.parseZMPopArguments=Gb;zr.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZMPOP"),Gb(e,t,r,s)},transformReply:{2(e,t,r){return e===null?null:{key:e[0],members:e[1].map(s=>{let[n,u]=s;return{value:n,score:Bb.transformDoubleReply[2](u,t,r)}})}},3(e){return e===null?null:{key:e[0],members:Bb.transformSortedSetReply[3](e[1])}}}}});var Yb=o(ze=>{"use strict";var hAe=ze&&ze.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),fAe=ze&&ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_Ae=ze&&ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hAe(t,e,r);return fAe(t,e),t};Object.defineProperty(ze,"__esModule",{value:!0});var Ub=_Ae(Df());ze.default={IS_READ_ONLY:!1,parseCommand(e,t,...r){e.push("BZMPOP",t.toString()),(0,Ub.parseZMPopArguments)(e,...r)},transformReply:Ub.default.transformReply}});var Pf=o(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var mAe=y();Tf.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BZPOPMAX"),e.pushKeys(t),e.push(r.toString())},transformReply:{2(e,t,r){return e===null?null:{key:e[0],value:e[1],score:mAe.transformDoubleReply[2](e[2],t,r)}},3(e){return e===null?null:{key:e[0],value:e[1],score:e[2]}}}}});var Kb=o(jr=>{"use strict";var pAe=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jr,"__esModule",{value:!0});var Hb=pAe(Pf());jr.default={IS_READ_ONLY:Hb.default.IS_READ_ONLY,parseCommand(e,t,r){e.push("BZPOPMIN"),e.pushKeys(t),e.push(r.toString())},transformReply:Hb.default.transformReply}});var zb=o(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","CACHING",t?"YES":"NO")},transformReply:void 0}});var jb=o(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","GETNAME")},transformReply:void 0}});var Vb=o(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","GETREDIR")},transformReply:void 0}});var Xb=o(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","ID")},transformReply:void 0}});var Lf=o(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var EAe=/([^\s=]+)=([^\s]*)/g;Nf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","INFO")},transformReply(e){let t={};for(let s of e.toString().matchAll(EAe))t[s[1]]=s[2];let r={id:Number(t.id),addr:t.addr,fd:Number(t.fd),name:t.name,age:Number(t.age),idle:Number(t.idle),flags:t.flags,db:Number(t.db),sub:Number(t.sub),psub:Number(t.psub),multi:Number(t.multi),qbuf:Number(t.qbuf),qbufFree:Number(t["qbuf-free"]),argvMem:Number(t["argv-mem"]),obl:Number(t.obl),oll:Number(t.oll),omem:Number(t.omem),totMem:Number(t["tot-mem"]),events:t.events,cmd:t.cmd,user:t.user,libName:t["lib-name"],libVer:t["lib-ver"]};return t.laddr!==void 0&&(r.laddr=t.laddr),t.redir!==void 0&&(r.redir=Number(t.redir)),t.ssub!==void 0&&(r.ssub=Number(t.ssub)),t["multi-mem"]!==void 0&&(r.multiMem=Number(t["multi-mem"])),t.resp!==void 0&&(r.resp=Number(t.resp)),r}}});var Zb=o(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.CLIENT_KILL_FILTERS=void 0;ge.CLIENT_KILL_FILTERS={ADDRESS:"ADDR",LOCAL_ADDRESS:"LADDR",ID:"ID",TYPE:"TYPE",USER:"USER",SKIP_ME:"SKIPME",MAXAGE:"MAXAGE"};ge.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){if(e.push("CLIENT","KILL"),Array.isArray(t))for(let r of t)Wb(e,r);else Wb(e,t)},transformReply:void 0};function Wb(e,t){if(t===ge.CLIENT_KILL_FILTERS.SKIP_ME){e.push("SKIPME");return}switch(e.push(t.filter),t.filter){case ge.CLIENT_KILL_FILTERS.ADDRESS:e.push(t.address);break;case ge.CLIENT_KILL_FILTERS.LOCAL_ADDRESS:e.push(t.localAddress);break;case ge.CLIENT_KILL_FILTERS.ID:e.push(typeof t.id=="number"?t.id.toString():t.id);break;case ge.CLIENT_KILL_FILTERS.TYPE:e.push(t.type);break;case ge.CLIENT_KILL_FILTERS.USER:e.push(t.username);break;case ge.CLIENT_KILL_FILTERS.SKIP_ME:e.push(t.skipMe?"yes":"no");break;case ge.CLIENT_KILL_FILTERS.MAXAGE:e.push(t.maxAge.toString());break}}});var $b=o(Vr=>{"use strict";var gAe=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});var yAe=gAe(Lf());Vr.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","LIST"),t&&(t.TYPE!==void 0?e.push("TYPE",t.TYPE):(e.push("ID"),e.pushVariadic(t.ID)))},transformReply(e){let t=e.toString().split(`
`),r=t.length-1,s=[];for(let n=0;n<r;n++)s.push(yAe.default.transformReply(t[n]));return s}}});var Jb=o(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","NO-EVICT",t?"ON":"OFF")},transformReply:void 0}});var Qb=o(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","NO-TOUCH",t?"ON":"OFF")},transformReply:void 0}});var kb=o(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLIENT","PAUSE",t.toString()),r&&e.push(r)},transformReply:void 0}});var ex=o(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","SETNAME",t)},transformReply:void 0}});var tx=o(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){if(e.push("CLIENT","TRACKING",t?"ON":"OFF"),t){if(r?.REDIRECT&&e.push("REDIRECT",r.REDIRECT.toString()),AAe(r)){if(e.push("BCAST"),r?.PREFIX)if(Array.isArray(r.PREFIX))for(let s of r.PREFIX)e.push("PREFIX",s);else e.push("PREFIX",r.PREFIX)}else SAe(r)?e.push("OPTIN"):RAe(r)&&e.push("OPTOUT");r?.NOLOOP&&e.push("NOLOOP")}},transformReply:void 0};function AAe(e){return e?.BCAST===!0}function SAe(e){return e?.OPTIN===!0}function RAe(e){return e?.OPTOUT===!0}});var rx=o(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","TRACKINGINFO")},transformReply:{2:e=>({flags:e[1],redirect:e[3],prefixes:e[5]}),3:void 0}}});var sx=o(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","UNPAUSE")},transformReply:void 0}});var nx=o(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","ADDSLOTS"),e.pushVariadicNumber(t)},transformReply:void 0}});var ux=o(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});var CAe=y();Yf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","ADDSLOTSRANGE"),(0,CAe.parseSlotRangesArguments)(e,t)},transformReply:void 0}});var ix=o(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","BUMPEPOCH")},transformReply:void 0}});var ox=o(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","COUNT-FAILURE-REPORTS",t)},transformReply:void 0}});var ax=o(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","COUNTKEYSINSLOT",t.toString())},transformReply:void 0}});var dx=o(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","DELSLOTS"),e.pushVariadicNumber(t)},transformReply:void 0}});var lx=o(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var DAe=y();Vf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","DELSLOTSRANGE"),(0,DAe.parseSlotRangesArguments)(e,t)},transformReply:void 0}});var cx=o(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.FAILOVER_MODES=void 0;Xr.FAILOVER_MODES={FORCE:"FORCE",TAKEOVER:"TAKEOVER"};Xr.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","FAILOVER"),t?.mode&&e.push(t.mode)},transformReply:void 0}});var hx=o(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","FLUSHSLOTS")},transformReply:void 0}});var fx=o(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","FORGET",t)},transformReply:void 0}});var _x=o(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLUSTER","GETKEYSINSLOT",t.toString(),r.toString())},transformReply:void 0}});var mx=o($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","INFO")},transformReply:void 0}});var px=o(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","KEYSLOT",t)},transformReply:void 0}});var Ex=o(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","LINKS")},transformReply:{2:e=>e.map(t=>{let r=t;return{direction:r[1],node:r[3],"create-time":r[5],events:r[7],"send-buffer-allocated":r[9],"send-buffer-used":r[11]}}),3:void 0}}});var gx=o(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLUSTER","MEET",t,r.toString())},transformReply:void 0}});var yx=o(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","MYID")},transformReply:void 0}});var Ax=o(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","MYSHARDID")},transformReply:void 0}});var Sx=o(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","NODES")},transformReply:void 0}});var Rx=o(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","REPLICAS",t)},transformReply:void 0}});var Cx=o(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","REPLICATE",t)},transformReply:void 0}});var Dx=o(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","RESET"),t?.mode&&e.push(t.mode)},transformReply:void 0}});var Tx=o(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","SAVECONFIG")},transformReply:void 0}});var Px=o(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","SET-CONFIG-EPOCH",t.toString())},transformReply:void 0}});var qx=o(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.CLUSTER_SLOT_STATES=void 0;Wr.CLUSTER_SLOT_STATES={IMPORTING:"IMPORTING",MIGRATING:"MIGRATING",STABLE:"STABLE",NODE:"NODE"};Wr.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("CLUSTER","SETSLOT",t.toString(),r),s&&e.push(s)},transformReply:void 0}});var Mx=o(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","SLOTS")},transformReply(e){return e.map(([t,r,s,...n])=>({from:t,to:r,master:Ox(s),replicas:n.map(Ox)}))}};function Ox(e){let[t,r,s]=e;return{host:t,port:r,id:s}}});var Ix=o(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("COMMAND","COUNT")},transformReply:void 0}});var Nx=o(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","GETKEYS"),e.push(...t)},transformReply:void 0}});var Lx=o(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","GETKEYSANDFLAGS"),e.push(...t)},transformReply(e){return e.map(t=>{let[r,s]=t;return{key:r,flags:s}})}}});var Fx=o(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});var TAe=y();h_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","INFO",...t)},transformReply(e){return e.map(t=>t?(0,TAe.transformCommandReply)(t):null)}}});var vx=o(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.COMMAND_LIST_FILTER_BY=void 0;Zr.COMMAND_LIST_FILTER_BY={MODULE:"MODULE",ACLCAT:"ACLCAT",PATTERN:"PATTERN"};Zr.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","LIST"),t?.FILTERBY&&e.push("FILTERBY",t.FILTERBY.type,t.FILTERBY.value)},transformReply:void 0}});var bx=o(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});var PAe=y();f_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("COMMAND")},transformReply(e){return e.map(PAe.transformCommandReply)}}});var xx=o(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});var qAe=y();__.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CONFIG","GET"),e.pushVariadic(t)},transformReply:{2:qAe.transformTuplesReply,3:void 0}}});var wx=o(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CONFIG","RESETSTAT")},transformReply:void 0}});var Bx=o(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CONFIG","REWRITE")},transformReply:void 0}});var Gx=o(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,...[t,r]){if(e.push("CONFIG","SET"),typeof t=="string"||t instanceof Buffer)e.push(t,r);else for(let[s,n]of Object.entries(t))e.push(s,n)},transformReply:void 0}});var Ux=o(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("COPY"),e.pushKeys([t,r]),s?.DB&&e.push("DB",s.DB.toString()),s?.REPLACE&&e.push("REPLACE")},transformReply:void 0}});var Yx=o(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("DBSIZE")},transformReply:void 0}});var Hx=o(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.default={parseCommand(e,t){e.push("DECR"),e.pushKey(t)},transformReply:void 0}});var Kx=o(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.default={parseCommand(e,t,r){e.push("DECRBY"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var zx=o(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("DEL"),e.pushKeys(t)},transformReply:void 0}});var jx=o(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("DUMP"),e.pushKey(t)},transformReply:void 0}});var Vx=o(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ECHO",t)},transformReply:void 0}});var vt=o($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.parseEvalArguments=void 0;function Xx(e,t,r){e.push(t),r?.keys?e.pushKeysLength(r.keys):e.push("0"),r?.arguments&&e.push(...r.arguments)}$r.parseEvalArguments=Xx;$r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("EVAL"),Xx(...e)},transformReply:void 0}});var Zx=o(je=>{"use strict";var OAe=je&&je.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),MAe=je&&je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IAe=je&&je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OAe(t,e,r);return MAe(t,e),t};Object.defineProperty(je,"__esModule",{value:!0});var Wx=IAe(vt());je.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("EVAL_RO"),(0,Wx.parseEvalArguments)(...e)},transformReply:Wx.default.transformReply}});var Jx=o(Ve=>{"use strict";var NAe=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),LAe=Ve&&Ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FAe=Ve&&Ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&NAe(t,e,r);return LAe(t,e),t};Object.defineProperty(Ve,"__esModule",{value:!0});var $x=FAe(vt());Ve.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("EVALSHA_RO"),(0,$x.parseEvalArguments)(...e)},transformReply:$x.default.transformReply}});var kx=o(Xe=>{"use strict";var vAe=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),bAe=Xe&&Xe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xAe=Xe&&Xe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vAe(t,e,r);return bAe(t,e),t};Object.defineProperty(Xe,"__esModule",{value:!0});var Qx=xAe(vt());Xe.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("EVALSHA"),(0,Qx.parseEvalArguments)(...e)},transformReply:Qx.default.transformReply}});var tw=o(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){if(e.push("GEOADD"),e.pushKey(t),s?.condition?e.push(s.condition):s?.NX?e.push("NX"):s?.XX&&e.push("XX"),s?.CH&&e.push("CH"),Array.isArray(r))for(let n of r)ew(e,n);else ew(e,r)},transformReply:void 0};function ew(e,{longitude:t,latitude:r,member:s}){e.push(t.toString(),r.toString(),s)}});var rw=o(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("GEODIST"),e.pushKey(t),e.push(r,s),n&&e.push(n)},transformReply(e){return e===null?null:Number(e)}}});var sw=o(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GEOHASH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var nw=o(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GEOPOS"),e.pushKey(t),e.pushVariadic(r)},transformReply(e){return e.map(t=>{let r=t;return r===null?null:{longitude:r[0],latitude:r[1]}})}}});var xt=o(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.parseGeoSearchOptions=bt.parseGeoSearchArguments=void 0;function uw(e,t,r,s,n){e.pushKey(t),typeof r=="string"||r instanceof Buffer?e.push("FROMMEMBER",r):e.push("FROMLONLAT",r.longitude.toString(),r.latitude.toString()),"radius"in s?e.push("BYRADIUS",s.radius.toString(),s.unit):e.push("BYBOX",s.width.toString(),s.height.toString(),s.unit),iw(e,n)}bt.parseGeoSearchArguments=uw;function iw(e,t){t?.SORT&&e.push(t.SORT),t?.COUNT&&(typeof t.COUNT=="number"?e.push("COUNT",t.COUNT.toString()):(e.push("COUNT",t.COUNT.value.toString()),t.COUNT.ANY&&e.push("ANY")))}bt.parseGeoSearchOptions=iw;bt.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("GEOSEARCH"),uw(e,t,r,s,n)},transformReply:void 0}});var Qr=o(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.parseGeoRadiusArguments=void 0;var wAe=xt();function ow(e,t,r,s,n,u){e.pushKey(t),e.push(r.longitude.toString(),r.latitude.toString(),s.toString(),n),(0,wAe.parseGeoSearchOptions)(e,u)}Jr.parseGeoRadiusArguments=ow;Jr.default={IS_READ_ONLY:!1,parseCommand(...e){return e[0].push("GEORADIUS"),ow(...e)},transformReply:void 0}});var kr=o(Fe=>{"use strict";var BAe=Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.GEO_REPLY_WITH=void 0;var aw=BAe(xt());Fe.GEO_REPLY_WITH={DISTANCE:"WITHDIST",HASH:"WITHHASH",COORDINATES:"WITHCOORD"};Fe.default={IS_READ_ONLY:aw.default.IS_READ_ONLY,parseCommand(e,t,r,s,n,u){aw.default.parseCommand(e,t,r,s,u),e.push(...n),e.preserve=n},transformReply(e,t){let r=new Set(t),s=0,n=r.has(Fe.GEO_REPLY_WITH.DISTANCE)&&++s,u=r.has(Fe.GEO_REPLY_WITH.HASH)&&++s,i=r.has(Fe.GEO_REPLY_WITH.COORDINATES)&&++s;return e.map(a=>{let d=a,h={member:d[0]};if(n&&(h.distance=d[n]),u&&(h.hash=d[u]),i){let[f,_]=d[i];h.coordinates={longitude:f,latitude:_}}return h})}}});var yu=o(ye=>{"use strict";var GAe=ye&&ye.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),UAe=ye&&ye.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),YAe=ye&&ye.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&GAe(t,e,r);return UAe(t,e),t},HAe=ye&&ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ye,"__esModule",{value:!0});ye.parseGeoRadiusWithArguments=void 0;var dw=YAe(Qr()),KAe=HAe(kr());function lw(e,t,r,s,n,u,i){(0,dw.parseGeoRadiusArguments)(e,t,r,s,n,i),e.pushVariadic(u),e.preserve=u}ye.parseGeoRadiusWithArguments=lw;ye.default={IS_READ_ONLY:dw.default.IS_READ_ONLY,parseCommand(e,t,r,s,n,u,i){e.push("GEORADIUS"),lw(e,t,r,s,n,u,i)},transformReply:KAe.default.transformReply}});var cw=o(es=>{"use strict";var zAe=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(es,"__esModule",{value:!0});var jAe=yu(),VAe=zAe(yu());es.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUS_RO"),(0,jAe.parseGeoRadiusWithArguments)(...e)},transformReply:VAe.default.transformReply}});var fw=o(We=>{"use strict";var XAe=We&&We.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),WAe=We&&We.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ZAe=We&&We.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XAe(t,e,r);return WAe(t,e),t};Object.defineProperty(We,"__esModule",{value:!0});var hw=ZAe(Qr());We.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUS_RO"),(0,hw.parseGeoRadiusArguments)(...e)},transformReply:hw.default.transformReply}});var mw=o(Ze=>{"use strict";var $Ae=Ze&&Ze.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),JAe=Ze&&Ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QAe=Ze&&Ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Ae(t,e,r);return JAe(t,e),t};Object.defineProperty(Ze,"__esModule",{value:!0});var _w=QAe(Qr());Ze.default={IS_READ_ONLY:_w.default.IS_READ_ONLY,parseCommand(e,t,r,s,n,u,i){e.push("GEORADIUS"),(0,_w.parseGeoRadiusArguments)(e,t,r,s,n,i),i?.STOREDIST?(e.push("STOREDIST"),e.pushKey(u)):(e.push("STORE"),e.pushKey(u))},transformReply:void 0}});var rs=o(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.parseGeoRadiusByMemberArguments=void 0;var kAe=xt();function pw(e,t,r,s,n,u){e.pushKey(t),e.push(r,s.toString(),n),(0,kAe.parseGeoSearchOptions)(e,u)}ts.parseGeoRadiusByMemberArguments=pw;ts.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u){e.push("GEORADIUSBYMEMBER"),pw(e,t,r,s,n,u)},transformReply:void 0}});var M_=o(wt=>{"use strict";var Ew=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.parseGeoRadiusByMemberWithArguments=void 0;var eSe=Ew(rs()),tSe=xt(),rSe=Ew(kr());function gw(e,t,r,s,n,u,i){e.pushKey(t),e.push(r,s.toString(),n),(0,tSe.parseGeoSearchOptions)(e,i),e.push(...u),e.preserve=u}wt.parseGeoRadiusByMemberWithArguments=gw;wt.default={IS_READ_ONLY:eSe.default.IS_READ_ONLY,parseCommand(e,t,r,s,n,u,i){e.push("GEORADIUSBYMEMBER"),gw(e,t,r,s,n,u,i)},transformReply:rSe.default.transformReply}});var Aw=o($e=>{"use strict";var sSe=$e&&$e.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),nSe=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uSe=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sSe(t,e,r);return nSe(t,e),t};Object.defineProperty($e,"__esModule",{value:!0});var yw=uSe(M_());$e.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUSBYMEMBER_RO"),(0,yw.parseGeoRadiusByMemberWithArguments)(...e)},transformReply:yw.default.transformReply}});var Rw=o(Je=>{"use strict";var iSe=Je&&Je.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),oSe=Je&&Je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aSe=Je&&Je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iSe(t,e,r);return oSe(t,e),t};Object.defineProperty(Je,"__esModule",{value:!0});var Sw=aSe(rs());Je.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUSBYMEMBER_RO"),(0,Sw.parseGeoRadiusByMemberArguments)(...e)},transformReply:Sw.default.transformReply}});var Dw=o(Qe=>{"use strict";var dSe=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),lSe=Qe&&Qe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cSe=Qe&&Qe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dSe(t,e,r);return lSe(t,e),t};Object.defineProperty(Qe,"__esModule",{value:!0});var Cw=cSe(rs());Qe.default={IS_READ_ONLY:Cw.default.IS_READ_ONLY,parseCommand(e,t,r,s,n,u,i){e.push("GEORADIUSBYMEMBER"),(0,Cw.parseGeoRadiusByMemberArguments)(e,t,r,s,n,i),i?.STOREDIST?(e.push("STOREDIST"),e.pushKey(u)):(e.push("STORE"),e.pushKey(u))},transformReply:void 0}});var Tw=o(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});var hSe=xt();I_.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u){e.push("GEOSEARCHSTORE"),t!==void 0&&e.pushKey(t),(0,hSe.parseGeoSearchArguments)(e,r,s,n,u),u?.STOREDIST&&e.push("STOREDIST")},transformReply:void 0}});var Pw=o(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("GET"),e.pushKey(t)},transformReply:void 0}});var qw=o(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GETBIT"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var Ow=o(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("GETDEL"),e.pushKey(t)},transformReply:void 0}});var Mw=o(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});var v_=y();b_.default={IS_READ_ONLY:!0,parseCommand(e,t,r){if(e.push("GETEX"),e.pushKey(t),"type"in r)switch(r.type){case"EX":case"PX":e.push(r.type,r.value.toString());break;case"EXAT":case"PXAT":e.push(r.type,(0,v_.transformEXAT)(r.value));break;case"PERSIST":e.push("PERSIST");break}else"EX"in r?e.push("EX",r.EX.toString()):"PX"in r?e.push("PX",r.PX.toString()):"EXAT"in r?e.push("EXAT",(0,v_.transformEXAT)(r.EXAT)):"PXAT"in r?e.push("PXAT",(0,v_.transformPXAT)(r.PXAT)):e.push("PERSIST")},transformReply:void 0}});var Iw=o(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("GETRANGE"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var Nw=o(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GETSET"),e.pushKey(t),e.push(r)},transformReply:void 0}});var Lw=o(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("EXISTS"),e.pushKeys(t)},transformReply:void 0}});var Fw=o(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.default={parseCommand(e,t,r,s){e.push("EXPIRE"),e.pushKey(t),e.push(r.toString()),s&&e.push(s)},transformReply:void 0}});var vw=o(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});var fSe=y();U_.default={parseCommand(e,t,r,s){e.push("EXPIREAT"),e.pushKey(t),e.push((0,fSe.transformEXAT)(r)),s&&e.push(s)},transformReply:void 0}});var bw=o(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("EXPIRETIME"),e.pushKey(t)},transformReply:void 0}});var H_=o(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.REDIS_FLUSH_MODES=void 0;ss.REDIS_FLUSH_MODES={ASYNC:"ASYNC",SYNC:"SYNC"};ss.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FLUSHALL"),t&&e.push(t)},transformReply:void 0}});var xw=o(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FLUSHDB"),t&&e.push(t)},transformReply:void 0}});var Bw=o(ke=>{"use strict";var _Se=ke&&ke.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),mSe=ke&&ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pSe=ke&&ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Se(t,e,r);return mSe(t,e),t};Object.defineProperty(ke,"__esModule",{value:!0});var ww=pSe(vt());ke.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("FCALL"),(0,ww.parseEvalArguments)(...e)},transformReply:ww.default.transformReply}});var Uw=o(et=>{"use strict";var ESe=et&&et.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),gSe=et&&et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ySe=et&&et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ESe(t,e,r);return gSe(t,e),t};Object.defineProperty(et,"__esModule",{value:!0});var Gw=ySe(vt());et.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("FCALL_RO"),(0,Gw.parseEvalArguments)(...e)},transformReply:Gw.default.transformReply}});var Yw=o(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","DELETE",t)},transformReply:void 0}});var Hw=o(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","DUMP")},transformReply:void 0}});var Kw=o(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","FLUSH"),t&&e.push(t)},transformReply:void 0}});var zw=o(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","KILL")},transformReply:void 0}});var Z_=o(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","LIST"),t?.LIBRARYNAME&&e.push("LIBRARYNAME",t.LIBRARYNAME)},transformReply:{2:e=>e.map(t=>{let r=t;return{library_name:r[1],engine:r[3],functions:r[5].map(s=>{let n=s;return{name:n[1],description:n[3],flags:n[5]}})}}),3:void 0}}});var jw=o(ns=>{"use strict";var ASe=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ns,"__esModule",{value:!0});var $_=ASe(Z_());ns.default={NOT_KEYED_COMMAND:$_.default.NOT_KEYED_COMMAND,IS_READ_ONLY:$_.default.IS_READ_ONLY,parseCommand(...e){$_.default.parseCommand(...e),e[0].push("WITHCODE")},transformReply:{2:e=>e.map(t=>{let r=t;return{library_name:r[1],engine:r[3],functions:r[5].map(s=>{let n=s;return{name:n[1],description:n[3],flags:n[5]}}),library_code:r[7]}}),3:void 0}}});var Vw=o(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("FUNCTION","LOAD"),r?.REPLACE&&e.push("REPLACE"),e.push(t)},transformReply:void 0}});var Xw=o(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("FUNCTION","RESTORE",t),r?.mode&&e.push(r.mode)},transformReply:void 0}});var Ww=o(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var SSe=y();k_.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","STATS")},transformReply:{2:e=>({running_script:RSe(e[1]),engines:CSe(e[3])}),3:void 0}};function RSe(e){if((0,SSe.isNullReply)(e))return null;let t=e;return{name:t[1],command:t[3],duration_ms:t[5]}}function CSe(e){let t=e,r=Object.create(null);for(let s=0;s<t.length;s++){let n=t[s],u=t[++s],i=u;r[n.toString()]={libraries_count:i[1],functions_count:i[3]}}return r}});var Zw=o(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.default={parseCommand(e,t,r){e.push("HDEL"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var rm=o(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.default={parseCommand(e,t,r){e.push("HELLO"),t&&(e.push(t.toString()),r?.AUTH&&e.push("AUTH",r.AUTH.username,r.AUTH.password),r?.SETNAME&&e.push("SETNAME",r.SETNAME))},transformReply:{2:e=>({server:e[1],version:e[3],proto:e[5],id:e[7],mode:e[9],role:e[11],modules:e[13]}),3:void 0}}});var $w=o(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HEXISTS"),e.pushKey(t),e.push(r)},transformReply:void 0}});var Jw=o(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.HASH_EXPIRATION=void 0;us.HASH_EXPIRATION={FIELD_NOT_EXISTS:-2,CONDITION_NOT_MET:0,UPDATED:1,DELETED:2};us.default={parseCommand(e,t,r,s,n){e.push("HEXPIRE"),e.pushKey(t),e.push(s.toString()),n&&e.push(n),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var Qw=o(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});var DSe=y();nm.default={parseCommand(e,t,r,s,n){e.push("HEXPIREAT"),e.pushKey(t),e.push((0,DSe.transformEXAT)(s)),n&&e.push(n),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var kw=o(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.HASH_EXPIRATION_TIME=void 0;is.HASH_EXPIRATION_TIME={FIELD_NOT_EXISTS:-2,NO_EXPIRATION:-1};is.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HEXPIRETIME"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var eB=o(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HGET"),e.pushKey(t),e.push(r)},transformReply:void 0}});var tB=o(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});var TSe=y();im.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HGETALL"),e.pushKey(t)},TRANSFORM_LEGACY_REPLY:!0,transformReply:{2:TSe.transformTuplesReply,3:void 0}}});var rB=o(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.default={parseCommand(e,t,r){e.push("HGETDEL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var sB=o(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.default={parseCommand(e,t,r,s){e.push("HGETEX"),e.pushKey(t),s?.expiration&&(typeof s.expiration=="string"?e.push(s.expiration):s.expiration.type==="PERSIST"?e.push("PERSIST"):e.push(s.expiration.type,s.expiration.value.toString())),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var nB=o(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.default={parseCommand(e,t,r,s){e.push("HINCRBY"),e.pushKey(t),e.push(r,s.toString())},transformReply:void 0}});var uB=o(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.default={parseCommand(e,t,r,s){e.push("HINCRBYFLOAT"),e.pushKey(t),e.push(r,s.toString())},transformReply:void 0}});var iB=o(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HKEYS"),e.pushKey(t)},transformReply:void 0}});var oB=o(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HLEN"),e.pushKey(t)},transformReply:void 0}});var aB=o(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HMGET"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var dB=o(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.default={parseCommand(e,t,r){e.push("HPERSIST"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var lB=o(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.default={parseCommand(e,t,r,s,n){e.push("HPEXPIRE"),e.pushKey(t),e.push(s.toString()),n&&e.push(n),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var cB=o(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});var PSe=y();pm.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("HPEXPIREAT"),e.pushKey(t),e.push((0,PSe.transformPXAT)(s)),n&&e.push(n),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var hB=o(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HPEXPIRETIME"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var fB=o(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HPTTL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var _B=o(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HRANDFIELD"),e.pushKey(t),e.push(r.toString(),"WITHVALUES")},transformReply:{2:e=>{let t=[],r=0;for(;r<e.length;)t.push({field:e[r++],value:e[r++]});return t},3:e=>e.map(t=>{let[r,s]=t;return{field:r,value:s}})}}});var mB=o(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HRANDFIELD"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var pB=o(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("HRANDFIELD"),e.pushKey(t)},transformReply:void 0}});var os=o(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.pushScanArguments=Bt.parseScanArguments=void 0;function EB(e,t,r){e.push(t),r?.MATCH&&e.push("MATCH",r.MATCH),r?.COUNT&&e.push("COUNT",r.COUNT.toString())}Bt.parseScanArguments=EB;function qSe(e,t,r){return e.push(t.toString()),r?.MATCH&&e.push("MATCH",r.MATCH),r?.COUNT&&e.push("COUNT",r.COUNT.toString()),e}Bt.pushScanArguments=qSe;Bt.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SCAN"),EB(e,t,r),r?.TYPE&&e.push("TYPE",r.TYPE)},transformReply([e,t]){return{cursor:e,keys:t}}}});var Cm=o(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var OSe=os();Rm.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("HSCAN"),e.pushKey(t),(0,OSe.parseScanArguments)(e,r,s)},transformReply([e,t]){let r=[],s=0;for(;s<t.length;)r.push({field:t[s++],value:t[s++]});return{cursor:e,entries:r}}}});var gB=o(as=>{"use strict";var MSe=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});var ISe=MSe(Cm());as.default={IS_READ_ONLY:!0,parseCommand(...e){let t=e[0];ISe.default.parseCommand(...e),t.push("NOVALUES")},transformReply([e,t]){return{cursor:e,fields:t}}}});var AB=o(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default={parseCommand(e,...[t,r,s]){e.push("HSET"),e.pushKey(t),typeof r=="string"||typeof r=="number"||r instanceof Buffer?e.push(Gt(r),Gt(s)):r instanceof Map?NSe(e,r):Array.isArray(r)?yB(e,r):LSe(e,r)},transformReply:void 0};function NSe(e,t){for(let[r,s]of t.entries())e.push(Gt(r),Gt(s))}function yB(e,t){for(let r of t){if(Array.isArray(r)){yB(e,r);continue}e.push(Gt(r))}}function LSe(e,t){for(let r of Object.keys(t))e.push(Gt(r),Gt(t[r]))}function Gt(e){return typeof e=="number"?e.toString():e}});var RB=o(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});var FSe=Le();Tm.default={parseCommand(e,t,r,s){e.push("HSETEX"),e.pushKey(t),s?.mode&&e.push(s.mode),s?.expiration&&(typeof s.expiration=="string"?e.push(s.expiration):s.expiration.type==="KEEPTTL"?e.push("KEEPTTL"):e.push(s.expiration.type,s.expiration.value.toString())),e.push("FIELDS"),r instanceof Map?vSe(e,r):Array.isArray(r)?bSe(e,r):xSe(e,r)},transformReply:void 0};function vSe(e,t){e.push(t.size.toString());for(let[r,s]of t.entries())e.push(ds(r),ds(s))}function bSe(e,t){let r=new FSe.BasicCommandParser;if(SB(r,t),r.redisArgs.length%2!=0)throw Error("invalid number of arguments, expected key value ....[key value] pairs, got key without value");e.push((r.redisArgs.length/2).toString()),e.push(...r.redisArgs)}function SB(e,t){for(let r of t){if(Array.isArray(r)){SB(e,r);continue}e.push(ds(r))}}function xSe(e,t){let r=Object.keys(t).length;if(r==0)throw Error("object without keys");e.push(r.toString());for(let s of Object.keys(t))e.push(ds(s),ds(t[s]))}function ds(e){return typeof e=="number"?e.toString():e}});var CB=o(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("HSETNX"),e.pushKey(t),e.push(r,s)},transformReply:void 0}});var DB=o(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HSTRLEN"),e.pushKey(t),e.push(r)},transformReply:void 0}});var TB=o(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HTTL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var PB=o(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HVALS"),e.pushKey(t)},transformReply:void 0}});var qB=o(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.default={parseCommand(e,t){e.push("INCR"),e.pushKey(t)},transformReply:void 0}});var OB=o(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.default={parseCommand(e,t,r){e.push("INCRBY"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var MB=o(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default={parseCommand(e,t,r){e.push("INCRBYFLOAT"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var IB=o(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("INFO"),t&&e.push(t)},transformReply:void 0}});var NB=o(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("KEYS",t)},transformReply:void 0}});var LB=o(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LASTSAVE")},transformReply:void 0}});var FB=o(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LATENCY","DOCTOR")},transformReply:void 0}});var vB=o(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.LATENCY_EVENTS=void 0;ls.LATENCY_EVENTS={ACTIVE_DEFRAG_CYCLE:"active-defrag-cycle",AOF_FSYNC_ALWAYS:"aof-fsync-always",AOF_STAT:"aof-stat",AOF_REWRITE_DIFF_WRITE:"aof-rewrite-diff-write",AOF_RENAME:"aof-rename",AOF_WRITE:"aof-write",AOF_WRITE_ACTIVE_CHILD:"aof-write-active-child",AOF_WRITE_ALONE:"aof-write-alone",AOF_WRITE_PENDING_FSYNC:"aof-write-pending-fsync",COMMAND:"command",EXPIRE_CYCLE:"expire-cycle",EVICTION_CYCLE:"eviction-cycle",EVICTION_DEL:"eviction-del",FAST_COMMAND:"fast-command",FORK:"fork",RDB_UNLINK_TEMP_FILE:"rdb-unlink-temp-file"};ls.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LATENCY","GRAPH",t)},transformReply:void 0}});var bB=o(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LATENCY","HISTORY",t)},transformReply:void 0}});var xB=o(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LATENCY","LATEST")},transformReply:void 0}});var Au=o(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("LCS"),e.pushKeys([t,r])},transformReply:void 0}});var Um=o(cs=>{"use strict";var wSe=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});var wB=wSe(Au());cs.default={IS_READ_ONLY:wB.default.IS_READ_ONLY,parseCommand(e,t,r,s){wB.default.parseCommand(e,t,r),e.push("IDX"),s?.MINMATCHLEN&&e.push("MINMATCHLEN",s.MINMATCHLEN.toString())},transformReply:{2:e=>({matches:e[1],len:e[3]}),3:void 0}}});var GB=o(hs=>{"use strict";var BSe=hs&&hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});var BB=BSe(Um());hs.default={IS_READ_ONLY:BB.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];BB.default.parseCommand(...e),t.push("WITHMATCHLEN")},transformReply:{2:e=>({matches:e[1],len:e[3]}),3:void 0}}});var YB=o(fs=>{"use strict";var GSe=fs&&fs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});var UB=GSe(Au());fs.default={IS_READ_ONLY:UB.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];UB.default.parseCommand(...e),t.push("LEN")},transformReply:void 0}});var HB=o(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("LINDEX"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var KB=o(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("LINSERT"),e.pushKey(t),e.push(r,s,n)},transformReply:void 0}});var zB=o(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LLEN"),e.pushKey(t)},transformReply:void 0}});var jB=o(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("LMOVE"),e.pushKeys([t,r]),e.push(s,n)},transformReply:void 0}});var VB=o(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,...r){e.push("LOLWUT"),t&&(e.push("VERSION",t.toString()),e.pushVariadic(r.map(String)))},transformReply:void 0}});var Xm=o(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.default={parseCommand(e,t){e.push("LPOP"),e.pushKey(t)},transformReply:void 0}});var XB=o(_s=>{"use strict";var USe=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_s,"__esModule",{value:!0});var YSe=USe(Xm());_s.default={IS_READ_ONLY:!1,parseCommand(e,t,r){YSe.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}});var Zm=o(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("LPOS"),e.pushKey(t),e.push(r),s?.RANK!==void 0&&e.push("RANK",s.RANK.toString()),s?.MAXLEN!==void 0&&e.push("MAXLEN",s.MAXLEN.toString())},transformReply:void 0}});var WB=o(ms=>{"use strict";var HSe=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});var $m=HSe(Zm());ms.default={CACHEABLE:$m.default.CACHEABLE,IS_READ_ONLY:$m.default.IS_READ_ONLY,parseCommand(e,t,r,s,n){$m.default.parseCommand(e,t,r,n),e.push("COUNT",s.toString())},transformReply:void 0}});var ZB=o(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.default={parseCommand(e,t,r){e.push("LPUSH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var $B=o(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.default={parseCommand(e,t,r){e.push("LPUSHX"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var JB=o(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("LRANGE"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var QB=o(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("LREM"),e.pushKey(t),e.push(r.toString()),e.push(s)},transformReply:void 0}});var kB=o(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("LSET"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var eG=o(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.default={parseCommand(e,t,r,s){e.push("LTRIM"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var tG=o(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","DOCTOR")},transformReply:void 0}});var rG=o(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","MALLOC-STATS")},transformReply:void 0}});var sG=o(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e){e.push("MEMORY","PURGE")},transformReply:void 0}});var nG=o(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var KSe=y();ip.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","STATS")},transformReply:{2:(e,t,r)=>{let s={},n=0;for(;n<e.length;)switch(e[n].toString()){case"dataset.percentage":case"peak.percentage":case"allocator-fragmentation.ratio":case"allocator-rss.ratio":case"rss-overhead.ratio":case"fragmentation":s[e[n++]]=KSe.transformDoubleReply[2](e[n++],t,r);break;default:s[e[n++]]=e[n++]}return s},3:void 0}}});var uG=o(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("MEMORY","USAGE"),e.pushKey(t),r?.SAMPLES&&e.push("SAMPLES",r.SAMPLES.toString())},transformReply:void 0}});var iG=o(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("MGET"),e.pushKeys(t)},transformReply:void 0}});var oG=o(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u,i){e.push("MIGRATE",t,r.toString());let a=Array.isArray(s);a?e.push(""):e.push(s),e.push(n.toString(),u.toString()),i?.COPY&&e.push("COPY"),i?.REPLACE&&e.push("REPLACE"),i?.AUTH&&(i.AUTH.username?e.push("AUTH2",i.AUTH.username,i.AUTH.password):e.push("AUTH",i.AUTH.password)),a&&(e.push("KEYS"),e.pushVariadic(s))},transformReply:void 0}});var aG=o(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MODULE","LIST")},transformReply:{2:e=>e.map(t=>{let r=t;return{name:r[1],ver:r[3]}}),3:void 0}}});var dG=o(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("MODULE","LOAD",t),r&&e.push(...r)},transformReply:void 0}});var lG=o(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("MODULE","UNLOAD",t)},transformReply:void 0}});var cG=o(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.default={parseCommand(e,t,r){e.push("MOVE"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var _p=o(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.parseMSetArguments=void 0;function hG(e,t){if(Array.isArray(t)){if(t.length==0)throw new Error("empty toSet Argument");if(Array.isArray(t[0]))for(let r of t)e.pushKey(r[0]),e.push(r[1]);else{let r=t;for(let s=0;s<r.length;s+=2)e.pushKey(r[s]),e.push(r[s+1])}}else for(let r of Object.entries(t))e.pushKey(r[0]),e.push(r[1])}ps.parseMSetArguments=hG;ps.default={IS_READ_ONLY:!0,parseCommand(e,t){return e.push("MSET"),hG(e,t)},transformReply:void 0}});var fG=o(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var zSe=_p();mp.default={IS_READ_ONLY:!0,parseCommand(e,t){return e.push("MSETNX"),(0,zSe.parseMSetArguments)(e,t)},transformReply:void 0}});var _G=o(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","ENCODING"),e.pushKey(t)},transformReply:void 0}});var mG=o(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","FREQ"),e.pushKey(t)},transformReply:void 0}});var pG=o(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","IDLETIME"),e.pushKey(t)},transformReply:void 0}});var EG=o(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","REFCOUNT"),e.pushKey(t)},transformReply:void 0}});var gG=o(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.default={parseCommand(e,t){e.push("PERSIST"),e.pushKey(t)},transformReply:void 0}});var yG=o(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("PEXPIRE"),e.pushKey(t),e.push(r.toString()),s&&e.push(s)},transformReply:void 0}});var AG=o(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});var jSe=y();Rp.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("PEXPIREAT"),e.pushKey(t),e.push((0,jSe.transformPXAT)(r)),s&&e.push(s)},transformReply:void 0}});var SG=o(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PEXPIRETIME"),e.pushKey(t)},transformReply:void 0}});var RG=o(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("PFADD"),e.pushKey(t),r&&e.pushVariadic(r)},transformReply:void 0}});var CG=o(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PFCOUNT"),e.pushKeys(t)},transformReply:void 0}});var DG=o(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.default={parseCommand(e,t,r){e.push("PFMERGE"),e.pushKey(t),r&&e.pushKeys(r)},transformReply:void 0}});var TG=o(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PING"),t&&e.push(t)},transformReply:void 0}});var PG=o(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.default={parseCommand(e,t,r,s){e.push("PSETEX"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var qG=o(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PTTL"),e.pushKey(t)},transformReply:void 0}});var OG=o(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,IS_FORWARD_COMMAND:!0,parseCommand(e,t,r){e.push("PUBLISH",t,r)},transformReply:void 0}});var MG=o(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","CHANNELS"),t&&e.push(t)},transformReply:void 0}});var IG=o(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("PUBSUB","NUMPAT")},transformReply:void 0}});var NG=o(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","NUMSUB"),t&&e.pushVariadic(t)},transformReply(e){let t=Object.create(null),r=0;for(;r<e.length;)t[e[r++].toString()]=e[r++].toString();return t}}});var LG=o(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","SHARDNUMSUB"),t&&e.pushVariadic(t)},transformReply(e){let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t}}});var FG=o(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","SHARDCHANNELS"),t&&e.push(t)},transformReply:void 0}});var vG=o(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("RANDOMKEY")},transformReply:void 0}});var bG=o(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("READONLY")},transformReply:void 0}});var xG=o(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("RENAME"),e.pushKeys([t,r])},transformReply:void 0}});var wG=o(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("RENAMENX"),e.pushKeys([t,r])},transformReply:void 0}});var BG=o(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("REPLICAOF",t,r.toString())},transformReply:void 0}});var GG=o(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("RESTORE-ASKING")},transformReply:void 0}});var UG=o(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("RESTORE"),e.pushKey(t),e.push(r.toString(),s),n?.REPLACE&&e.push("REPLACE"),n?.ABSTTL&&e.push("ABSTTL"),n?.IDLETIME&&e.push("IDLETIME",n.IDLETIME.toString()),n?.FREQ&&e.push("FREQ",n.FREQ.toString())},transformReply:void 0}});var YG=o(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ROLE")},transformReply(e){switch(e[0]){case"master":{let[t,r,s]=e;return{role:t,replicationOffest:r,replicas:s.map(n=>{let[u,i,a]=n;return{host:u,port:Number(i),replicationOffest:Number(a)}})}}case"slave":{let[t,r,s,n,u]=e;return{role:t,master:{host:r,port:s},state:n,dataReceived:u}}case"sentinel":{let[t,r]=e;return{role:t,masterNames:r}}}}}});var HG=o(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.default={parseCommand(e,t,r){e.push("RPOP"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var KG=o(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.default={parseCommand(e,t){e.push("RPOP"),e.pushKey(t)},transformReply:void 0}});var zG=o(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default={parseCommand(e,t,r){e.push("RPOPLPUSH"),e.pushKeys([t,r])},transformReply:void 0}});var jG=o(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.default={parseCommand(e,t,r){e.push("RPUSH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var VG=o(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.default={parseCommand(e,t,r){e.push("RPUSHX"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var XG=o(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default={parseCommand(e,t,r){e.push("SADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var WG=o($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCARD"),e.pushKey(t)},transformReply:void 0}});var ZG=o(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","DEBUG",t)},transformReply:void 0}});var $G=o(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","EXISTS"),e.pushVariadic(t)},transformReply:void 0}});var JG=o(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","FLUSH"),t&&e.push(t)},transformReply:void 0}});var QG=o(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("SCRIPT","KILL")},transformReply:void 0}});var kG=o(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","LOAD",t)},transformReply:void 0}});var eU=o(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SDIFF"),e.pushKeys(t)},transformReply:void 0}});var tU=o(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.default={parseCommand(e,t,r){e.push("SDIFFSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}});var rU=o(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});nE.default={parseCommand(e,t,r,s){e.push("SET"),e.pushKey(t),e.push(typeof r=="number"?r.toString():r),s?.expiration?typeof s.expiration=="string"?e.push(s.expiration):s.expiration.type==="KEEPTTL"?e.push("KEEPTTL"):e.push(s.expiration.type,s.expiration.value.toString()):s?.EX!==void 0?e.push("EX",s.EX.toString()):s?.PX!==void 0?e.push("PX",s.PX.toString()):s?.EXAT!==void 0?e.push("EXAT",s.EXAT.toString()):s?.PXAT!==void 0?e.push("PXAT",s.PXAT.toString()):s?.KEEPTTL&&e.push("KEEPTTL"),s?.condition?e.push(s.condition):s?.NX?e.push("NX"):s?.XX&&e.push("XX"),s?.GET&&e.push("GET")},transformReply:void 0}});var sU=o(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("SETBIT"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var nU=o(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.default={parseCommand(e,t,r,s){e.push("SETEX"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var uU=o(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.default={parseCommand(e,t,r){e.push("SETNX"),e.pushKey(t),e.push(r)},transformReply:void 0}});var iU=o(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.default={parseCommand(e,t,r,s){e.push("SETRANGE"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var oU=o(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SINTER"),e.pushKeys(t)},transformReply:void 0}});var aU=o(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});lE.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SINTERCARD"),e.pushKeysLength(t),typeof r=="number"?e.push("LIMIT",r.toString()):r?.LIMIT!==void 0&&e.push("LIMIT",r.LIMIT.toString())},transformReply:void 0}});var dU=o(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SINTERSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}});var lU=o(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SISMEMBER"),e.pushKey(t),e.push(r)},transformReply:void 0}});var cU=o(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SMEMBERS"),e.pushKey(t)},transformReply:{2:void 0,3:void 0}}});var hU=o(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SMISMEMBER"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var fU=o(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("SMOVE"),e.pushKeys([t,r]),e.push(s)},transformReply:void 0}});var Su=o(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.parseSortArguments=void 0;function _U(e,t,r){if(e.pushKey(t),r?.BY&&e.push("BY",r.BY),r?.LIMIT&&e.push("LIMIT",r.LIMIT.offset.toString(),r.LIMIT.count.toString()),r?.GET)if(Array.isArray(r.GET))for(let s of r.GET)e.push("GET",s);else e.push("GET",r.GET);r?.DIRECTION&&e.push(r.DIRECTION),r?.ALPHA&&e.push("ALPHA")}Es.parseSortArguments=_U;Es.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SORT"),_U(e,t,r)},transformReply:void 0}});var pU=o(tt=>{"use strict";var VSe=tt&&tt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),XSe=tt&&tt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WSe=tt&&tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VSe(t,e,r);return XSe(t,e),t};Object.defineProperty(tt,"__esModule",{value:!0});var mU=WSe(Su());tt.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("SORT_RO"),(0,mU.parseSortArguments)(...e)},transformReply:mU.default.transformReply}});var EU=o(gs=>{"use strict";var ZSe=gs&&gs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});var $Se=ZSe(Su());gs.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){$Se.default.parseCommand(e,t,s),e.push("STORE",r)},transformReply:void 0}});var gU=o(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SPOP"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}});var yU=o(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});EE.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("SPOP"),e.pushKey(t)},transformReply:void 0}});var AU=o(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SPUBLISH"),e.pushKey(t),e.push(r)},transformReply:void 0}});var AE=o(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("SRANDMEMBER"),e.pushKey(t)},transformReply:void 0}});var RU=o(ys=>{"use strict";var JSe=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ys,"__esModule",{value:!0});var SU=JSe(AE());ys.default={IS_READ_ONLY:SU.default.IS_READ_ONLY,parseCommand(e,t,r){SU.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}});var CU=o(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});SE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SREM"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var DU=o(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});var QSe=os();RE.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("SSCAN"),e.pushKey(t),(0,QSe.parseScanArguments)(e,r,s)},transformReply([e,t]){return{cursor:e,members:t}}}});var TU=o(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("STRLEN"),e.pushKey(t)},transformReply:void 0}});var PU=o(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SUNION"),e.pushKeys(t)},transformReply:void 0}});var qU=o(TE=>{"use strict";Object.defineProperty(TE,"__esModule",{value:!0});TE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SUNIONSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}});var OU=o(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});PE.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SWAPDB",t.toString(),r.toString())},transformReply:void 0}});var MU=o(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});qE.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("TIME")},transformReply:void 0}});var IU=o(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("TOUCH"),e.pushKeys(t)},transformReply:void 0}});var NU=o(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TTL"),e.pushKey(t)},transformReply:void 0}});var LU=o(IE=>{"use strict";Object.defineProperty(IE,"__esModule",{value:!0});IE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("TYPE"),e.pushKey(t)},transformReply:void 0}});var FU=o(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});NE.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("UNLINK"),e.pushKeys(t)},transformReply:void 0}});var vU=o(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("WAIT",t.toString(),r.toString())},transformReply:void 0}});var bU=o(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});FE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("XACK"),e.pushKey(t),e.push(r),e.pushVariadic(s)},transformReply:void 0}});var xU=o(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});vE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("XACKDEL"),e.pushKey(t),e.push(r),n&&e.push(n),e.push("IDS"),e.pushVariadicWithLength(s)},transformReply:void 0}});var bE=o(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.parseXAddArguments=void 0;function wU(e,t,r,s,n,u){t.push("XADD"),t.pushKey(r),e&&t.push(e),u?.TRIM&&(u.TRIM.strategy&&t.push(u.TRIM.strategy),u.TRIM.strategyModifier&&t.push(u.TRIM.strategyModifier),t.push(u.TRIM.threshold.toString()),u.TRIM.limit&&t.push("LIMIT",u.TRIM.limit.toString()),u.TRIM.policy&&t.push(u.TRIM.policy)),t.push(s);for(let[i,a]of Object.entries(n))t.push(i,a)}As.parseXAddArguments=wU;As.default={IS_READ_ONLY:!1,parseCommand(...e){return wU(void 0,...e)},transformReply:void 0}});var BU=o(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var kSe=bE();xE.default={IS_READ_ONLY:!1,parseCommand(...e){return(0,kSe.parseXAddArguments)("NOMKSTREAM",...e)},transformReply:void 0}});var BE=o(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});var eRe=y();wE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u,i){e.push("XAUTOCLAIM"),e.pushKey(t),e.push(r,s,n.toString(),u),i?.COUNT&&e.push("COUNT",i.COUNT.toString())},transformReply(e,t,r){return{nextId:e[0],messages:e[1].map(eRe.transformStreamMessageNullReply.bind(void 0,r)),deletedMessages:e[2]}}}});var UU=o(Ss=>{"use strict";var tRe=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});var GU=tRe(BE());Ss.default={IS_READ_ONLY:GU.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];GU.default.parseCommand(...e),t.push("JUSTID")},transformReply(e){return{nextId:e[0],messages:e[1],deletedMessages:e[2]}}}});var UE=o(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});var rRe=y();GE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u,i){e.push("XCLAIM"),e.pushKey(t),e.push(r,s,n.toString()),e.pushVariadic(u),i?.IDLE!==void 0&&e.push("IDLE",i.IDLE.toString()),i?.TIME!==void 0&&e.push("TIME",(i.TIME instanceof Date?i.TIME.getTime():i.TIME).toString()),i?.RETRYCOUNT!==void 0&&e.push("RETRYCOUNT",i.RETRYCOUNT.toString()),i?.FORCE&&e.push("FORCE"),i?.LASTID!==void 0&&e.push("LASTID",i.LASTID)},transformReply(e,t,r){return e.map(rRe.transformStreamMessageNullReply.bind(void 0,r))}}});var HU=o(Rs=>{"use strict";var sRe=Rs&&Rs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rs,"__esModule",{value:!0});var YU=sRe(UE());Rs.default={IS_READ_ONLY:YU.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];YU.default.parseCommand(...e),t.push("JUSTID")},transformReply:void 0}});var KU=o(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});YE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("XDEL"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var zU=o(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});HE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("XDELEX"),e.pushKey(t),s&&e.push(s),e.push("IDS"),e.pushVariadicWithLength(r)},transformReply:void 0}});var jU=o(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("XGROUP","CREATE"),e.pushKey(t),e.push(r,s),n?.MKSTREAM&&e.push("MKSTREAM"),n?.ENTRIESREAD&&e.push("ENTRIESREAD",n.ENTRIESREAD.toString())},transformReply:void 0}});var VU=o(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});zE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("XGROUP","CREATECONSUMER"),e.pushKey(t),e.push(r,s)},transformReply:void 0}});var XU=o(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("XGROUP","DELCONSUMER"),e.pushKey(t),e.push(r,s)},transformReply:void 0}});var WU=o(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});VE.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("XGROUP","DESTROY"),e.pushKey(t),e.push(r)},transformReply:void 0}});var ZU=o(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("XGROUP","SETID"),e.pushKey(t),e.push(r,s),n?.ENTRIESREAD&&e.push("ENTRIESREAD",n.ENTRIESREAD.toString())},transformReply:void 0}});var $U=o(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});WE.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XINFO","CONSUMERS"),e.pushKey(t),e.push(r)},transformReply:{2:e=>e.map(t=>{let r=t;return{name:r[1],pending:r[3],idle:r[5],inactive:r[7]}}),3:void 0}}});var JU=o(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("XINFO","GROUPS"),e.pushKey(t)},transformReply:{2:e=>e.map(t=>{let r=t;return{name:r[1],consumers:r[3],pending:r[5],"last-delivered-id":r[7],"entries-read":r[9],lag:r[11]}}),3:void 0}}});var kU=o($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0});var QU=y();$E.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("XINFO","STREAM"),e.pushKey(t)},transformReply:{2(e){let t={};for(let r=0;r<e.length;r+=2)switch(e[r]){case"first-entry":case"last-entry":t[e[r]]=Ut(e[r+1]);break;default:t[e[r]]=e[r+1];break}return t},3(e){return e instanceof Map?(e.set("first-entry",Ut(e.get("first-entry"))),e.set("last-entry",Ut(e.get("last-entry")))):e instanceof Array?(e[17]=Ut(e[17]),e[19]=Ut(e[19])):(e["first-entry"]=Ut(e["first-entry"]),e["last-entry"]=Ut(e["last-entry"])),e}}};function Ut(e){if((0,QU.isNullReply)(e))return e;let[t,r]=e;return{id:t,message:(0,QU.transformTuplesReply)(r)}}});var eY=o(JE=>{"use strict";Object.defineProperty(JE,"__esModule",{value:!0});JE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("XLEN"),e.pushKey(t)},transformReply:void 0}});var tY=o(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n,u,i){e.push("XPENDING"),e.pushKey(t),e.push(r),i?.IDLE!==void 0&&e.push("IDLE",i.IDLE.toString()),e.push(s,n,u.toString()),i?.consumer&&e.push(i.consumer)},transformReply(e){return e.map(t=>{let r=t;return{id:r[0],consumer:r[1],millisecondsSinceLastDelivery:r[2],deliveriesCounter:r[3]}})}}});var rY=o(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XPENDING"),e.pushKey(t),e.push(r)},transformReply(e){let t=e[3];return{pending:e[0],firstId:e[1],lastId:e[2],consumers:t===null?null:t.map(r=>{let[s,n]=r;return{name:s,deliveriesCounter:Number(n)}})}}}});var eg=o(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.xRangeArguments=void 0;var nRe=y();function sY(e,t,r){let s=[e,t];return r?.COUNT&&s.push("COUNT",r.COUNT.toString()),s}Cs.xRangeArguments=sY;Cs.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,...r){e.push("XRANGE"),e.pushKey(t),e.pushVariadic(sY(r[0],r[1],r[2]))},transformReply(e,t,r){return e.map(nRe.transformStreamMessageReply.bind(void 0,r))}}});var tg=o(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.pushXReadStreams=void 0;var uRe=y();function nY(e,t){if(e.push("STREAMS"),Array.isArray(t)){for(let r=0;r<t.length;r++)e.pushKey(t[r].key);for(let r=0;r<t.length;r++)e.push(t[r].id)}else e.pushKey(t.key),e.push(t.id)}Ds.pushXReadStreams=nY;Ds.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XREAD"),r?.COUNT&&e.push("COUNT",r.COUNT.toString()),r?.BLOCK!==void 0&&e.push("BLOCK",r.BLOCK.toString()),nY(e,t)},transformReply:{2:uRe.transformStreamsMessagesReplyResp2,3:void 0},unstableResp3:!0}});var uY=o(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var iRe=tg(),oRe=y();rg.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("XREADGROUP","GROUP",t,r),n?.COUNT!==void 0&&e.push("COUNT",n.COUNT.toString()),n?.BLOCK!==void 0&&e.push("BLOCK",n.BLOCK.toString()),n?.NOACK&&e.push("NOACK"),(0,iRe.pushXReadStreams)(e,s)},transformReply:{2:oRe.transformStreamsMessagesReplyResp2,3:void 0},unstableResp3:!0}});var iY=o(rt=>{"use strict";var aRe=rt&&rt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),dRe=rt&&rt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lRe=rt&&rt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&aRe(t,e,r);return dRe(t,e),t};Object.defineProperty(rt,"__esModule",{value:!0});var Ru=lRe(eg());rt.default={CACHEABLE:Ru.default.CACHEABLE,IS_READ_ONLY:Ru.default.IS_READ_ONLY,parseCommand(e,t,...r){e.push("XREVRANGE"),e.pushKey(t),e.pushVariadic((0,Ru.xRangeArguments)(r[0],r[1],r[2]))},transformReply:Ru.default.transformReply}});var oY=o(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("XSETID"),e.pushKey(t),e.push(r),s?.ENTRIESADDED&&e.push("ENTRIESADDED",s.ENTRIESADDED.toString()),s?.MAXDELETEDID&&e.push("MAXDELETEDID",s.MAXDELETEDID)},transformReply:void 0}});var aY=o(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("XTRIM"),e.pushKey(t),e.push(r),n?.strategyModifier&&e.push(n.strategyModifier),e.push(s.toString()),n?.LIMIT&&e.push("LIMIT",n.LIMIT.toString()),n?.policy&&e.push(n.policy)},transformReply:void 0}});var ug=o(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.pushMembers=void 0;var lY=y();Ts.default={parseCommand(e,t,r,s){e.push("ZADD"),e.pushKey(t),s?.condition?e.push(s.condition):s?.NX?e.push("NX"):s?.XX&&e.push("XX"),s?.comparison?e.push(s.comparison):s?.LT?e.push("LT"):s?.GT&&e.push("GT"),s?.CH&&e.push("CH"),cY(e,r)},transformReply:lY.transformDoubleReply};function cY(e,t){if(Array.isArray(t))for(let r of t)dY(e,r);else dY(e,t)}Ts.pushMembers=cY;function dY(e,t){e.push((0,lY.transformDoubleArgument)(t.score),t.value)}});var hY=o(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var cRe=ug(),hRe=y();ig.default={parseCommand(e,t,r,s){e.push("ZADD"),e.pushKey(t),s?.condition&&e.push(s.condition),s?.comparison&&e.push(s.comparison),s?.CH&&e.push("CH"),e.push("INCR"),(0,cRe.pushMembers)(e,r)},transformReply:hRe.transformNullableDoubleReply}});var fY=o(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZCARD"),e.pushKey(t)},transformReply:void 0}});var mY=o(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});var _Y=y();ag.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("ZCOUNT"),e.pushKey(t),e.push((0,_Y.transformStringDoubleArgument)(r),(0,_Y.transformStringDoubleArgument)(s))},transformReply:void 0}});var lg=o(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZDIFF"),e.pushKeysLength(t)},transformReply:void 0}});var EY=o(Ps=>{"use strict";var fRe=Ps&&Ps.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ps,"__esModule",{value:!0});var _Re=y(),pY=fRe(lg());Ps.default={IS_READ_ONLY:pY.default.IS_READ_ONLY,parseCommand(e,t){pY.default.parseCommand(e,t),e.push("WITHSCORES")},transformReply:_Re.transformSortedSetReply}});var gY=o(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZDIFFSTORE"),e.pushKey(t),e.pushKeysLength(r)},transformReply:void 0}});var AY=o(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});var yY=y();hg.default={parseCommand(e,t,r,s){e.push("ZINCRBY"),e.pushKey(t),e.push((0,yY.transformDoubleArgument)(r),s)},transformReply:yY.transformDoubleReply}});var Cu=o(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.parseZInterArguments=void 0;var mRe=y();function SY(e,t,r){(0,mRe.parseZKeysArguments)(e,t),r?.AGGREGATE&&e.push("AGGREGATE",r.AGGREGATE)}qs.parseZInterArguments=SY;qs.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZINTER"),SY(e,t,r)},transformReply:void 0}});var CY=o(Os=>{"use strict";var pRe=Os&&Os.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Os,"__esModule",{value:!0});var ERe=y(),RY=pRe(Cu());Os.default={IS_READ_ONLY:RY.default.IS_READ_ONLY,parseCommand(...e){RY.default.parseCommand(...e),e[0].push("WITHSCORES")},transformReply:ERe.transformSortedSetReply}});var DY=o(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZINTERCARD"),e.pushKeysLength(t),typeof r=="number"?e.push("LIMIT",r.toString()):r?.LIMIT&&e.push("LIMIT",r.LIMIT.toString())},transformReply:void 0}});var TY=o(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});var gRe=Cu();_g.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZINTERSTORE"),e.pushKey(t),(0,gRe.parseZInterArguments)(e,r,s)},transformReply:void 0}});var PY=o(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("ZLEXCOUNT"),e.pushKey(t),e.push(r),e.push(s)},transformReply:void 0}});var qY=o(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});var yRe=y();pg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZMSCORE"),e.pushKey(t),e.pushVariadic(r)},transformReply:{2:(e,t,r)=>e.map((0,yRe.createTransformNullableDoubleReplyResp2Func)(t,r)),3:void 0}}});var OY=o(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});var ARe=y();Eg.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZPOPMAX"),e.pushKey(t),e.push(r.toString())},transformReply:ARe.transformSortedSetReply}});var yg=o(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});var SRe=y();gg.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("ZPOPMAX"),e.pushKey(t)},transformReply:{2:(e,t,r)=>e.length===0?null:{value:e[0],score:SRe.transformDoubleReply[2](e[1],t,r)},3:e=>e.length===0?null:{value:e[0],score:e[1]}}}});var MY=o(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});var RRe=y();Ag.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZPOPMIN"),e.pushKey(t),e.push(r.toString())},transformReply:RRe.transformSortedSetReply}});var IY=o(Ms=>{"use strict";var CRe=Ms&&Ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});var DRe=CRe(yg());Ms.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("ZPOPMIN"),e.pushKey(t)},transformReply:DRe.default.transformReply}});var Rg=o(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZRANDMEMBER"),e.pushKey(t)},transformReply:void 0}});var Cg=o(Is=>{"use strict";var TRe=Is&&Is.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Is,"__esModule",{value:!0});var NY=TRe(Rg());Is.default={IS_READ_ONLY:NY.default.IS_READ_ONLY,parseCommand(e,t,r){NY.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}});var FY=o(Ns=>{"use strict";var PRe=Ns&&Ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0});var qRe=y(),LY=PRe(Cg());Ns.default={IS_READ_ONLY:LY.default.IS_READ_ONLY,parseCommand(e,t,r){LY.default.parseCommand(e,t,r),e.push("WITHSCORES")},transformReply:qRe.transformSortedSetReply}});var Dg=o(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.zRangeArgument=void 0;var vY=y();function bY(e,t,r){let s=[(0,vY.transformStringDoubleArgument)(e),(0,vY.transformStringDoubleArgument)(t)];switch(r?.BY){case"SCORE":s.push("BYSCORE");break;case"LEX":s.push("BYLEX");break}return r?.REV&&s.push("REV"),r?.LIMIT&&s.push("LIMIT",r.LIMIT.offset.toString(),r.LIMIT.count.toString()),s}Ls.zRangeArgument=bY;Ls.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("ZRANGE"),e.pushKey(t),e.pushVariadic(bY(r,s,n))},transformReply:void 0}});var xY=o(Fs=>{"use strict";var ORe=Fs&&Fs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fs,"__esModule",{value:!0});var MRe=y(),Tg=ORe(Dg());Fs.default={CACHEABLE:Tg.default.CACHEABLE,IS_READ_ONLY:Tg.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];Tg.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:MRe.transformSortedSetReply}});var BY=o(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var wY=y();Pg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("ZRANGEBYLEX"),e.pushKey(t),e.push((0,wY.transformStringDoubleArgument)(r),(0,wY.transformStringDoubleArgument)(s)),n?.LIMIT&&e.push("LIMIT",n.LIMIT.offset.toString(),n.LIMIT.count.toString())},transformReply:void 0}});var Og=o(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});var GY=y();qg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("ZRANGEBYSCORE"),e.pushKey(t),e.push((0,GY.transformStringDoubleArgument)(r),(0,GY.transformStringDoubleArgument)(s)),n?.LIMIT&&e.push("LIMIT",n.LIMIT.offset.toString(),n.LIMIT.count.toString())},transformReply:void 0}});var UY=o(vs=>{"use strict";var IRe=vs&&vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});var NRe=y(),Mg=IRe(Og());vs.default={CACHEABLE:Mg.default.CACHEABLE,IS_READ_ONLY:Mg.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];Mg.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:NRe.transformSortedSetReply}});var HY=o(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var YY=y();Ig.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u){switch(e.push("ZRANGESTORE"),e.pushKey(t),e.pushKey(r),e.push((0,YY.transformStringDoubleArgument)(s),(0,YY.transformStringDoubleArgument)(n)),u?.BY){case"SCORE":e.push("BYSCORE");break;case"LEX":e.push("BYLEX");break}u?.REV&&e.push("REV"),u?.LIMIT&&e.push("LIMIT",u.LIMIT.offset.toString(),u.LIMIT.count.toString())},transformReply:void 0}});var zY=o(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});var KY=y();Ng.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZREMRANGEBYSCORE"),e.pushKey(t),e.push((0,KY.transformStringDoubleArgument)(r),(0,KY.transformStringDoubleArgument)(s))},transformReply:void 0}});var Fg=o(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZRANK"),e.pushKey(t),e.push(r)},transformReply:void 0}});var jY=o(bs=>{"use strict";var LRe=bs&&bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});var vg=LRe(Fg());bs.default={CACHEABLE:vg.default.CACHEABLE,IS_READ_ONLY:vg.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];vg.default.parseCommand(...e),t.push("WITHSCORE")},transformReply:{2:e=>e===null?null:{rank:e[0],score:Number(e[1])},3:e=>e===null?null:{rank:e[0],score:e[1]}}}});var VY=o(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZREM"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var WY=o(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});var XY=y();xg.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZREMRANGEBYLEX"),e.pushKey(t),e.push((0,XY.transformStringDoubleArgument)(r),(0,XY.transformStringDoubleArgument)(s))},transformReply:void 0}});var ZY=o(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZREMRANGEBYRANK"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var $Y=o(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZREVRANK"),e.pushKey(t),e.push(r)},transformReply:void 0}});var JY=o(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var FRe=os(),vRe=y();Gg.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("ZSCAN"),e.pushKey(t),(0,FRe.parseScanArguments)(e,r,s)},transformReply([e,t]){return{cursor:e,members:vRe.transformSortedSetReply[2](t)}}}});var QY=o(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});var bRe=y();Ug.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZSCORE"),e.pushKey(t),e.push(r)},transformReply:bRe.transformNullableDoubleReply}});var Hg=o(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var xRe=y();Yg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZUNION"),(0,xRe.parseZKeysArguments)(e,t),r?.AGGREGATE&&e.push("AGGREGATE",r.AGGREGATE)},transformReply:void 0}});var e3=o(xs=>{"use strict";var wRe=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xs,"__esModule",{value:!0});var BRe=y(),kY=wRe(Hg());xs.default={IS_READ_ONLY:kY.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];kY.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:BRe.transformSortedSetReply}});var t3=o(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});var GRe=y();Kg.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("ZUNIONSTORE"),e.pushKey(t),(0,GRe.parseZKeysArguments)(e,r),s?.AGGREGATE&&e.push("AGGREGATE",s.AGGREGATE)},transformReply:void 0}});var s3=o(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var r3=y();zg.default={parseCommand(e,t,r,s,n){e.push("VADD"),e.pushKey(t),n?.REDUCE!==void 0&&e.push("REDUCE",n.REDUCE.toString()),e.push("VALUES",r.length.toString());for(let u of r)e.push((0,r3.transformDoubleArgument)(u));e.push(s),n?.CAS&&e.push("CAS"),n?.QUANT&&e.push(n.QUANT),n?.EF!==void 0&&e.push("EF",n.EF.toString()),n?.SETATTR&&e.push("SETATTR",JSON.stringify(n.SETATTR)),n?.M!==void 0&&e.push("M",n.M.toString())},transformReply:r3.transformBooleanReply}});var n3=o(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VCARD"),e.pushKey(t)},transformReply:void 0}});var u3=o(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VDIM"),e.pushKey(t)},transformReply:void 0}});var Wg=o(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});var URe=y();Xg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VEMB"),e.pushKey(t),e.push(r)},transformReply:URe.transformDoubleArrayReply}});var o3=o(ws=>{"use strict";var YRe=ws&&ws.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});var i3=y(),HRe=YRe(Wg()),KRe={2:e=>({quantization:e[0],raw:e[1],l2Norm:i3.transformDoubleReply[2](e[2]),...e[3]!==void 0&&{quantizationRange:i3.transformDoubleReply[2](e[3])}}),3:e=>({quantization:e[0],raw:e[1],l2Norm:e[2],quantizationRange:e[3]})};ws.default={IS_READ_ONLY:!0,parseCommand(e,t,r){HRe.default.parseCommand(e,t,r),e.push("RAW")},transformReply:KRe}});var a3=o(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});var zRe=y();Zg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VGETATTR"),e.pushKey(t),e.push(r)},transformReply:zRe.transformRedisJsonNullReply}});var d3=o($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VINFO"),e.pushKey(t)},transformReply:{2:e=>{let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t},3:void 0}}});var Qg=o(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VLINKS"),e.pushKey(t),e.push(r)},transformReply:void 0}});var c3=o(Bs=>{"use strict";var jRe=Bs&&Bs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bs,"__esModule",{value:!0});var VRe=y(),l3=jRe(Qg());function XRe(e){let t=[];for(let r of e){let s=Object.create(null);for(let n=0;n<r.length;n+=2){let u=r[n],i=VRe.transformDoubleReply[2](r[n+1]);s[u.toString()]=i}t.push(s)}return t}Bs.default={IS_READ_ONLY:l3.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];l3.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:{2:XRe,3:void 0}}});var h3=o(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VRANDMEMBER"),e.pushKey(t),r!==void 0&&e.push(r.toString())},transformReply:void 0}});var f3=o(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});var WRe=y();ey.default={parseCommand(e,t,r){e.push("VREM"),e.pushKey(t),e.push(r)},transformReply:WRe.transformBooleanReply}});var _3=o(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});var ZRe=y();ty.default={parseCommand(e,t,r,s){e.push("VSETATTR"),e.pushKey(t),e.push(r),typeof s=="object"&&s!==null?e.push(JSON.stringify(s)):e.push(s)},transformReply:ZRe.transformBooleanReply}});var sy=o(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});var $Re=y();ry.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){if(e.push("VSIM"),e.pushKey(t),Array.isArray(r)){e.push("VALUES",r.length.toString());for(let n of r)e.push((0,$Re.transformDoubleArgument)(n))}else e.push("ELE",r);s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString()),s?.EPSILON!==void 0&&e.push("EPSILON",s.EPSILON.toString()),s?.EF!==void 0&&e.push("EF",s.EF.toString()),s?.FILTER&&e.push("FILTER",s.FILTER),s?.["FILTER-EF"]!==void 0&&e.push("FILTER-EF",s["FILTER-EF"].toString()),s?.TRUTH&&e.push("TRUTH"),s?.NOTHREAD&&e.push("NOTHREAD")},transformReply:void 0}});var p3=o(Gs=>{"use strict";var JRe=Gs&&Gs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gs,"__esModule",{value:!0});var QRe=y(),m3=JRe(sy());Gs.default={IS_READ_ONLY:m3.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];m3.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:{2:e=>{let t=e,r={};for(let s=0;s<t.length;s+=2)r[t[s].toString()]=QRe.transformDoubleReply[2](t[s+1]);return r},3:void 0}}});var st=o(Us=>{"use strict";var c=Us&&Us.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Us,"__esModule",{value:!0});var E3=c(nb()),g3=c(ub()),y3=c(ib()),A3=c(ob()),S3=c(ab()),R3=c(db()),C3=c(lb()),D3=c(gb()),T3=c(sf()),P3=c(yb()),q3=c(Ab()),O3=c(Sb()),M3=c(Rb()),I3=c(Cb()),N3=c(lf()),L3=c(Db()),F3=c(Tb()),v3=c(Pb()),b3=c(qb()),x3=c(Ob()),w3=c(Mb()),B3=c(Ib()),G3=c(Nb()),U3=c(Lb()),Y3=c(bb()),H3=c(Rf()),K3=c(xb()),z3=c(wb()),j3=c(Yb()),V3=c(Pf()),X3=c(Kb()),W3=c(zb()),Z3=c(jb()),$3=c(Vb()),J3=c(Xb()),Q3=c(Lf()),k3=c(Zb()),eH=c($b()),tH=c(Jb()),rH=c(Qb()),sH=c(kb()),nH=c(ex()),uH=c(tx()),iH=c(rx()),oH=c(sx()),aH=c(nx()),dH=c(ux()),lH=c(ix()),cH=c(ox()),hH=c(ax()),fH=c(dx()),_H=c(lx()),mH=c(cx()),pH=c(hx()),EH=c(fx()),gH=c(_x()),yH=c(mx()),AH=c(px()),SH=c(Ex()),RH=c(gx()),CH=c(yx()),DH=c(Ax()),TH=c(Sx()),PH=c(Rx()),qH=c(Cx()),OH=c(Dx()),MH=c(Tx()),IH=c(Px()),NH=c(qx()),LH=c(Mx()),FH=c(Ix()),vH=c(Nx()),bH=c(Lx()),xH=c(Fx()),wH=c(vx()),BH=c(bx()),GH=c(xx()),UH=c(wx()),YH=c(Bx()),HH=c(Gx()),KH=c(Ux()),zH=c(Yx()),jH=c(Hx()),VH=c(Kx()),XH=c(zx()),WH=c(jx()),ZH=c(Vx()),$H=c(Zx()),JH=c(vt()),QH=c(Jx()),kH=c(kx()),e2=c(tw()),t2=c(rw()),r2=c(sw()),s2=c(nw()),n2=c(cw()),u2=c(fw()),i2=c(mw()),o2=c(yu()),a2=c(Qr()),d2=c(Aw()),l2=c(Rw()),c2=c(Dw()),h2=c(M_()),f2=c(rs()),_2=c(kr()),m2=c(xt()),p2=c(Tw()),E2=c(Pw()),g2=c(qw()),y2=c(Ow()),A2=c(Mw()),S2=c(Iw()),R2=c(Nw()),C2=c(Lw()),D2=c(Fw()),T2=c(vw()),P2=c(bw()),q2=c(H_()),O2=c(xw()),M2=c(Bw()),I2=c(Uw()),N2=c(Yw()),L2=c(Hw()),F2=c(Kw()),v2=c(zw()),b2=c(jw()),x2=c(Z_()),w2=c(Vw()),B2=c(Xw()),G2=c(Ww()),U2=c(Zw()),Y2=c(rm()),H2=c($w()),K2=c(Jw()),z2=c(Qw()),j2=c(kw()),V2=c(eB()),X2=c(tB()),W2=c(rB()),Z2=c(sB()),$2=c(nB()),J2=c(uB()),Q2=c(iB()),k2=c(oB()),eK=c(aB()),tK=c(dB()),rK=c(lB()),sK=c(cB()),nK=c(hB()),uK=c(fB()),iK=c(_B()),oK=c(mB()),aK=c(pB()),dK=c(Cm()),lK=c(gB()),cK=c(AB()),hK=c(RB()),fK=c(CB()),_K=c(DB()),mK=c(TB()),pK=c(PB()),EK=c(qB()),gK=c(OB()),yK=c(MB()),AK=c(IB()),SK=c(NB()),RK=c(LB()),CK=c(FB()),DK=c(vB()),TK=c(bB()),PK=c(xB()),qK=c(GB()),OK=c(Um()),MK=c(YB()),IK=c(Au()),NK=c(HB()),LK=c(KB()),FK=c(zB()),vK=c(jB()),bK=c(Af()),kRe=c(VB()),xK=c(XB()),wK=c(Xm()),BK=c(WB()),GK=c(Zm()),UK=c(ZB()),YK=c($B()),HK=c(JB()),KK=c(QB()),zK=c(kB()),jK=c(eG()),VK=c(tG()),XK=c(rG()),WK=c(sG()),ZK=c(nG()),$K=c(uG()),JK=c(iG()),QK=c(oG()),kK=c(aG()),ez=c(dG()),tz=c(lG()),rz=c(cG()),sz=c(_p()),nz=c(fG()),uz=c(_G()),iz=c(mG()),oz=c(pG()),az=c(EG()),dz=c(gG()),lz=c(yG()),cz=c(AG()),hz=c(SG()),fz=c(RG()),_z=c(CG()),mz=c(DG()),pz=c(TG()),Ez=c(PG()),gz=c(qG()),yz=c(OG()),Az=c(MG()),Sz=c(IG()),Rz=c(NG()),Cz=c(LG()),Dz=c(FG()),Tz=c(vG()),Pz=c(bG()),qz=c(xG()),Oz=c(wG()),Mz=c(BG()),Iz=c(GG()),Nz=c(UG()),Lz=c(YG()),Fz=c(HG()),vz=c(KG()),bz=c(zG()),xz=c(jG()),wz=c(VG()),Bz=c(XG()),Gz=c(os()),Uz=c(WG()),Yz=c(ZG()),Hz=c($G()),Kz=c(JG()),zz=c(QG()),jz=c(kG()),Vz=c(eU()),Xz=c(tU()),Wz=c(rU()),Zz=c(sU()),$z=c(nU()),Jz=c(uU()),Qz=c(iU()),kz=c(oU()),e8=c(aU()),t8=c(dU()),r8=c(lU()),s8=c(cU()),n8=c(hU()),u8=c(fU()),i8=c(pU()),o8=c(EU()),a8=c(Su()),d8=c(gU()),l8=c(yU()),c8=c(AU()),h8=c(RU()),f8=c(AE()),_8=c(CU()),m8=c(DU()),p8=c(TU()),E8=c(PU()),g8=c(qU()),y8=c(OU()),A8=c(MU()),S8=c(IU()),R8=c(NU()),C8=c(LU()),D8=c(FU()),T8=c(vU()),P8=c(bU()),q8=c(xU()),O8=c(BU()),M8=c(bE()),I8=c(UU()),N8=c(BE()),L8=c(HU()),F8=c(UE()),v8=c(KU()),b8=c(zU()),x8=c(jU()),w8=c(VU()),B8=c(XU()),G8=c(WU()),U8=c(ZU()),Y8=c($U()),H8=c(JU()),K8=c(kU()),z8=c(eY()),j8=c(tY()),V8=c(rY()),X8=c(eg()),W8=c(tg()),Z8=c(uY()),$8=c(iY()),J8=c(oY()),Q8=c(aY()),k8=c(hY()),ej=c(ug()),tj=c(fY()),rj=c(mY()),sj=c(EY()),nj=c(lg()),uj=c(gY()),ij=c(AY()),oj=c(CY()),aj=c(Cu()),dj=c(DY()),lj=c(TY()),cj=c(PY()),hj=c(Df()),fj=c(qY()),_j=c(OY()),mj=c(yg()),pj=c(MY()),Ej=c(IY()),gj=c(FY()),yj=c(Cg()),Aj=c(Rg()),Sj=c(xY()),Rj=c(Dg()),Cj=c(BY()),Dj=c(UY()),Tj=c(Og()),Pj=c(HY()),qj=c(zY()),Oj=c(jY()),Mj=c(Fg()),Ij=c(VY()),Nj=c(WY()),Lj=c(ZY()),Fj=c($Y()),vj=c(JY()),bj=c(QY()),xj=c(e3()),wj=c(Hg()),Bj=c(t3()),Gj=c(s3()),Uj=c(n3()),Yj=c(u3()),Hj=c(Wg()),Kj=c(o3()),zj=c(a3()),jj=c(d3()),Vj=c(Qg()),Xj=c(c3()),Wj=c(h3()),Zj=c(f3()),$j=c(_3()),Jj=c(sy()),Qj=c(p3());Us.default={ACL_CAT:E3.default,aclCat:E3.default,ACL_DELUSER:g3.default,aclDelUser:g3.default,ACL_DRYRUN:y3.default,aclDryRun:y3.default,ACL_GENPASS:A3.default,aclGenPass:A3.default,ACL_GETUSER:S3.default,aclGetUser:S3.default,ACL_LIST:R3.default,aclList:R3.default,ACL_LOAD:C3.default,aclLoad:C3.default,ACL_LOG_RESET:D3.default,aclLogReset:D3.default,ACL_LOG:T3.default,aclLog:T3.default,ACL_SAVE:P3.default,aclSave:P3.default,ACL_SETUSER:q3.default,aclSetUser:q3.default,ACL_USERS:O3.default,aclUsers:O3.default,ACL_WHOAMI:M3.default,aclWhoAmI:M3.default,APPEND:I3.default,append:I3.default,ASKING:N3.default,asking:N3.default,AUTH:L3.default,auth:L3.default,BGREWRITEAOF:F3.default,bgRewriteAof:F3.default,BGSAVE:v3.default,bgSave:v3.default,BITCOUNT:b3.default,bitCount:b3.default,BITFIELD_RO:x3.default,bitFieldRo:x3.default,BITFIELD:w3.default,bitField:w3.default,BITOP:B3.default,bitOp:B3.default,BITPOS:G3.default,bitPos:G3.default,BLMOVE:U3.default,blMove:U3.default,BLMPOP:Y3.default,blmPop:Y3.default,BLPOP:H3.default,blPop:H3.default,BRPOP:K3.default,brPop:K3.default,BRPOPLPUSH:z3.default,brPopLPush:z3.default,BZMPOP:j3.default,bzmPop:j3.default,BZPOPMAX:V3.default,bzPopMax:V3.default,BZPOPMIN:X3.default,bzPopMin:X3.default,CLIENT_CACHING:W3.default,clientCaching:W3.default,CLIENT_GETNAME:Z3.default,clientGetName:Z3.default,CLIENT_GETREDIR:$3.default,clientGetRedir:$3.default,CLIENT_ID:J3.default,clientId:J3.default,CLIENT_INFO:Q3.default,clientInfo:Q3.default,CLIENT_KILL:k3.default,clientKill:k3.default,CLIENT_LIST:eH.default,clientList:eH.default,"CLIENT_NO-EVICT":tH.default,clientNoEvict:tH.default,"CLIENT_NO-TOUCH":rH.default,clientNoTouch:rH.default,CLIENT_PAUSE:sH.default,clientPause:sH.default,CLIENT_SETNAME:nH.default,clientSetName:nH.default,CLIENT_TRACKING:uH.default,clientTracking:uH.default,CLIENT_TRACKINGINFO:iH.default,clientTrackingInfo:iH.default,CLIENT_UNPAUSE:oH.default,clientUnpause:oH.default,CLUSTER_ADDSLOTS:aH.default,clusterAddSlots:aH.default,CLUSTER_ADDSLOTSRANGE:dH.default,clusterAddSlotsRange:dH.default,CLUSTER_BUMPEPOCH:lH.default,clusterBumpEpoch:lH.default,"CLUSTER_COUNT-FAILURE-REPORTS":cH.default,clusterCountFailureReports:cH.default,CLUSTER_COUNTKEYSINSLOT:hH.default,clusterCountKeysInSlot:hH.default,CLUSTER_DELSLOTS:fH.default,clusterDelSlots:fH.default,CLUSTER_DELSLOTSRANGE:_H.default,clusterDelSlotsRange:_H.default,CLUSTER_FAILOVER:mH.default,clusterFailover:mH.default,CLUSTER_FLUSHSLOTS:pH.default,clusterFlushSlots:pH.default,CLUSTER_FORGET:EH.default,clusterForget:EH.default,CLUSTER_GETKEYSINSLOT:gH.default,clusterGetKeysInSlot:gH.default,CLUSTER_INFO:yH.default,clusterInfo:yH.default,CLUSTER_KEYSLOT:AH.default,clusterKeySlot:AH.default,CLUSTER_LINKS:SH.default,clusterLinks:SH.default,CLUSTER_MEET:RH.default,clusterMeet:RH.default,CLUSTER_MYID:CH.default,clusterMyId:CH.default,CLUSTER_MYSHARDID:DH.default,clusterMyShardId:DH.default,CLUSTER_NODES:TH.default,clusterNodes:TH.default,CLUSTER_REPLICAS:PH.default,clusterReplicas:PH.default,CLUSTER_REPLICATE:qH.default,clusterReplicate:qH.default,CLUSTER_RESET:OH.default,clusterReset:OH.default,CLUSTER_SAVECONFIG:MH.default,clusterSaveConfig:MH.default,"CLUSTER_SET-CONFIG-EPOCH":IH.default,clusterSetConfigEpoch:IH.default,CLUSTER_SETSLOT:NH.default,clusterSetSlot:NH.default,CLUSTER_SLOTS:LH.default,clusterSlots:LH.default,COMMAND_COUNT:FH.default,commandCount:FH.default,COMMAND_GETKEYS:vH.default,commandGetKeys:vH.default,COMMAND_GETKEYSANDFLAGS:bH.default,commandGetKeysAndFlags:bH.default,COMMAND_INFO:xH.default,commandInfo:xH.default,COMMAND_LIST:wH.default,commandList:wH.default,COMMAND:BH.default,command:BH.default,CONFIG_GET:GH.default,configGet:GH.default,CONFIG_RESETASTAT:UH.default,configResetStat:UH.default,CONFIG_REWRITE:YH.default,configRewrite:YH.default,CONFIG_SET:HH.default,configSet:HH.default,COPY:KH.default,copy:KH.default,DBSIZE:zH.default,dbSize:zH.default,DECR:jH.default,decr:jH.default,DECRBY:VH.default,decrBy:VH.default,DEL:XH.default,del:XH.default,DUMP:WH.default,dump:WH.default,ECHO:ZH.default,echo:ZH.default,EVAL_RO:$H.default,evalRo:$H.default,EVAL:JH.default,eval:JH.default,EVALSHA_RO:QH.default,evalShaRo:QH.default,EVALSHA:kH.default,evalSha:kH.default,EXISTS:C2.default,exists:C2.default,EXPIRE:D2.default,expire:D2.default,EXPIREAT:T2.default,expireAt:T2.default,EXPIRETIME:P2.default,expireTime:P2.default,FLUSHALL:q2.default,flushAll:q2.default,FLUSHDB:O2.default,flushDb:O2.default,FCALL:M2.default,fCall:M2.default,FCALL_RO:I2.default,fCallRo:I2.default,FUNCTION_DELETE:N2.default,functionDelete:N2.default,FUNCTION_DUMP:L2.default,functionDump:L2.default,FUNCTION_FLUSH:F2.default,functionFlush:F2.default,FUNCTION_KILL:v2.default,functionKill:v2.default,FUNCTION_LIST_WITHCODE:b2.default,functionListWithCode:b2.default,FUNCTION_LIST:x2.default,functionList:x2.default,FUNCTION_LOAD:w2.default,functionLoad:w2.default,FUNCTION_RESTORE:B2.default,functionRestore:B2.default,FUNCTION_STATS:G2.default,functionStats:G2.default,GEOADD:e2.default,geoAdd:e2.default,GEODIST:t2.default,geoDist:t2.default,GEOHASH:r2.default,geoHash:r2.default,GEOPOS:s2.default,geoPos:s2.default,GEORADIUS_RO_WITH:n2.default,geoRadiusRoWith:n2.default,GEORADIUS_RO:u2.default,geoRadiusRo:u2.default,GEORADIUS_STORE:i2.default,geoRadiusStore:i2.default,GEORADIUS_WITH:o2.default,geoRadiusWith:o2.default,GEORADIUS:a2.default,geoRadius:a2.default,GEORADIUSBYMEMBER_RO_WITH:d2.default,geoRadiusByMemberRoWith:d2.default,GEORADIUSBYMEMBER_RO:l2.default,geoRadiusByMemberRo:l2.default,GEORADIUSBYMEMBER_STORE:c2.default,geoRadiusByMemberStore:c2.default,GEORADIUSBYMEMBER_WITH:h2.default,geoRadiusByMemberWith:h2.default,GEORADIUSBYMEMBER:f2.default,geoRadiusByMember:f2.default,GEOSEARCH_WITH:_2.default,geoSearchWith:_2.default,GEOSEARCH:m2.default,geoSearch:m2.default,GEOSEARCHSTORE:p2.default,geoSearchStore:p2.default,GET:E2.default,get:E2.default,GETBIT:g2.default,getBit:g2.default,GETDEL:y2.default,getDel:y2.default,GETEX:A2.default,getEx:A2.default,GETRANGE:S2.default,getRange:S2.default,GETSET:R2.default,getSet:R2.default,HDEL:U2.default,hDel:U2.default,HELLO:Y2.default,hello:Y2.default,HEXISTS:H2.default,hExists:H2.default,HEXPIRE:K2.default,hExpire:K2.default,HEXPIREAT:z2.default,hExpireAt:z2.default,HEXPIRETIME:j2.default,hExpireTime:j2.default,HGET:V2.default,hGet:V2.default,HGETALL:X2.default,hGetAll:X2.default,HGETDEL:W2.default,hGetDel:W2.default,HGETEX:Z2.default,hGetEx:Z2.default,HINCRBY:$2.default,hIncrBy:$2.default,HINCRBYFLOAT:J2.default,hIncrByFloat:J2.default,HKEYS:Q2.default,hKeys:Q2.default,HLEN:k2.default,hLen:k2.default,HMGET:eK.default,hmGet:eK.default,HPERSIST:tK.default,hPersist:tK.default,HPEXPIRE:rK.default,hpExpire:rK.default,HPEXPIREAT:sK.default,hpExpireAt:sK.default,HPEXPIRETIME:nK.default,hpExpireTime:nK.default,HPTTL:uK.default,hpTTL:uK.default,HRANDFIELD_COUNT_WITHVALUES:iK.default,hRandFieldCountWithValues:iK.default,HRANDFIELD_COUNT:oK.default,hRandFieldCount:oK.default,HRANDFIELD:aK.default,hRandField:aK.default,HSCAN:dK.default,hScan:dK.default,HSCAN_NOVALUES:lK.default,hScanNoValues:lK.default,HSET:cK.default,hSet:cK.default,HSETEX:hK.default,hSetEx:hK.default,HSETNX:fK.default,hSetNX:fK.default,HSTRLEN:_K.default,hStrLen:_K.default,HTTL:mK.default,hTTL:mK.default,HVALS:pK.default,hVals:pK.default,INCR:EK.default,incr:EK.default,INCRBY:gK.default,incrBy:gK.default,INCRBYFLOAT:yK.default,incrByFloat:yK.default,INFO:AK.default,info:AK.default,KEYS:SK.default,keys:SK.default,LASTSAVE:RK.default,lastSave:RK.default,LATENCY_DOCTOR:CK.default,latencyDoctor:CK.default,LATENCY_GRAPH:DK.default,latencyGraph:DK.default,LATENCY_HISTORY:TK.default,latencyHistory:TK.default,LATENCY_LATEST:PK.default,latencyLatest:PK.default,LCS_IDX_WITHMATCHLEN:qK.default,lcsIdxWithMatchLen:qK.default,LCS_IDX:OK.default,lcsIdx:OK.default,LCS_LEN:MK.default,lcsLen:MK.default,LCS:IK.default,lcs:IK.default,LINDEX:NK.default,lIndex:NK.default,LINSERT:LK.default,lInsert:LK.default,LLEN:FK.default,lLen:FK.default,LMOVE:vK.default,lMove:vK.default,LMPOP:bK.default,lmPop:bK.default,LOLWUT:kRe.default,LPOP_COUNT:xK.default,lPopCount:xK.default,LPOP:wK.default,lPop:wK.default,LPOS_COUNT:BK.default,lPosCount:BK.default,LPOS:GK.default,lPos:GK.default,LPUSH:UK.default,lPush:UK.default,LPUSHX:YK.default,lPushX:YK.default,LRANGE:HK.default,lRange:HK.default,LREM:KK.default,lRem:KK.default,LSET:zK.default,lSet:zK.default,LTRIM:jK.default,lTrim:jK.default,MEMORY_DOCTOR:VK.default,memoryDoctor:VK.default,"MEMORY_MALLOC-STATS":XK.default,memoryMallocStats:XK.default,MEMORY_PURGE:WK.default,memoryPurge:WK.default,MEMORY_STATS:ZK.default,memoryStats:ZK.default,MEMORY_USAGE:$K.default,memoryUsage:$K.default,MGET:JK.default,mGet:JK.default,MIGRATE:QK.default,migrate:QK.default,MODULE_LIST:kK.default,moduleList:kK.default,MODULE_LOAD:ez.default,moduleLoad:ez.default,MODULE_UNLOAD:tz.default,moduleUnload:tz.default,MOVE:rz.default,move:rz.default,MSET:sz.default,mSet:sz.default,MSETNX:nz.default,mSetNX:nz.default,OBJECT_ENCODING:uz.default,objectEncoding:uz.default,OBJECT_FREQ:iz.default,objectFreq:iz.default,OBJECT_IDLETIME:oz.default,objectIdleTime:oz.default,OBJECT_REFCOUNT:az.default,objectRefCount:az.default,PERSIST:dz.default,persist:dz.default,PEXPIRE:lz.default,pExpire:lz.default,PEXPIREAT:cz.default,pExpireAt:cz.default,PEXPIRETIME:hz.default,pExpireTime:hz.default,PFADD:fz.default,pfAdd:fz.default,PFCOUNT:_z.default,pfCount:_z.default,PFMERGE:mz.default,pfMerge:mz.default,PING:pz.default,ping:pz.default,PSETEX:Ez.default,pSetEx:Ez.default,PTTL:gz.default,pTTL:gz.default,PUBLISH:yz.default,publish:yz.default,PUBSUB_CHANNELS:Az.default,pubSubChannels:Az.default,PUBSUB_NUMPAT:Sz.default,pubSubNumPat:Sz.default,PUBSUB_NUMSUB:Rz.default,pubSubNumSub:Rz.default,PUBSUB_SHARDNUMSUB:Cz.default,pubSubShardNumSub:Cz.default,PUBSUB_SHARDCHANNELS:Dz.default,pubSubShardChannels:Dz.default,RANDOMKEY:Tz.default,randomKey:Tz.default,READONLY:Pz.default,readonly:Pz.default,RENAME:qz.default,rename:qz.default,RENAMENX:Oz.default,renameNX:Oz.default,REPLICAOF:Mz.default,replicaOf:Mz.default,"RESTORE-ASKING":Iz.default,restoreAsking:Iz.default,RESTORE:Nz.default,restore:Nz.default,RPOP_COUNT:Fz.default,rPopCount:Fz.default,ROLE:Lz.default,role:Lz.default,RPOP:vz.default,rPop:vz.default,RPOPLPUSH:bz.default,rPopLPush:bz.default,RPUSH:xz.default,rPush:xz.default,RPUSHX:wz.default,rPushX:wz.default,SADD:Bz.default,sAdd:Bz.default,SCAN:Gz.default,scan:Gz.default,SCARD:Uz.default,sCard:Uz.default,SCRIPT_DEBUG:Yz.default,scriptDebug:Yz.default,SCRIPT_EXISTS:Hz.default,scriptExists:Hz.default,SCRIPT_FLUSH:Kz.default,scriptFlush:Kz.default,SCRIPT_KILL:zz.default,scriptKill:zz.default,SCRIPT_LOAD:jz.default,scriptLoad:jz.default,SDIFF:Vz.default,sDiff:Vz.default,SDIFFSTORE:Xz.default,sDiffStore:Xz.default,SET:Wz.default,set:Wz.default,SETBIT:Zz.default,setBit:Zz.default,SETEX:$z.default,setEx:$z.default,SETNX:Jz.default,setNX:Jz.default,SETRANGE:Qz.default,setRange:Qz.default,SINTER:kz.default,sInter:kz.default,SINTERCARD:e8.default,sInterCard:e8.default,SINTERSTORE:t8.default,sInterStore:t8.default,SISMEMBER:r8.default,sIsMember:r8.default,SMEMBERS:s8.default,sMembers:s8.default,SMISMEMBER:n8.default,smIsMember:n8.default,SMOVE:u8.default,sMove:u8.default,SORT_RO:i8.default,sortRo:i8.default,SORT_STORE:o8.default,sortStore:o8.default,SORT:a8.default,sort:a8.default,SPOP_COUNT:d8.default,sPopCount:d8.default,SPOP:l8.default,sPop:l8.default,SPUBLISH:c8.default,sPublish:c8.default,SRANDMEMBER_COUNT:h8.default,sRandMemberCount:h8.default,SRANDMEMBER:f8.default,sRandMember:f8.default,SREM:_8.default,sRem:_8.default,SSCAN:m8.default,sScan:m8.default,STRLEN:p8.default,strLen:p8.default,SUNION:E8.default,sUnion:E8.default,SUNIONSTORE:g8.default,sUnionStore:g8.default,SWAPDB:y8.default,swapDb:y8.default,TIME:A8.default,time:A8.default,TOUCH:S8.default,touch:S8.default,TTL:R8.default,ttl:R8.default,TYPE:C8.default,type:C8.default,UNLINK:D8.default,unlink:D8.default,WAIT:T8.default,wait:T8.default,XACK:P8.default,xAck:P8.default,XACKDEL:q8.default,xAckDel:q8.default,XADD_NOMKSTREAM:O8.default,xAddNoMkStream:O8.default,XADD:M8.default,xAdd:M8.default,XAUTOCLAIM_JUSTID:I8.default,xAutoClaimJustId:I8.default,XAUTOCLAIM:N8.default,xAutoClaim:N8.default,XCLAIM_JUSTID:L8.default,xClaimJustId:L8.default,XCLAIM:F8.default,xClaim:F8.default,XDEL:v8.default,xDel:v8.default,XDELEX:b8.default,xDelEx:b8.default,XGROUP_CREATE:x8.default,xGroupCreate:x8.default,XGROUP_CREATECONSUMER:w8.default,xGroupCreateConsumer:w8.default,XGROUP_DELCONSUMER:B8.default,xGroupDelConsumer:B8.default,XGROUP_DESTROY:G8.default,xGroupDestroy:G8.default,XGROUP_SETID:U8.default,xGroupSetId:U8.default,XINFO_CONSUMERS:Y8.default,xInfoConsumers:Y8.default,XINFO_GROUPS:H8.default,xInfoGroups:H8.default,XINFO_STREAM:K8.default,xInfoStream:K8.default,XLEN:z8.default,xLen:z8.default,XPENDING_RANGE:j8.default,xPendingRange:j8.default,XPENDING:V8.default,xPending:V8.default,XRANGE:X8.default,xRange:X8.default,XREAD:W8.default,xRead:W8.default,XREADGROUP:Z8.default,xReadGroup:Z8.default,XREVRANGE:$8.default,xRevRange:$8.default,XSETID:J8.default,xSetId:J8.default,XTRIM:Q8.default,xTrim:Q8.default,ZADD_INCR:k8.default,zAddIncr:k8.default,ZADD:ej.default,zAdd:ej.default,ZCARD:tj.default,zCard:tj.default,ZCOUNT:rj.default,zCount:rj.default,ZDIFF_WITHSCORES:sj.default,zDiffWithScores:sj.default,ZDIFF:nj.default,zDiff:nj.default,ZDIFFSTORE:uj.default,zDiffStore:uj.default,ZINCRBY:ij.default,zIncrBy:ij.default,ZINTER_WITHSCORES:oj.default,zInterWithScores:oj.default,ZINTER:aj.default,zInter:aj.default,ZINTERCARD:dj.default,zInterCard:dj.default,ZINTERSTORE:lj.default,zInterStore:lj.default,ZLEXCOUNT:cj.default,zLexCount:cj.default,ZMPOP:hj.default,zmPop:hj.default,ZMSCORE:fj.default,zmScore:fj.default,ZPOPMAX_COUNT:_j.default,zPopMaxCount:_j.default,ZPOPMAX:mj.default,zPopMax:mj.default,ZPOPMIN_COUNT:pj.default,zPopMinCount:pj.default,ZPOPMIN:Ej.default,zPopMin:Ej.default,ZRANDMEMBER_COUNT_WITHSCORES:gj.default,zRandMemberCountWithScores:gj.default,ZRANDMEMBER_COUNT:yj.default,zRandMemberCount:yj.default,ZRANDMEMBER:Aj.default,zRandMember:Aj.default,ZRANGE_WITHSCORES:Sj.default,zRangeWithScores:Sj.default,ZRANGE:Rj.default,zRange:Rj.default,ZRANGEBYLEX:Cj.default,zRangeByLex:Cj.default,ZRANGEBYSCORE_WITHSCORES:Dj.default,zRangeByScoreWithScores:Dj.default,ZRANGEBYSCORE:Tj.default,zRangeByScore:Tj.default,ZRANGESTORE:Pj.default,zRangeStore:Pj.default,ZRANK_WITHSCORE:Oj.default,zRankWithScore:Oj.default,ZRANK:Mj.default,zRank:Mj.default,ZREM:Ij.default,zRem:Ij.default,ZREMRANGEBYLEX:Nj.default,zRemRangeByLex:Nj.default,ZREMRANGEBYRANK:Lj.default,zRemRangeByRank:Lj.default,ZREMRANGEBYSCORE:qj.default,zRemRangeByScore:qj.default,ZREVRANK:Fj.default,zRevRank:Fj.default,ZSCAN:vj.default,zScan:vj.default,ZSCORE:bj.default,zScore:bj.default,ZUNION_WITHSCORES:xj.default,zUnionWithScores:xj.default,ZUNION:wj.default,zUnion:wj.default,ZUNIONSTORE:Bj.default,zUnionStore:Bj.default,VADD:Gj.default,vAdd:Gj.default,VCARD:Uj.default,vCard:Uj.default,VDIM:Yj.default,vDim:Yj.default,VEMB:Hj.default,vEmb:Hj.default,VEMB_RAW:Kj.default,vEmbRaw:Kj.default,VGETATTR:zj.default,vGetAttr:zj.default,VINFO:jj.default,vInfo:jj.default,VLINKS:Vj.default,vLinks:Vj.default,VLINKS_WITHSCORES:Xj.default,vLinksWithScores:Xj.default,VRANDMEMBER:Wj.default,vRandMember:Wj.default,VREM:Zj.default,vRem:Zj.default,VSETATTR:$j.default,vSetAttr:$j.default,VSIM:Jj.default,vSim:Jj.default,VSIM_WITHSCORES:Qj.default,vSimWithScores:Qj.default}});var r6=o(Ys=>{"use strict";var t6=Ys&&Ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ys,"__esModule",{value:!0});var kj=require("node:events"),e6=t6(require("node:net")),eCe=t6(require("node:tls")),Ct=Ne(),tCe=require("node:timers/promises"),ny=class extends kj.EventEmitter{#e;#t;#r;#s;#n;#a;#u=!1;get isOpen(){return this.#u}#i=!1;get isReady(){return this.#i}#l=!1;#p=0;get socketEpoch(){return this.#p}constructor(t,r){super(),this.#e=t,this.#t=r?.connectTimeout??5e3,this.#r=this.#f(r),this.#s=this.#d(r),this.#n=r?.socketTimeout}#f(t){let r=t?.reconnectStrategy;return r===!1||typeof r=="number"?()=>r:r?(s,n)=>{try{let u=r(s,n);if(u!==!1&&!(u instanceof Error)&&typeof u!="number")throw new TypeError(`Reconnect strategy should return \`false | Error | number\`, got ${u} instead`);return u}catch(u){return this.emit("error",u),this.defaultReconnectStrategy(s,u)}}:this.defaultReconnectStrategy}#d(t){if(t?.tls===!0){let s={...t,port:t?.port??6379,noDelay:t?.noDelay??!0,keepAlive:t?.keepAlive??!0,keepAliveInitialDelay:t?.keepAliveInitialDelay??5e3,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create(){return eCe.default.connect(s)},event:"secureConnect"}}if(t&&"path"in t){let s={...t,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create(){return e6.default.createConnection(s)},event:"connect"}}let r={...t,port:t?.port??6379,noDelay:t?.noDelay??!0,keepAlive:t?.keepAlive??!0,keepAliveInitialDelay:t?.keepAliveInitialDelay??5e3,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create(){return e6.default.createConnection(r)},event:"connect"}}#o(t,r){let s=this.#r(t,r);return s===!1?(this.#u=!1,this.emit("error",r),r):s instanceof Error?(this.#u=!1,this.emit("error",r),new Ct.ReconnectStrategyError(s,r)):s}async connect(){if(this.#u)throw new Error("Socket already opened");return this.#u=!0,this.#h()}async#h(){let t=0;do try{this.#a=await this.#E(),this.emit("connect");try{await this.#e()}catch(r){throw this.#a.destroy(),this.#a=void 0,r}this.#i=!0,this.#p++,this.emit("ready")}catch(r){let s=this.#o(t++,r);if(typeof s!="number")throw s;this.emit("error",r),await(0,tCe.setTimeout)(s),this.emit("reconnecting")}while(this.#u&&!this.#i)}async#E(){let t=this.#s.create(),r;return this.#t!==void 0&&(r=()=>t.destroy(new Ct.ConnectionTimeoutError),t.once("timeout",r),t.setTimeout(this.#t)),this.#l&&t.unref(),await(0,kj.once)(t,this.#s.event),r&&t.removeListener("timeout",r),this.#n&&(t.once("timeout",()=>{t.destroy(new Ct.SocketTimeoutError(this.#n))}),t.setTimeout(this.#n)),t.once("error",s=>this.#m(s)).once("close",s=>{s||!this.#u||this.#a!==t||this.#m(new Ct.SocketClosedUnexpectedlyError)}).on("drain",()=>this.emit("drain")).on("data",s=>this.emit("data",s)),t}#m(t){let r=this.#i;this.#i=!1,this.emit("error",t),!(!r||!this.#u||typeof this.#o(0,t)!="number")&&(this.emit("reconnecting"),this.#h().catch(()=>{}))}write(t){if(this.#a){this.#a.cork();for(let r of t){for(let s of r)this.#a.write(s);if(this.#a.writableNeedDrain)break}this.#a.uncork()}}async quit(t){if(!this.#u)throw new Ct.ClientClosedError;this.#u=!1;let r=await t();return this.destroySocket(),r}close(){if(!this.#u)throw new Ct.ClientClosedError;this.#u=!1}destroy(){if(!this.#u)throw new Ct.ClientClosedError;this.#u=!1,this.destroySocket()}destroySocket(){this.#i=!1,this.#a&&(this.#a.destroy(),this.#a=void 0),this.emit("end")}ref(){this.#l=!1,this.#a?.ref()}unref(){this.#l=!0,this.#a?.unref()}defaultReconnectStrategy(t,r){if(r instanceof Ct.SocketTimeoutError)return!1;let s=Math.floor(Math.random()*200);return Math.min(Math.pow(2,t)*50,2e3)+s}};Ys.default=ny});var iy=o(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.Token=void 0;var uy=class{value;expiresAtMs;receivedAtMs;constructor(t,r,s){this.value=t,this.expiresAtMs=r,this.receivedAtMs=s}getTtlMs(t){return this.expiresAtMs<t?0:this.expiresAtMs-t}};Du.Token=uy});var s6=o(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.TokenManager=or.IDPError=void 0;var rCe=iy(),Tu=class extends Error{message;isRetryable;constructor(t,r){super(t),this.message=t,this.isRetryable=r,this.name="IDPError"}};or.IDPError=Tu;var oy=class{identityProvider;config;currentToken=null;refreshTimeout=null;listener=null;retryAttempt=0;constructor(t,r){if(this.identityProvider=t,this.config=r,this.config.expirationRefreshRatio>1)throw new Error("expirationRefreshRatio must be less than or equal to 1");if(this.config.expirationRefreshRatio<0)throw new Error("expirationRefreshRatio must be greater or equal to 0")}start(t,r=0){return this.listener&&this.stop(),this.listener=t,this.retryAttempt=0,this.scheduleNextRefresh(r),{dispose:()=>this.stop()}}calculateRetryDelay(){if(!this.config.retry)return 0;let{initialDelayMs:t,maxDelayMs:r,backoffMultiplier:s,jitterPercentage:n}=this.config.retry,u=t*Math.pow(s,this.retryAttempt-1);if(u=Math.min(u,r),n){let a=u*(n/100),d=Math.random()*a-a/2;u+=d}return Math.max(0,Math.floor(u))}shouldRetry(t){if(!this.config.retry)return!1;let{maxAttempts:r,isRetryable:s}=this.config.retry;return this.retryAttempt>=r?!1:s?s(t,this.retryAttempt):!1}isRunning(){return this.listener!==null}async refresh(){if(!this.listener)throw new Error("TokenManager is not running, but refresh was called");try{await this.identityProvider.requestToken().then(this.handleNewToken),this.retryAttempt=0}catch(t){if(this.shouldRetry(t)){this.retryAttempt++;let r=this.calculateRetryDelay();this.notifyError(`Token refresh failed (attempt ${this.retryAttempt}), retrying in ${r}ms: ${t}`,!0),this.scheduleNextRefresh(r)}else this.notifyError(t,!1),this.stop()}}handleNewToken=async({token:t,ttlMs:r})=>{if(!this.listener)throw new Error("TokenManager is not running, but a new token was received");let s=this.wrapAndSetCurrentToken(t,r);this.listener.onNext(s),this.scheduleNextRefresh(this.calculateRefreshTime(s))};wrapAndSetCurrentToken(t,r){let s=Date.now(),n=new rCe.Token(t,s+r,s);return this.currentToken=n,n}scheduleNextRefresh(t){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),t===0?this.refresh():this.refreshTimeout=setTimeout(()=>this.refresh(),t)}calculateRefreshTime(t,r=Date.now()){let s=t.getTtlMs(r);return Math.floor(s*this.config.expirationRefreshRatio)}stop(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),this.listener=null,this.currentToken=null,this.retryAttempt=0}getCurrentToken(){return this.currentToken}notifyError(t,r){let s=t instanceof Error?t.message:String(t);if(!this.listener)throw new Error(`TokenManager is not running but received an error: ${s}`);this.listener.onError(new Tu(s,r))}};or.TokenManager=oy});var n6=o(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.UnableToObtainNewCredentialsError=ar.CredentialsError=void 0;var ay=class extends Error{constructor(t){super(`Re-authentication with latest credentials failed: ${t}`),this.name="CredentialsError"}};ar.CredentialsError=ay;var dy=class extends Error{constructor(t){super(`Unable to obtain new credentials : ${t}`),this.name="UnableToObtainNewCredentialsError"}};ar.UnableToObtainNewCredentialsError=dy});var o6=o(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Token=Ce.CredentialsError=Ce.UnableToObtainNewCredentialsError=Ce.IDPError=Ce.TokenManager=void 0;var u6=s6();Object.defineProperty(Ce,"TokenManager",{enumerable:!0,get:function(){return u6.TokenManager}});Object.defineProperty(Ce,"IDPError",{enumerable:!0,get:function(){return u6.IDPError}});var i6=n6();Object.defineProperty(Ce,"UnableToObtainNewCredentialsError",{enumerable:!0,get:function(){return i6.UnableToObtainNewCredentialsError}});Object.defineProperty(Ce,"CredentialsError",{enumerable:!0,get:function(){return i6.CredentialsError}});var sCe=iy();Object.defineProperty(Ce,"Token",{enumerable:!0,get:function(){return sCe.Token}})});var Pu=o(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.SinglyLinkedList=dr.DoublyLinkedList=void 0;var ly=class{#e=0;get length(){return this.#e}#t;get head(){return this.#t}#r;get tail(){return this.#r}push(t){return++this.#e,this.#r===void 0?this.#r=this.#t={previous:this.#t,next:void 0,value:t}:this.#r=this.#r.next={previous:this.#r,next:void 0,value:t}}unshift(t){return++this.#e,this.#t===void 0?this.#t=this.#r={previous:void 0,next:void 0,value:t}:this.#t=this.#t.previous={previous:void 0,next:this.#t,value:t}}add(t,r=!1){return r?this.unshift(t):this.push(t)}shift(){if(this.#t===void 0)return;--this.#e;let t=this.#t;return t.next?(t.next.previous=t.previous,this.#t=t.next,t.next=void 0):this.#t=this.#r=void 0,t.value}remove(t){--this.#e,this.#r===t&&(this.#r=t.previous),this.#t===t?this.#t=t.next:(t.previous.next=t.next,t.previous=void 0),t.next=void 0}reset(){this.#e=0,this.#t=this.#r=void 0}*[Symbol.iterator](){let t=this.#t;for(;t!==void 0;)yield t.value,t=t.next}};dr.DoublyLinkedList=ly;var cy=class{#e=0;get length(){return this.#e}#t;get head(){return this.#t}#r;get tail(){return this.#r}push(t){++this.#e;let r={value:t,next:void 0,removed:!1};return this.#t===void 0?this.#t=this.#r=r:this.#r.next=this.#r=r}remove(t,r){if(t.removed)throw new Error("node already removed");--this.#e,this.#t===t?this.#r===t?this.#t=this.#r=void 0:this.#t=t.next:this.#r===t?(this.#r=r,r.next=void 0):r.next=t.next,t.removed=!0}shift(){if(this.#t===void 0)return;let t=this.#t;return--this.#e===0?this.#t=this.#r=void 0:this.#t=t.next,t.removed=!0,t.value}reset(){this.#e=0,this.#t=this.#r=void 0}*[Symbol.iterator](){let t=this.#t;for(;t!==void 0;)yield t.value,t=t.next}};dr.SinglyLinkedList=cy});var a6=o(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});var Hs=`\r
`;function nCe(e){let t=[],r="*"+e.length+Hs;for(let s=0;s<e.length;s++){let n=e[s];if(typeof n=="string")r+="$"+Buffer.byteLength(n)+Hs+n+Hs;else if(n instanceof Buffer)t.push(r+"$"+n.length.toString()+Hs,n),r=Hs;else throw new TypeError(`"arguments[${s}]" must be of type "string | Buffer", got ${typeof n} instead.`)}return t.push(r),t}hy.default=nCe});var Ks=o(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.PubSub=Z.PUBSUB_TYPE=void 0;Z.PUBSUB_TYPE={CHANNELS:"CHANNELS",PATTERNS:"PATTERNS",SHARDED:"SHARDED"};var de={[Z.PUBSUB_TYPE.CHANNELS]:{subscribe:Buffer.from("subscribe"),unsubscribe:Buffer.from("unsubscribe"),message:Buffer.from("message")},[Z.PUBSUB_TYPE.PATTERNS]:{subscribe:Buffer.from("psubscribe"),unsubscribe:Buffer.from("punsubscribe"),message:Buffer.from("pmessage")},[Z.PUBSUB_TYPE.SHARDED]:{subscribe:Buffer.from("ssubscribe"),unsubscribe:Buffer.from("sunsubscribe"),message:Buffer.from("smessage")}},fy=class e{static isStatusReply(t){return de[Z.PUBSUB_TYPE.CHANNELS].subscribe.equals(t[0])||de[Z.PUBSUB_TYPE.CHANNELS].unsubscribe.equals(t[0])||de[Z.PUBSUB_TYPE.PATTERNS].subscribe.equals(t[0])||de[Z.PUBSUB_TYPE.PATTERNS].unsubscribe.equals(t[0])||de[Z.PUBSUB_TYPE.SHARDED].subscribe.equals(t[0])}static isShardedUnsubscribe(t){return de[Z.PUBSUB_TYPE.SHARDED].unsubscribe.equals(t[0])}static#e(t){return Array.isArray(t)?t:[t]}static#t(t,r){return r?t.buffers:t.strings}#r=0;#s=!1;get isActive(){return this.#s}listeners={[Z.PUBSUB_TYPE.CHANNELS]:new Map,[Z.PUBSUB_TYPE.PATTERNS]:new Map,[Z.PUBSUB_TYPE.SHARDED]:new Map};subscribe(t,r,s,n){let u=[de[t].subscribe],i=e.#e(r);for(let a of i){let d=this.listeners[t].get(a);(!d||d.unsubscribing)&&u.push(a)}if(u.length===1){for(let a of i)e.#t(this.listeners[t].get(a),n).add(s);return}return this.#s=!0,this.#r++,{args:u,channelsCounter:u.length-1,resolve:()=>{this.#r--;for(let a of i){let d=this.listeners[t].get(a);d||(d={unsubscribing:!1,buffers:new Set,strings:new Set},this.listeners[t].set(a,d)),e.#t(d,n).add(s)}},reject:()=>{this.#r--,this.#u()}}}extendChannelListeners(t,r,s){if(this.#n(t,r,s))return this.#s=!0,this.#r++,{args:[de[t].subscribe,r],channelsCounter:1,resolve:()=>this.#r--,reject:()=>{this.#r--,this.#u()}}}#n(t,r,s){let n=this.listeners[t].get(r);if(!n)return this.listeners[t].set(r,s),!0;for(let u of s.buffers)n.buffers.add(u);for(let u of s.strings)n.strings.add(u);return!1}extendTypeListeners(t,r){let s=[de[t].subscribe];for(let[n,u]of r)this.#n(t,n,u)&&s.push(n);if(s.length!==1)return this.#s=!0,this.#r++,{args:s,channelsCounter:s.length-1,resolve:()=>this.#r--,reject:()=>{this.#r--,this.#u()}}}unsubscribe(t,r,s,n){let u=this.listeners[t];if(!r)return this.#a([de[t].unsubscribe],NaN,()=>u.clear());let i=e.#e(r);if(!s)return this.#a([de[t].unsubscribe,...i],i.length,()=>{for(let d of i)u.delete(d)});let a=[de[t].unsubscribe];for(let d of i){let h=u.get(d);if(h){let f,_;if(n?(f=h.buffers,_=h.strings):(f=h.strings,_=h.buffers),(f.has(s)?f.size-1:f.size)!==0||_.size!==0)continue;h.unsubscribing=!0}a.push(d)}if(a.length===1){for(let d of i)e.#t(u.get(d),n).delete(s);return}return this.#a(a,a.length-1,()=>{for(let d of i){let h=u.get(d);h&&((n?h.buffers:h.strings).delete(s),h.buffers.size===0&&h.strings.size===0&&u.delete(d))}})}#a(t,r,s){return{args:t,channelsCounter:r,resolve:()=>{s(),this.#u()},reject:void 0}}#u(){this.#s=this.listeners[Z.PUBSUB_TYPE.CHANNELS].size!==0||this.listeners[Z.PUBSUB_TYPE.PATTERNS].size!==0||this.listeners[Z.PUBSUB_TYPE.SHARDED].size!==0||this.#r!==0}reset(){this.#s=!1,this.#r=0}resubscribe(){let t=[];for(let[r,s]of Object.entries(this.listeners)){if(!s.size)continue;this.#s=!0,this.#r++;let n=()=>this.#r--;t.push({args:[de[r].subscribe,...s.keys()],channelsCounter:s.size,resolve:n,reject:n})}return t}handleMessageReply(t){return de[Z.PUBSUB_TYPE.CHANNELS].message.equals(t[0])?(this.#i(Z.PUBSUB_TYPE.CHANNELS,t[2],t[1]),!0):de[Z.PUBSUB_TYPE.PATTERNS].message.equals(t[0])?(this.#i(Z.PUBSUB_TYPE.PATTERNS,t[3],t[2],t[1]),!0):de[Z.PUBSUB_TYPE.SHARDED].message.equals(t[0])?(this.#i(Z.PUBSUB_TYPE.SHARDED,t[2],t[1]),!0):!1}removeShardedListeners(t){let r=this.listeners[Z.PUBSUB_TYPE.SHARDED].get(t);return this.listeners[Z.PUBSUB_TYPE.SHARDED].delete(t),this.#u(),r}#i(t,r,s,n){let u=(n??s).toString(),i=this.listeners[t].get(u);if(!i)return;for(let h of i.buffers)h(r,s);if(!i.strings.size)return;let a=n?s.toString():u,d=a==="__redis__:invalidate"?r===null?null:r.map(h=>h.toString()):r.toString();for(let h of i.strings)h(d,a)}};Z.PubSub=fy});var l6=o(js=>{"use strict";var uCe=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(js,"__esModule",{value:!0});var d6=Pu(),iCe=uCe(a6()),zs=pu(),_y=Ks(),my=Ne(),oCe=Buffer.from("pong"),aCe=Buffer.from("RESET"),dCe={...zs.PUSH_TYPE_MAPPING,[zs.RESP_TYPES.SIMPLE_STRING]:Buffer},py=class e{#e;#t;#r=new d6.DoublyLinkedList;#s=new d6.SinglyLinkedList;#n;#a;decoder;#u=new _y.PubSub;get isPubSubActive(){return this.#u.isActive}#i;constructor(t,r,s){this.#e=t,this.#t=r,this.#n=s,this.decoder=this.#o()}#l(t){this.#s.shift().resolve(t)}#p(t){this.#s.shift().reject(t)}#f(t){if(this.#u.handleMessageReply(t))return!0;let r=_y.PubSub.isShardedUnsubscribe(t);if(r&&!this.#s.length){let s=t[1].toString();return this.#n(s,this.#u.removeShardedListeners(s)),!0}else if(r||_y.PubSub.isStatusReply(t)){let s=this.#s.head.value;return(Number.isNaN(s.channelsCounter)&&t[2]===0||--s.channelsCounter===0)&&this.#s.shift().resolve(),!0}}#d(){return this.#s.head.value.typeMapping??{}}#o(){return new zs.Decoder({onReply:t=>this.#l(t),onErrorReply:t=>this.#p(t),onPush:t=>{if(!this.#f(t))switch(t[0].toString()){case"invalidate":{if(this.#i)if(t[1]!==null)for(let r of t[1])this.#i(r);else this.#i(null);break}}},getTypeMapping:()=>this.#d()})}setInvalidateCallback(t){this.#i=t}addCommand(t,r){return this.#t&&this.#r.length+this.#s.length>=this.#t?Promise.reject(new Error("The queue is full")):r?.abortSignal?.aborted?Promise.reject(new my.AbortError):new Promise((s,n)=>{let u,i={args:t,chainId:r?.chainId,abort:void 0,timeout:void 0,resolve:s,reject:n,channelsCounter:void 0,typeMapping:r?.typeMapping},a=r?.timeout;if(a){let h=AbortSignal.timeout(a);i.timeout={signal:h,listener:()=>{this.#r.remove(u),i.reject(new my.TimeoutError)}},h.addEventListener("abort",i.timeout.listener,{once:!0})}let d=r?.abortSignal;d&&(i.abort={signal:d,listener:()=>{this.#r.remove(u),i.reject(new my.AbortError)}},d.addEventListener("abort",i.abort.listener,{once:!0})),u=this.#r.add(i,r?.asap)})}#h(t,r=!1,s){return new Promise((n,u)=>{this.#r.add({args:t.args,chainId:s,abort:void 0,timeout:void 0,resolve(){t.resolve(),n()},reject(i){t.reject?.(),u(i)},channelsCounter:t.channelsCounter,typeMapping:zs.PUSH_TYPE_MAPPING},r)})}#E(){this.#e===2&&(this.decoder.onReply=t=>{if(Array.isArray(t)){if(this.#f(t))return;if(oCe.equals(t[0])){let{resolve:r,typeMapping:s}=this.#s.shift(),n=t[1].length===0?t[0]:t[1];r(s?.[zs.RESP_TYPES.SIMPLE_STRING]===Buffer?n:n.toString());return}}return this.#l(t)},this.decoder.getTypeMapping=()=>dCe)}subscribe(t,r,s,n){let u=this.#u.subscribe(t,r,s,n);if(u)return this.#E(),this.#h(u)}#m(){this.decoder.onReply=t=>this.#l(t),this.decoder.getTypeMapping=()=>this.#d()}unsubscribe(t,r,s,n){let u=this.#u.unsubscribe(t,r,s,n);if(u){if(u&&this.#e===2){let{resolve:i}=u;u.resolve=()=>{this.#u.isActive||this.#m(),i()}}return this.#h(u)}}resubscribe(t){let r=this.#u.resubscribe();if(r.length)return this.#E(),Promise.all(r.map(s=>this.#h(s,!0,t)))}extendPubSubChannelListeners(t,r,s){let n=this.#u.extendChannelListeners(t,r,s);if(n)return this.#E(),this.#h(n)}extendPubSubListeners(t,r){let s=this.#u.extendTypeListeners(t,r);if(s)return this.#E(),this.#h(s)}getPubSubListeners(t){return this.#u.listeners[t]}monitor(t,r){return new Promise((s,n)=>{let u=r?.typeMapping??{};this.#r.add({args:["MONITOR"],chainId:r?.chainId,abort:void 0,timeout:void 0,resolve:()=>{this.#g?this.#g=t:this.decoder.onReply=t,this.decoder.getTypeMapping=()=>u,s()},reject:n,channelsCounter:void 0,typeMapping:u},r?.asap)})}resetDecoder(){this.#m(),this.decoder.reset()}#g;async reset(t,r){return new Promise((s,n)=>{this.#g=this.decoder.onReply,this.decoder.onReply=u=>{if(typeof u=="string"&&u==="RESET"||u instanceof Buffer&&aCe.equals(u)){this.#m(),this.#g=void 0,this.#u.reset(),this.#s.shift().resolve(u);return}this.#g(u)},this.#r.push({args:["RESET"],chainId:t,abort:void 0,timeout:void 0,resolve:s,reject:n,channelsCounter:void 0,typeMapping:r})})}isWaitingToWrite(){return this.#r.length>0}*commandsToWrite(){let t=this.#r.shift();for(;t;){let r;try{r=(0,iCe.default)(t.args)}catch(s){t.reject(s),t=this.#r.shift();continue}t.args=void 0,t.abort&&(e.#_(t),t.abort=void 0),t.timeout&&(e.#C(t),t.timeout=void 0),this.#a=t.chainId,t.chainId=void 0,this.#s.push(t),yield r,t=this.#r.shift()}}#A(t){for(let r of this.#s)r.reject(t);this.#s.reset()}static#_(t){t.abort.signal.removeEventListener("abort",t.abort.listener)}static#C(t){t.timeout.signal.removeEventListener("abort",t.timeout.listener)}static#S(t,r){t.abort&&e.#_(t),t.timeout&&e.#C(t),t.reject(r)}flushWaitingForReply(t){if(this.resetDecoder(),this.#u.reset(),this.#A(t),!!this.#a){for(;this.#r.head?.value.chainId===this.#a;)e.#S(this.#r.shift(),t);this.#a=void 0}}flushAll(t){this.resetDecoder(),this.#u.reset(),this.#A(t);for(let r of this.#r)e.#S(r,t);this.#r.reset()}isEmpty(){return this.#r.length===0&&this.#s.length===0}};js.default=py});var be=o(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.scriptArgumentsPrefix=ve.functionArgumentsPrefix=ve.getTransformReply=ve.attachConfig=void 0;function c6(){throw new Error("Some RESP3 results for Redis Query Engine responses may change. Refer to the readme for guidance")}function lCe({BaseClass:e,commands:t,createCommand:r,createModuleCommand:s,createFunctionCommand:n,createScriptCommand:u,config:i}){let a=i?.RESP??2,d=class extends e{};for(let[h,f]of Object.entries(t))i?.RESP==3&&f.unstableResp3&&!i.unstableResp3?d.prototype[h]=c6:d.prototype[h]=r(f,a);if(i?.modules)for(let[h,f]of Object.entries(i.modules)){let _=Object.create(null);for(let[p,E]of Object.entries(f))i.RESP==3&&E.unstableResp3&&!i.unstableResp3?_[p]=c6:_[p]=s(E,a);h6(d.prototype,h,_)}if(i?.functions)for(let[h,f]of Object.entries(i.functions)){let _=Object.create(null);for(let[p,E]of Object.entries(f))_[p]=n(p,E,a);h6(d.prototype,h,_)}if(i?.scripts)for(let[h,f]of Object.entries(i.scripts))d.prototype[h]=u(f,a);return d}ve.attachConfig=lCe;function h6(e,t,r){Object.defineProperty(e,t,{get(){let s=Object.create(r);return s._self=this,Object.defineProperty(this,t,{value:s}),s}})}function cCe(e,t){switch(typeof e.transformReply){case"function":return e.transformReply;case"object":return e.transformReply[t]}}ve.getTransformReply=cCe;function hCe(e,t){let r=[t.IS_READ_ONLY?"FCALL_RO":"FCALL",e];return t.NUMBER_OF_KEYS!==void 0&&r.push(t.NUMBER_OF_KEYS.toString()),r}ve.functionArgumentsPrefix=hCe;function fCe(e){let t=[e.IS_READ_ONLY?"EVALSHA_RO":"EVALSHA",e.SHA1];return e.NUMBER_OF_KEYS!==void 0&&t.push(e.NUMBER_OF_KEYS.toString()),t}ve.scriptArgumentsPrefix=fCe});var Vs=o(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});var f6=Ne(),Ey=class{typeMapping;constructor(t){this.typeMapping=t}queue=[];scriptsInUse=new Set;addCommand(t,r){this.queue.push({args:t,transformReply:r})}addScript(t,r,s){let n=[];n.preserve=r.preserve,this.scriptsInUse.has(t.SHA1)?n.push("EVALSHA",t.SHA1):(this.scriptsInUse.add(t.SHA1),n.push("EVAL",t.SCRIPT)),t.NUMBER_OF_KEYS!==void 0&&n.push(t.NUMBER_OF_KEYS.toString()),n.push(...r),this.addCommand(n,s)}transformReplies(t){let r=[],s=t.map((n,u)=>{if(n instanceof f6.ErrorReply)return r.push(u),n;let{transformReply:i,args:a}=this.queue[u];return i?i(n,a.preserve,this.typeMapping):n});if(r.length)throw new f6.MultiErrorReply(s,r);return s}};gy.default=Ey});var Ay=o(Xs=>{"use strict";var _6=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xs,"__esModule",{value:!0});var _Ce=_6(st()),mCe=_6(Vs()),lr=be(),qu=Le(),yy=class e{static#e(t,r){let s=(0,lr.getTransformReply)(t,r);return function(...n){let u=new qu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this.addCommand(i,s)}}static#t(t,r){let s=(0,lr.getTransformReply)(t,r);return function(...n){let u=new qu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this._self.addCommand(i,s)}}static#r(t,r,s){let n=(0,lr.functionArgumentsPrefix)(t,r),u=(0,lr.getTransformReply)(r,s);return function(...i){let a=new qu.BasicCommandParser;a.push(...n),r.parseCommand(a,...i);let d=a.redisArgs;return d.preserve=a.preserve,this._self.addCommand(d,u)}}static#s(t,r){let s=(0,lr.getTransformReply)(t,r);return function(...n){let u=new qu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this.#l(t,i,s)}}static extend(t){return(0,lr.attachConfig)({BaseClass:e,commands:_Ce.default,createCommand:e.#e,createModuleCommand:e.#t,createFunctionCommand:e.#r,createScriptCommand:e.#s,config:t})}#n;#a;#u;#i;constructor(t,r,s){this.#n=new mCe.default(s),this.#a=t,this.#u=r}SELECT(t,r){return this.#i=t,this.#n.addCommand(["SELECT",t.toString()],r),this}select=this.SELECT;addCommand(t,r){return this.#n.addCommand(t,r),this}#l(t,r,s){return this.#n.addScript(t,r,s),this}async exec(t=!1){return t?this.execAsPipeline():this.#n.transformReplies(await this.#a(this.#n.queue,this.#i))}EXEC=this.exec;execTyped(t=!1){return this.exec(t)}async execAsPipeline(){return this.#n.queue.length===0?[]:this.#n.transformReplies(await this.#u(this.#n.queue,this.#i))}execAsPipelineTyped(){return this.execAsPipeline()}};Xs.default=yy});var E6=o(hr=>{"use strict";var m6=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hr,"__esModule",{value:!0});hr.RedisLegacyClient=void 0;var pCe=be(),p6=m6(st()),ECe=m6(Vs()),cr=class e{static#e(t,r){let s;return typeof r[r.length-1]=="function"&&(s=r.pop()),e.pushArguments(t,r),s}static pushArguments(t,r){for(let s=0;s<r.length;++s){let n=r[s];Array.isArray(n)?e.pushArguments(t,n):t.push(typeof n=="number"||n instanceof Date?n.toString():n)}}static getTransformReply(t,r){return t.TRANSFORM_LEGACY_REPLY?(0,pCe.getTransformReply)(t,r):void 0}static#t(t,r,s){let n=e.getTransformReply(r,s);return function(...u){let i=[t],a=e.#e(i,u),d=this.#r.sendCommand(i);if(!a){d.catch(h=>this.#r.emit("error",h));return}d.then(h=>a(null,n?n(h):h)).catch(h=>a(h))}}#r;#s;constructor(t){this.#r=t;let r=t.options?.RESP??2;for(let[s,n]of Object.entries(p6.default))this[s]=e.#t(s,n,r);this.#s=Sy.factory(r)}sendCommand(...t){let r=[],s=e.#e(r,t),n=this.#r.sendCommand(r);if(!s){n.catch(u=>this.#r.emit("error",u));return}n.then(u=>s(null,u)).catch(u=>s(u))}multi(){return this.#s(this.#r)}};hr.RedisLegacyClient=cr;var Sy=class e{static#e(t,r,s){let n=cr.getTransformReply(r,s);return function(...u){let i=[t];return cr.pushArguments(i,u),this.#t.addCommand(i,n),this}}static factory(t){let r=class extends e{};for(let[s,n]of Object.entries(p6.default))r.prototype[s]=e.#e(s,n,t);return s=>new r(s)}#t=new ECe.default;#r;constructor(t){this.#r=t}sendCommand(...t){let r=[];return cr.pushArguments(r,t),this.#t.addCommand(r),this}exec(t){let r=this.#r._executeMulti(this.#t.queue);if(!t){r.catch(s=>this.#r.emit("error",s));return}r.then(s=>t(null,this.#t.transformReplies(s))).catch(s=>t?.(s))}}});var fr=o(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.PooledNoRedirectClientSideCache=me.BasicPooledClientSideCache=me.PooledClientSideCacheProvider=me.BasicClientSideCache=me.ClientSideCacheProvider=me.CacheStats=void 0;var gCe=require("stream"),Ws=class e{hitCount;missCount;loadSuccessCount;loadFailureCount;totalLoadTime;evictionCount;constructor(t,r,s,n,u,i){if(this.hitCount=t,this.missCount=r,this.loadSuccessCount=s,this.loadFailureCount=n,this.totalLoadTime=u,this.evictionCount=i,t<0||r<0||s<0||n<0||u<0||i<0)throw new Error("All statistics values must be non-negative")}static of(t=0,r=0,s=0,n=0,u=0,i=0){return new e(t,r,s,n,u,i)}static empty(){return e.EMPTY_STATS}static EMPTY_STATS=new e(0,0,0,0,0,0);requestCount(){return this.hitCount+this.missCount}hitRate(){let t=this.requestCount();return t===0?1:this.hitCount/t}missRate(){let t=this.requestCount();return t===0?0:this.missCount/t}loadCount(){return this.loadSuccessCount+this.loadFailureCount}loadFailureRate(){let t=this.loadCount();return t===0?0:this.loadFailureCount/t}averageLoadPenalty(){let t=this.loadCount();return t===0?0:this.totalLoadTime/t}minus(t){return e.of(Math.max(0,this.hitCount-t.hitCount),Math.max(0,this.missCount-t.missCount),Math.max(0,this.loadSuccessCount-t.loadSuccessCount),Math.max(0,this.loadFailureCount-t.loadFailureCount),Math.max(0,this.totalLoadTime-t.totalLoadTime),Math.max(0,this.evictionCount-t.evictionCount))}plus(t){return e.of(this.hitCount+t.hitCount,this.missCount+t.missCount,this.loadSuccessCount+t.loadSuccessCount,this.loadFailureCount+t.loadFailureCount,this.totalLoadTime+t.totalLoadTime,this.evictionCount+t.evictionCount)}};me.CacheStats=Ws;var Ou=class e{static INSTANCE=new e;constructor(){}recordHits(t){}recordMisses(t){}recordLoadSuccess(t){}recordLoadFailure(t){}recordEvictions(t){}snapshot(){return Ws.empty()}};function yCe(){return Ou.INSTANCE}var Mu=class e{#e=0;#t=0;#r=0;#s=0;#n=0;#a=0;recordHits(t){this.#e+=t}recordMisses(t){this.#t+=t}recordLoadSuccess(t){this.#r++,this.#n+=t}recordLoadFailure(t){this.#s++,this.#n+=t}recordEvictions(t){this.#a+=t}snapshot(){return Ws.of(this.#e,this.#t,this.#r,this.#s,this.#n,this.#a)}static create(){return new e}};function ACe(e){let t=new Array(e.length*2);for(let r=0;r<e.length;r++)t[r]=e[r].length,t[r+e.length]=e[r];return t.join("_")}var Iu=class{#e=!1;#t;constructor(t){t==0?this.#t=0:this.#t=Date.now()+t}invalidate(){this.#e=!0}validate(){return!this.#e&&(this.#t==0||Date.now()<this.#t)}},Zs=class extends Iu{#e;get value(){return this.#e}constructor(t,r){super(t),this.#e=r}},$s=class extends Iu{#e;get promise(){return this.#e}constructor(t,r){super(t),this.#e=r}},Nu=class extends gCe.EventEmitter{};me.ClientSideCacheProvider=Nu;var Lu=class extends Nu{#e;#t;ttl;maxEntries;lru;#r;recordEvictions(t){this.#r.recordEvictions(t)}recordHits(t){this.#r.recordHits(t)}recordMisses(t){this.#r.recordMisses(t)}constructor(t){super(),this.#e=new Map,this.#t=new Map,this.ttl=t?.ttl??0,this.maxEntries=t?.maxEntries??0,this.lru=t?.evictPolicy!=="FIFO";let r=t?.recordStats!==!1;this.#r=r?Mu.create():yCe()}async handleCache(t,r,s,n,u){let i,a=ACe(r.redisArgs),d=this.get(a);if(d){if(d instanceof Zs)return this.#r.recordHits(1),structuredClone(d.value);if(d instanceof $s)this.#r.recordMisses(1),i=await d.promise;else throw new Error("unknown cache entry type")}else{this.#r.recordMisses(1);let f=performance.now(),_=s();d=this.createPromiseEntry(t,_),this.set(a,d,r.keys);try{i=await _;let p=performance.now()-f;this.#r.recordLoadSuccess(p)}catch(p){let E=performance.now()-f;throw this.#r.recordLoadFailure(E),d.validate()&&this.delete(a),p}}let h;return n?h=n(i,r.preserve,u):h=i,d.validate()&&(d=this.createValueEntry(t,h),this.set(a,d,r.keys),this.emit("cached-key",a)),structuredClone(h)}trackingOn(){return["CLIENT","TRACKING","ON"]}invalidate(t){if(t===null){this.clear(!1),this.emit("invalidate",t);return}let r=this.#t.get(t.toString());if(r){for(let s of r){let n=this.#e.get(s);n&&n.invalidate(),this.#e.delete(s)}this.#t.delete(t.toString())}this.emit("invalidate",t)}clear(t=!0){let r=this.#e.size;this.#e.clear(),this.#t.clear(),t?this.#r instanceof Ou||(this.#r=Mu.create()):r>0&&this.#r.recordEvictions(r)}get(t){let r=this.#e.get(t);if(r&&!r.validate()){this.delete(t),this.#r.recordEvictions(1),this.emit("cache-evict",t);return}return r!==void 0&&this.lru&&(this.#e.delete(t),this.#e.set(t,r)),r}delete(t){let r=this.#e.get(t);r&&(r.invalidate(),this.#e.delete(t))}has(t){return this.#e.has(t)}set(t,r,s){let n=this.#e.size,u=this.#e.get(t);u&&(n--,u.invalidate()),this.maxEntries>0&&n>=this.maxEntries&&(this.deleteOldest(),this.#r.recordEvictions(1)),this.#e.set(t,r);for(let i of s)this.#t.has(i.toString())||this.#t.set(i.toString(),new Set),this.#t.get(i.toString()).add(t)}size(){return this.#e.size}createValueEntry(t,r){return new Zs(this.ttl,r)}createPromiseEntry(t,r){return new $s(this.ttl,r)}stats(){return this.#r.snapshot()}onError(){this.clear()}onClose(){this.clear()}deleteOldest(){let r=this.#e[Symbol.iterator]().next();if(!r.done){let s=r.value[0],n=this.#e.get(s);n&&n.invalidate(),this.#e.delete(s)}}entryEntries(){return this.#e.entries()}keySetEntries(){return this.#t.entries()}};me.BasicClientSideCache=Lu;var Fu=class extends Lu{#e=!1;disable(){this.#e=!0}enable(){this.#e=!1}get(t){if(!this.#e)return super.get(t)}has(t){return this.#e?!1:super.has(t)}onPoolClose(){this.clear()}};me.PooledClientSideCacheProvider=Fu;var vu=class extends Fu{onError(){this.clear(!1)}onClose(){this.clear(!1)}};me.BasicPooledClientSideCache=vu;var Ry=class extends Zs{#e;constructor(t,r,s){super(t,s),this.#e=r}validate(){let t=super.validate();return this.#e&&(t=t&&this.#e.client.isReady&&this.#e.client.socketEpoch==this.#e.epoch),t}},Cy=class extends $s{#e;constructor(t,r,s){super(t,s),this.#e=r}validate(){return super.validate()&&this.#e.client.isReady&&this.#e.client.socketEpoch==this.#e.epoch}},Dy=class extends vu{createValueEntry(t,r){let s={epoch:t.socketEpoch,client:t};return new Ry(this.ttl,s,r)}createPromiseEntry(t,r){let s={epoch:t.socketEpoch,client:t};return new Cy(this.ttl,s,r)}onError(){}onClose(){}};me.PooledNoRedirectClientSideCache=Dy});var bu=o(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});var Ty=class{#e;#t;get(t){return JSON.stringify(t,g6())===this.#t?this.#e:void 0}set(t,r){this.#e=r,this.#t=JSON.stringify(t,g6())}};Py.default=Ty;function g6(){let e=new WeakSet;return function(r,s){return s&&typeof s=="object"?e.has(s)?"circular":(e.add(s),s):s}}});var My=o(_r=>{"use strict";var wu=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});_r.RedisClientPool=void 0;var SCe=wu(st()),RCe=wu(mr()),CCe=require("node:events"),qy=Pu(),DCe=Ne(),Yt=be(),TCe=wu(Ay()),y6=fr(),xu=Le(),PCe=wu(bu()),Oy=class e extends CCe.EventEmitter{static#e(t,r){let s=(0,Yt.getTransformReply)(t,r);return async function(...n){let u=new xu.BasicCommandParser;return t.parseCommand(u,...n),this.execute(i=>i._executeCommand(t,u,this._commandOptions,s))}}static#t(t,r){let s=(0,Yt.getTransformReply)(t,r);return async function(...n){let u=new xu.BasicCommandParser;return t.parseCommand(u,...n),this._self.execute(i=>i._executeCommand(t,u,this._self._commandOptions,s))}}static#r(t,r,s){let n=(0,Yt.functionArgumentsPrefix)(t,r),u=(0,Yt.getTransformReply)(r,s);return async function(...i){let a=new xu.BasicCommandParser;return a.push(...n),r.parseCommand(a,...i),this._self.execute(d=>d._executeCommand(r,a,this._self._commandOptions,u))}}static#s(t,r){let s=(0,Yt.scriptArgumentsPrefix)(t),n=(0,Yt.getTransformReply)(t,r);return async function(...u){let i=new xu.BasicCommandParser;return i.pushVariadic(s),t.parseCommand(i,...u),this.execute(a=>a._executeScript(t,i,this._commandOptions,n))}}static#n=new PCe.default;static create(t,r){let s=e.#n.get(t);return s||(s=(0,Yt.attachConfig)({BaseClass:e,commands:SCe.default,createCommand:e.#e,createModuleCommand:e.#t,createFunctionCommand:e.#r,createScriptCommand:e.#s,config:t}),s.prototype.Multi=TCe.default.extend(t),e.#n.set(t,s)),Object.create(new s(t,r))}static#a={minimum:1,maximum:100,acquireTimeout:3e3,cleanupDelay:3e3};#u;#i;#l=new qy.SinglyLinkedList;get idleClients(){return this._self.#l.length}#p=new qy.DoublyLinkedList;get clientsInUse(){return this._self.#p.length}get totalClients(){return this._self.#l.length+this._self.#p.length}#f=new qy.SinglyLinkedList;get tasksQueueLength(){return this._self.#f.length}#d=!1;get isOpen(){return this._self.#d}#o=!1;get isClosing(){return this._self.#o}#h;get clientSideCache(){return this._self.#h}constructor(t,r){if(super(),this.#i={...e.#a,...r},r?.clientSideCache)if(t===void 0&&(t={}),r.clientSideCache instanceof y6.PooledClientSideCacheProvider)this.#h=t.clientSideCache=r.clientSideCache;else{let s=r.clientSideCache;this.#h=t.clientSideCache=new y6.BasicPooledClientSideCache(s)}this.#u=RCe.default.factory(t).bind(void 0,t)}_self=this;_commandOptions;withCommandOptions(t){let r=Object.create(this._self);return r._commandOptions=t,r}#E(t,r){let s=Object.create(this._self);return s._commandOptions=Object.create(this._commandOptions??null),s._commandOptions[t]=r,s}withTypeMapping(t){return this._self.#E("typeMapping",t)}withAbortSignal(t){return this._self.#E("abortSignal",t)}asap(){return this._self.#E("asap",!0)}async connect(){if(this._self.#d)return;this._self.#d=!0;let t=[];for(;t.length<this._self.#i.minimum;)t.push(this._self.#m());try{await Promise.all(t)}catch(r){throw this.destroy(),r}return this}async#m(){let t=this._self.#p.push(this._self.#u().on("error",r=>this.emit("error",r)));try{await t.value.connect()}catch(r){throw this._self.#p.remove(t),r}this._self.#A(t)}execute(t){return new Promise((r,s)=>{let n=this._self.#l.shift(),{tail:u}=this._self.#f;if(!n){let a;this._self.#i.acquireTimeout>0&&(a=setTimeout(()=>{this._self.#f.remove(d,u),s(new DCe.TimeoutError("Timeout waiting for a client"))},this._self.#i.acquireTimeout));let d=this._self.#f.push({timeout:a,resolve:r,reject:s,fn:t});this.totalClients<this._self.#i.maximum&&this._self.#m();return}let i=this._self.#p.push(n);this._self.#g(i,r,s,t)})}#g(t,r,s,n){let u=n(t.value);u instanceof Promise?u.then(r,s).finally(()=>this.#A(t)):(r(u),this.#A(t))}#A(t){let r=this.#f.shift();if(r){clearTimeout(r.timeout),this.#g(t,r.resolve,r.reject,r.fn);return}this.#p.remove(t),this.#l.push(t.value),this.#_()}cleanupTimeout;#_(){this.totalClients<=this.#i.minimum||(clearTimeout(this.cleanupTimeout),this.cleanupTimeout=setTimeout(()=>this.#C(),this.#i.cleanupDelay))}#C(){let t=Math.min(this.#l.length,this.totalClients-this.#i.minimum);for(let r=0;r<t;r++)this.#l.shift().destroy()}sendCommand(t,r){return this.execute(s=>s.sendCommand(t,r))}MULTI(){return new this.Multi((t,r)=>this.execute(s=>s._executeMulti(t,r)),t=>this.execute(r=>r._executePipeline(t)),this._commandOptions?.typeMapping)}multi=this.MULTI;async close(){if(!this._self.#o&&this._self.#d){this._self.#o=!0;try{let t=[];for(let r of this._self.#l)t.push(r.close());for(let r of this._self.#p)t.push(r.close());await Promise.all(t),this.#h?.onPoolClose(),this._self.#l.reset(),this._self.#p.reset()}catch{}finally{this._self.#o=!1}}}destroy(){for(let t of this._self.#l)t.destroy();this._self.#l.reset();for(let t of this._self.#p)t.destroy();this._self.#h?.onPoolClose(),this._self.#p.reset(),this._self.#d=!1}};_r.RedisClientPool=Oy});var A6=o((xYe,qCe)=>{qCe.exports={name:"@redis/client",version:"5.8.1",license:"MIT",main:"./dist/index.js",types:"./dist/index.d.ts",files:["dist/","!dist/tsconfig.tsbuildinfo"],scripts:{test:"nyc -r text-summary -r lcov mocha -r tsx './lib/**/*.spec.ts'",release:"release-it"},dependencies:{"cluster-key-slot":"1.1.2"},devDependencies:{"@redis/test-utils":"*","@types/sinon":"^17.0.3",sinon:"^17.0.1"},engines:{node:">= 18"},repository:{type:"git",url:"git://github.com/redis/node-redis.git"},bugs:{url:"https://github.com/redis/node-redis/issues"},homepage:"https://github.com/redis/node-redis/tree/master/packages/client",keywords:["redis"]}});var mr=o(Js=>{"use strict";var gr=Js&&Js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Te;Object.defineProperty(Js,"__esModule",{value:!0});var pr=gr(st()),OCe=gr(r6()),S6=o6(),MCe=gr(l6()),ICe=require("node:events"),Ht=be(),Dt=Ne(),NCe=require("node:url"),Er=Ks(),LCe=gr(Ay()),FCe=gr(rm()),vCe=E6(),bCe=My(),Kt=y(),R6=fr(),Bu=Le(),xCe=gr(bu()),wCe=A6(),Gu=class extends ICe.EventEmitter{static#e(t,r){let s=(0,Ht.getTransformReply)(t,r);return async function(...n){let u=new Bu.BasicCommandParser;return t.parseCommand(u,...n),this._self._executeCommand(t,u,this._commandOptions,s)}}static#t(t,r){let s=(0,Ht.getTransformReply)(t,r);return async function(...n){let u=new Bu.BasicCommandParser;return t.parseCommand(u,...n),this._self._executeCommand(t,u,this._self._commandOptions,s)}}static#r(t,r,s){let n=(0,Ht.functionArgumentsPrefix)(t,r),u=(0,Ht.getTransformReply)(r,s);return async function(...i){let a=new Bu.BasicCommandParser;return a.push(...n),r.parseCommand(a,...i),this._self._executeCommand(r,a,this._self._commandOptions,u)}}static#s(t,r){let s=(0,Ht.scriptArgumentsPrefix)(t),n=(0,Ht.getTransformReply)(t,r);return async function(...u){let i=new Bu.BasicCommandParser;return i.push(...s),t.parseCommand(i,...u),this._executeScript(t,i,this._commandOptions,n)}}static#n=new xCe.default;static factory(t){let r=Te.#n.get(t);return r||(r=(0,Ht.attachConfig)({BaseClass:Te,commands:pr.default,createCommand:Te.#e,createModuleCommand:Te.#t,createFunctionCommand:Te.#r,createScriptCommand:Te.#s,config:t}),r.prototype.Multi=LCe.default.extend(t),Te.#n.set(t,r)),s=>Object.create(new r(s))}static create(t){return Te.factory(t)(t)}static parseOptions(t){if(t?.url){let r=Te.parseURL(t.url);if(t.socket){if(t.socket.tls!==void 0&&t.socket.tls!==r.socket.tls)throw new TypeError(`tls socket option is set to ${t.socket.tls} which is mismatch with protocol or the URL ${t.url} passed`);r.socket=Object.assign(t.socket,r.socket)}Object.assign(t,r)}return t}static parseURL(t){let{hostname:r,port:s,protocol:n,username:u,password:i,pathname:a}=new NCe.URL(t),d={socket:{host:r,tls:!1}};if(n!=="redis:"&&n!=="rediss:")throw new TypeError("Invalid protocol");if(d.socket.tls=n==="rediss:",s&&(d.socket.port=Number(s)),u&&(d.username=decodeURIComponent(u)),i&&(d.password=decodeURIComponent(i)),(u||i)&&(d.credentialsProvider={type:"async-credentials-provider",credentials:async()=>({username:u?decodeURIComponent(u):void 0,password:i?decodeURIComponent(i):void 0})}),a.length>1){let h=Number(a.substring(1));if(isNaN(h))throw new TypeError("Invalid pathname");d.database=h}return d}#a;#u;#i;#l=0;#p;_self=this;_commandOptions;#f;#d;#o;#h=null;get clientSideCache(){return this._self.#o}get options(){return this._self.#a}get isOpen(){return this._self.#u.isOpen}get isReady(){return this._self.#u.isReady}get isPubSubActive(){return this._self.#i.isPubSubActive}get socketEpoch(){return this._self.#u.socketEpoch}get isWatching(){return this._self.#d!==void 0}get isDirtyWatch(){return this._self.#f!==void 0}setDirtyWatch(t){this._self.#f=t}constructor(t){if(super(),this.#E(t),this.#a=this.#m(t),this.#i=this.#g(),this.#u=this.#S(),t?.clientSideCache){if(t.clientSideCache instanceof R6.ClientSideCacheProvider)this.#o=t.clientSideCache;else{let r=t.clientSideCache;this.#o=new R6.BasicClientSideCache(r)}this.#i.setInvalidateCallback(this.#o.invalidate.bind(this.#o))}}#E(t){if(t?.clientSideCache&&t?.RESP!==3)throw new Error("Client Side Caching is only supported with RESP3")}#m(t){if(!t?.credentialsProvider&&(t?.username||t?.password)&&(t.credentialsProvider={type:"async-credentials-provider",credentials:async()=>({username:t.username,password:t.password})}),t?.database&&(this._self.#l=t.database),t?.commandOptions&&(this._commandOptions=t.commandOptions),t?.url){let r=Te.parseOptions(t);return r?.database&&(this._self.#l=r.database),r}return t}#g(){return new MCe.default(this.#a?.RESP??2,this.#a?.commandsQueueMaxLength,(t,r)=>this.emit("sharded-channel-moved",t,r))}reAuthenticate=async t=>{this.isPubSubActive&&!this.#a?.RESP||await this.sendCommand((0,Kt.parseArgs)(pr.default.AUTH,{username:t.username,password:t.password??""}))};#A(t){return t.subscribe({onNext:r=>{this.reAuthenticate(r).catch(s=>{let n=s instanceof Error?s.message:String(s);t.onReAuthenticationError(new S6.CredentialsError(n))})},onError:r=>{let s=`Error from streaming credentials provider: ${r.message}`;t.onReAuthenticationError(new S6.UnableToObtainNewCredentialsError(s))}})}async#_(t,r){let s=[],n=await this.#C();r&&n.reverse();for(let{cmd:u,errorHandler:i}of n)s.push(this.#i.addCommand(u,{chainId:t,asap:r}).catch(i));return s}async#C(){let t=[],r=this.#a?.credentialsProvider;if(this.#a?.RESP){let s={};if(r&&r.type==="async-credentials-provider"){let n=await r.credentials();n.password&&(s.AUTH={username:n.username??"default",password:n.password})}if(r&&r.type==="streaming-credentials-provider"){let[n,u]=await this.#A(r);this.#h=u,n.password&&(s.AUTH={username:n.username??"default",password:n.password})}this.#a.name&&(s.SETNAME=this.#a.name),t.push({cmd:(0,Kt.parseArgs)(FCe.default,this.#a.RESP,s)})}else{if(r&&r.type==="async-credentials-provider"){let s=await r.credentials();(s.username||s.password)&&t.push({cmd:(0,Kt.parseArgs)(pr.default.AUTH,{username:s.username,password:s.password??""})})}if(r&&r.type==="streaming-credentials-provider"){let[s,n]=await this.#A(r);this.#h=n,(s.username||s.password)&&t.push({cmd:(0,Kt.parseArgs)(pr.default.AUTH,{username:s.username,password:s.password??""})})}this.#a?.name&&t.push({cmd:(0,Kt.parseArgs)(pr.default.CLIENT_SETNAME,this.#a.name)})}return this.#l!==0&&t.push({cmd:["SELECT",this.#l.toString()]}),this.#a?.readonly&&t.push({cmd:(0,Kt.parseArgs)(pr.default.READONLY)}),this.#a?.disableClientInfo||(t.push({cmd:["CLIENT","SETINFO","LIB-VER",wCe.version],errorHandler:()=>{}}),t.push({cmd:["CLIENT","SETINFO","LIB-NAME",this.#a?.clientInfoTag?`node-redis(${this.#a.clientInfoTag})`:"node-redis"],errorHandler:()=>{}})),this.#o&&t.push({cmd:this.#o.trackingOn()}),t}#S(){let t=async()=>{let r=[],s=Symbol("Socket Initiator"),n=this.#i.resubscribe(s);if(n&&r.push(n),this.#p&&r.push(this.#i.monitor(this.#p,{typeMapping:this._commandOptions?.typeMapping,chainId:s,asap:!0})),r.push(...await this.#_(s,!0)),r.length)return this.#T(),Promise.all(r)};return new OCe.default(t,this.#a?.socket).on("data",r=>{try{this.#i.decoder.write(r)}catch(s){this.#i.resetDecoder(),this.emit("error",s)}}).on("error",r=>{this.emit("error",r),this.#o?.onError(),this.#u.isOpen&&!this.#a?.disableOfflineQueue?this.#i.flushWaitingForReply(r):this.#i.flushAll(r)}).on("connect",()=>this.emit("connect")).on("ready",()=>{this.emit("ready"),this.#D(),this.#M()}).on("reconnecting",()=>this.emit("reconnecting")).on("drain",()=>this.#M()).on("end",()=>this.emit("end"))}#y;#D(){!this.#a?.pingInterval||!this.#u.isReady||(clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#u.isReady&&this.sendCommand(["PING"]).then(t=>this.emit("ping-interval",t)).catch(t=>this.emit("error",t)).finally(()=>this.#D())},this.#a.pingInterval))}withCommandOptions(t){let r=Object.create(this._self);return r._commandOptions=t,r}_commandOptionsProxy(t,r){let s=Object.create(this._self);return s._commandOptions=Object.create(this._commandOptions??null),s._commandOptions[t]=r,s}withTypeMapping(t){return this._commandOptionsProxy("typeMapping",t)}withAbortSignal(t){return this._commandOptionsProxy("abortSignal",t)}asap(){return this._commandOptionsProxy("asap",!0)}legacy(){return new vCe.RedisLegacyClient(this)}createPool(t){return bCe.RedisClientPool.create(this._self.#a,t)}duplicate(t){return new(Object.getPrototypeOf(this)).constructor({...this._self.#a,commandOptions:this._commandOptions,...t})}async connect(){return await this._self.#u.connect(),this}async _executeCommand(t,r,s,n){let u=this._self.#o,i=this._self.#a?.commandOptions===s,a=()=>this.sendCommand(r.redisArgs,s);if(u&&t.CACHEABLE&&i)return await u.handleCache(this._self,r,a,n,s?.typeMapping);{let d=await a();return n?n(d,r.preserve,s?.typeMapping):d}}async _executeScript(t,r,s,n){let u=r.redisArgs,i;try{i=await this.sendCommand(u,s)}catch(a){if(!a?.message?.startsWith?.("NOSCRIPT"))throw a;u[0]="EVAL",u[1]=t.SCRIPT,i=await this.sendCommand(u,s)}return n?n(i,r.preserve,s?.typeMapping):i}sendCommand(t,r){if(this._self.#u.isOpen){if(!this._self.#u.isReady&&this._self.#a?.disableOfflineQueue)return Promise.reject(new Dt.ClientOfflineError)}else return Promise.reject(new Dt.ClientClosedError);let s={...this._self._commandOptions,...r},n=this._self.#i.addCommand(t,s);return this._self.#P(),n}async SELECT(t){await this.sendCommand(["SELECT",t.toString()]),this._self.#l=t}select=this.SELECT;#c(t){return t===void 0?Promise.resolve():(this.#P(),t)}SUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.subscribe(Er.PUBSUB_TYPE.CHANNELS,t,r,s))}subscribe=this.SUBSCRIBE;UNSUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.unsubscribe(Er.PUBSUB_TYPE.CHANNELS,t,r,s))}unsubscribe=this.UNSUBSCRIBE;PSUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.subscribe(Er.PUBSUB_TYPE.PATTERNS,t,r,s))}pSubscribe=this.PSUBSCRIBE;PUNSUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.unsubscribe(Er.PUBSUB_TYPE.PATTERNS,t,r,s))}pUnsubscribe=this.PUNSUBSCRIBE;SSUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.subscribe(Er.PUBSUB_TYPE.SHARDED,t,r,s))}sSubscribe=this.SSUBSCRIBE;SUNSUBSCRIBE(t,r,s){return this._self.#c(this._self.#i.unsubscribe(Er.PUBSUB_TYPE.SHARDED,t,r,s))}sUnsubscribe=this.SUNSUBSCRIBE;async WATCH(t){let r=await this._self.sendCommand((0,Kt.pushVariadicArguments)(["WATCH"],t));return this._self.#d??=this._self.socketEpoch,r}watch=this.WATCH;async UNWATCH(){let t=await this._self.sendCommand(["UNWATCH"]);return this._self.#d=void 0,t}unwatch=this.UNWATCH;getPubSubListeners(t){return this._self.#i.getPubSubListeners(t)}extendPubSubChannelListeners(t,r,s){return this._self.#c(this._self.#i.extendPubSubChannelListeners(t,r,s))}extendPubSubListeners(t,r){return this._self.#c(this._self.#i.extendPubSubListeners(t,r))}#T(){this.#u.write(this.#i.commandsToWrite())}#O;#P(){!this.#u.isReady||this.#O||(this.#O=setImmediate(()=>{this.#T(),this.#O=void 0}))}#M(){this.#i.isWaitingToWrite()&&this.#P()}async _executePipeline(t,r){if(!this._self.#u.isOpen)return Promise.reject(new Dt.ClientClosedError);let s=Symbol("Pipeline Chain"),n=Promise.all(t.map(({args:i})=>this._self.#i.addCommand(i,{chainId:s,typeMapping:this._commandOptions?.typeMapping})));this._self.#P();let u=await n;return r!==void 0&&(this._self.#l=r),u}async _executeMulti(t,r){let s=this._self.#f;this._self.#f=void 0;let n=this._self.#d;if(this._self.#d=void 0,!this._self.#u.isOpen)throw new Dt.ClientClosedError;if(s)throw new Dt.WatchError(s);if(n&&n!==this._self.socketEpoch)throw new Dt.WatchError("Client reconnected after WATCH");let u=this._commandOptions?.typeMapping,i=Symbol("MULTI Chain"),a=[this._self.#i.addCommand(["MULTI"],{chainId:i})];for(let{args:f}of t)a.push(this._self.#i.addCommand(f,{chainId:i,typeMapping:u}));a.push(this._self.#i.addCommand(["EXEC"],{chainId:i})),this._self.#P();let d=await Promise.all(a),h=d[d.length-1];if(h===null)throw new Dt.WatchError;return r!==void 0&&(this._self.#l=r),h}MULTI(){return new this.Multi(this._executeMulti.bind(this),this._executePipeline.bind(this),this._commandOptions?.typeMapping)}multi=this.MULTI;async*scanIterator(t){let r=t?.cursor??"0";do{let s=await this.scan(r,t);r=s.cursor,yield s.keys}while(r!=="0")}async*hScanIterator(t,r){let s=r?.cursor??"0";do{let n=await this.hScan(t,s,r);s=n.cursor,yield n.entries}while(s!=="0")}async*hScanValuesIterator(t,r){let s=r?.cursor??"0";do{let n=await this.hScanNoValues(t,s,r);s=n.cursor,yield n.fields}while(s!=="0")}async*hScanNoValuesIterator(t,r){let s=r?.cursor??"0";do{let n=await this.hScanNoValues(t,s,r);s=n.cursor,yield n.fields}while(s!=="0")}async*sScanIterator(t,r){let s=r?.cursor??"0";do{let n=await this.sScan(t,s,r);s=n.cursor,yield n.members}while(s!=="0")}async*zScanIterator(t,r){let s=r?.cursor??"0";do{let n=await this.zScan(t,s,r);s=n.cursor,yield n.members}while(s!=="0")}async MONITOR(t){let r=this._self.#i.monitor(t,{typeMapping:this._commandOptions?.typeMapping});this._self.#P(),await r,this._self.#p=t}monitor=this.MONITOR;async reset(){let t=Symbol("Reset Chain"),r=[this._self.#i.reset(t)],s=this._self.#a?.database??0;this._self.#h?.dispose(),this._self.#h=null,r.push(...await this._self.#_(t,!1)),this._self.#P(),await Promise.all(r),this._self.#l=s,this._self.#p=void 0,this._self.#f=void 0,this._self.#d=void 0}resetIfDirty(){let t=!1;if(this._self.#l!==(this._self.#a?.database??0)&&(console.warn("Returning a client with a different selected DB"),t=!0),this._self.#p&&(console.warn("Returning a client with active MONITOR"),t=!0),this._self.#i.isPubSubActive&&(console.warn("Returning a client with active PubSub"),t=!0),(this._self.#f||this._self.#d)&&(console.warn("Returning a client with active WATCH"),t=!0),t)return this.reset()}QUIT(){return this._self.#h?.dispose(),this._self.#h=null,this._self.#u.quit(async()=>{clearTimeout(this._self.#y);let t=this._self.#i.addCommand(["QUIT"]);return this._self.#P(),t})}quit=this.QUIT;disconnect(){return Promise.resolve(this.destroy())}close(){return new Promise(t=>{if(clearTimeout(this._self.#y),this._self.#u.close(),this._self.#o?.onClose(),this._self.#i.isEmpty())return this._self.#u.destroySocket(),t();let r=()=>{this._self.#i.isEmpty()&&(this._self.#u.off("data",r),this._self.#u.destroySocket(),t())};this._self.#u.on("data",r),this._self.#h?.dispose(),this._self.#h=null})}destroy(){clearTimeout(this._self.#y),this._self.#i.flushAll(new Dt.DisconnectsClientError),this._self.#u.destroy(),this._self.#o?.onClose(),this._self.#h?.dispose(),this._self.#h=null}ref(){this._self.#u.ref()}unref(){this._self.#u.unref()}};Te=Gu;Js.default=Gu});var T6=o((BYe,Iy)=>{var C6=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],BCe=function(t){for(var r,s=0,n=0,u=[],i=t.length;s<i;s++)r=t.charCodeAt(s),r<128?u[n++]=r:r<2048?(u[n++]=r>>6|192,u[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),u[n++]=r>>18|240,u[n++]=r>>12&63|128,u[n++]=r>>6&63|128,u[n++]=r&63|128):(u[n++]=r>>12|224,u[n++]=r>>6&63|128,u[n++]=r&63|128);return u},D6=Iy.exports=function(t){for(var r,s=0,n=-1,u=0,i=0,a=typeof t=="string"?BCe(t):t,d=a.length;s<d;){if(r=a[s++],n===-1)r===123&&(n=s);else if(r!==125)i=C6[(r^i>>8)&255]^i<<8;else if(s-1!==n)return i&16383;u=C6[(r^u>>8)&255]^u<<8}return u&16383};Iy.exports.generateMulti=function(t){for(var r=1,s=t.length,n=D6(t[0]);r<s;)if(D6(t[r++])!==n)return-1;return n}});var O6=o(Qs=>{"use strict";var q6=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ly;Object.defineProperty(Qs,"__esModule",{value:!0});var GCe=Ne(),UCe=q6(mr()),nt=Ks(),Ny=q6(T6()),P6=fr(),Uu=class{static#e=16384;#t;#r;#s;slots=new Array(Ly.#e);masters=new Array;replicas=new Array;nodeByAddress=new Map;pubSubNode;clientSideCache;#n=!1;get isOpen(){return this.#n}#a(t){if(t?.clientSideCache&&t?.RESP!==3)throw new Error("Client Side Caching is only supported with RESP3")}constructor(t,r){this.#a(t),this.#t=t,t?.clientSideCache&&(t.clientSideCache instanceof P6.PooledClientSideCacheProvider?this.clientSideCache=t.clientSideCache:this.clientSideCache=new P6.BasicPooledClientSideCache(t.clientSideCache)),this.#r=UCe.default.factory(this.#t),this.#s=r}async connect(){if(this.#n)throw new Error("Cluster already open");this.#n=!0;try{await this.#u()}catch(t){throw this.#n=!1,t}}async#u(){let t=Math.floor(Math.random()*this.#t.rootNodes.length);for(let r=t;r<this.#t.rootNodes.length;r++){if(!this.#n)throw new Error("Cluster closed");if(await this.#l(this.#t.rootNodes[r]))return}for(let r=0;r<t;r++){if(!this.#n)throw new Error("Cluster closed");if(await this.#l(this.#t.rootNodes[r]))return}throw new GCe.RootNodesUnavailableError}#i(){this.slots=new Array(Ly.#e),this.masters=[],this.replicas=[],this._randomNodeIterator=void 0}async#l(t){this.clientSideCache?.clear(),this.clientSideCache?.disable();try{let r=new Set,s=[],n=this.#t.minimizeConnections!==!0,u=await this.#p(t);this.#i();for(let{from:i,to:a,master:d,replicas:h}of u){let f={master:this.#o(d,!1,n,r,s)};this.#t.useReplicas&&(f.replicas=h.map(_=>this.#o(_,!0,n,r,s)));for(let _=i;_<=a;_++)this.slots[_]=f}if(this.pubSubNode&&!r.has(this.pubSubNode.address)){let i=this.pubSubNode.client.getPubSubListeners(nt.PUBSUB_TYPE.CHANNELS),a=this.pubSubNode.client.getPubSubListeners(nt.PUBSUB_TYPE.PATTERNS);this.pubSubNode.client.destroy(),(i.size||a.size)&&s.push(this.#y({[nt.PUBSUB_TYPE.CHANNELS]:i,[nt.PUBSUB_TYPE.PATTERNS]:a}))}for(let[i,a]of this.nodeByAddress.entries()){if(r.has(i))continue;a.client&&a.client.destroy();let{pubSub:d}=a;d&&d.client.destroy(),this.nodeByAddress.delete(i)}return await Promise.all(s),this.clientSideCache?.enable(),!0}catch(r){return this.#s("error",r),!1}}async#p(t){let r=this.#d(t);r.socket??={},r.socket.reconnectStrategy=!1,r.RESP=this.#t.RESP,r.commandOptions=void 0;let s=await this.#r(r).on("error",n=>this.#s("error",n)).connect();try{return await s.clusterSlots()}finally{s.destroy()}}#f(t){switch(typeof this.#t.nodeAddressMap){case"object":return this.#t.nodeAddressMap[t];case"function":return this.#t.nodeAddressMap(t)}}#d(t){if(!this.#t.defaults)return t;let r;return this.#t.defaults.socket?r={...this.#t.defaults.socket,...t?.socket}:r=t?.socket,{...this.#t.defaults,...t,socket:r}}#o(t,r,s,n,u){let i=`${t.host}:${t.port}`,a=this.nodeByAddress.get(i);return a||(a={...t,address:i,readonly:r,client:void 0,connectPromise:void 0},s&&u.push(this.#E(a)),this.nodeByAddress.set(i,a)),n.has(i)||(n.add(i),(r?this.replicas:this.masters).push(a)),a}#h(t,r=t.readonly){return this.#r(this.#d({clientSideCache:this.clientSideCache,RESP:this.#t.RESP,socket:this.#f(t.address)??{host:t.host,port:t.port},readonly:r})).on("error",s=>console.error(s))}#E(t,r){let s=t.client=this.#h(t,r);return t.connectPromise=s.connect().finally(()=>t.connectPromise=void 0)}nodeClient(t){return t.connectPromise??t.client??this.#E(t)}#m;async rediscover(t){return this.#m??=this.#g(t).finally(()=>this.#m=void 0),this.#m}async#g(t){if(!await this.#l(t.options))return this.#u()}quit(){return this.#_(t=>t.quit())}disconnect(){return this.#_(t=>t.disconnect())}close(){return this.#_(t=>t.close())}destroy(){this.#n=!1;for(let t of this.#A())t.destroy();this.pubSubNode&&(this.pubSubNode.client.destroy(),this.pubSubNode=void 0),this.#i(),this.nodeByAddress.clear()}*#A(){for(let t of this.masters)t.client&&(yield t.client),t.pubSub&&(yield t.pubSub.client);for(let t of this.replicas)t.client&&(yield t.client)}async#_(t){this.#n=!1;let r=[];for(let s of this.#A())r.push(t(s));this.pubSubNode&&(r.push(t(this.pubSubNode.client)),this.pubSubNode=void 0),this.#i(),this.nodeByAddress.clear(),await Promise.allSettled(r)}getClient(t,r){if(!t)return this.nodeClient(this.getRandomNode());let s=(0,Ny.default)(t);return r?this.nodeClient(this.getSlotRandomNode(s)):this.nodeClient(this.slots[s].master)}*#C(){let t=Math.floor(Math.random()*(this.masters.length+this.replicas.length));if(t<this.masters.length){do yield this.masters[t];while(++t<this.masters.length);for(let r of this.replicas)yield r}else{t-=this.masters.length;do yield this.replicas[t];while(++t<this.replicas.length)}for(;;){for(let r of this.masters)yield r;for(let r of this.replicas)yield r}}_randomNodeIterator;getRandomNode(){return this._randomNodeIterator??=this.#C(),this._randomNodeIterator.next().value}*#S(t){let r=Math.floor(Math.random()*(1+t.replicas.length));if(r<t.replicas.length)do yield t.replicas[r];while(++r<t.replicas.length);for(;;){yield t.master;for(let s of t.replicas)yield s}}getSlotRandomNode(t){let r=this.slots[t];return r.replicas?.length?(r.nodesIterator??=this.#S(r),r.nodesIterator.next().value):r.master}getMasterByAddress(t){let r=this.nodeByAddress.get(t);if(r)return this.nodeClient(r)}getPubSubClient(){return this.pubSubNode?this.pubSubNode.connectPromise??this.pubSubNode.client:this.#y()}async#y(t){let r=Math.floor(Math.random()*(this.masters.length+this.replicas.length)),s=r<this.masters.length?this.masters[r]:this.replicas[r-this.masters.length],n=this.#h(s,!1);return this.pubSubNode={address:s.address,client:n,connectPromise:n.connect().then(async u=>(t&&await Promise.all([u.extendPubSubListeners(nt.PUBSUB_TYPE.CHANNELS,t[nt.PUBSUB_TYPE.CHANNELS]),u.extendPubSubListeners(nt.PUBSUB_TYPE.PATTERNS,t[nt.PUBSUB_TYPE.PATTERNS])]),this.pubSubNode.connectPromise=void 0,u)).catch(u=>{throw this.pubSubNode=void 0,u})},this.pubSubNode.connectPromise}async executeUnsubscribeCommand(t){let r=await this.getPubSubClient();await t(r),r.isPubSubActive||(r.destroy(),this.pubSubNode=void 0)}getShardedPubSubClient(t){let{master:r}=this.slots[(0,Ny.default)(t)];return r.pubSub?r.pubSub.connectPromise??r.pubSub.client:this.#D(r)}async#D(t){let r=this.#h(t,!1).on("server-sunsubscribe",async(s,n)=>{try{await this.rediscover(r),await(await this.getShardedPubSubClient(s)).extendPubSubChannelListeners(nt.PUBSUB_TYPE.SHARDED,s,n)}catch(u){this.#s("sharded-shannel-moved-error",u,s,n)}});return t.pubSub={client:r,connectPromise:r.connect().then(s=>(t.pubSub.connectPromise=void 0,s)).catch(s=>{throw t.pubSub=void 0,s})},t.pubSub.connectPromise}async executeShardedUnsubscribeCommand(t,r){let{master:s}=this.slots[(0,Ny.default)(t)];if(!s.pubSub)return;let n=s.pubSub.connectPromise?await s.pubSub.connectPromise:s.pubSub.client;await r(n),n.isPubSubActive||(n.destroy(),s.pubSub=void 0)}};Ly=Uu;Qs.default=Uu});var I6=o(ks=>{"use strict";var M6=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});var YCe=M6(st()),HCe=M6(Vs()),yr=be(),Yu=Le(),Fy=class e{static#e(t,r){let s=(0,yr.getTransformReply)(t,r);return function(...n){let u=new Yu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;i.preserve=u.preserve;let a=u.firstKey;return this.addCommand(a,t.IS_READ_ONLY,i,s)}}static#t(t,r){let s=(0,yr.getTransformReply)(t,r);return function(...n){let u=new Yu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;i.preserve=u.preserve;let a=u.firstKey;return this._self.addCommand(a,t.IS_READ_ONLY,i,s)}}static#r(t,r,s){let n=(0,yr.functionArgumentsPrefix)(t,r),u=(0,yr.getTransformReply)(r,s);return function(...i){let a=new Yu.BasicCommandParser;a.push(...n),r.parseCommand(a,...i);let d=a.redisArgs;d.preserve=a.preserve;let h=a.firstKey;return this._self.addCommand(h,r.IS_READ_ONLY,d,u)}}static#s(t,r){let s=(0,yr.getTransformReply)(t,r);return function(...n){let u=new Yu.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;i.preserve=u.preserve;let a=u.firstKey;return this.#f(a,t.IS_READ_ONLY,t,i,s)}}static extend(t){return(0,yr.attachConfig)({BaseClass:e,commands:YCe.default,createCommand:e.#e,createModuleCommand:e.#t,createFunctionCommand:e.#r,createScriptCommand:e.#s,config:t})}#n;#a;#u;#i;#l=!0;constructor(t,r,s,n){this.#n=new HCe.default(n),this.#a=t,this.#u=r,this.#i=s}#p(t,r){this.#i??=t,this.#l&&=r}addCommand(t,r,s,n){return this.#p(t,r),this.#n.addCommand(s,n),this}#f(t,r,s,n,u){return this.#p(t,r),this.#n.addScript(s,n,u),this}async exec(t=!1){return t?this.execAsPipeline():this.#n.transformReplies(await this.#a(this.#i,this.#l,this.#n.queue))}EXEC=this.exec;execTyped(t=!1){return this.exec(t)}async execAsPipeline(){return this.#n.queue.length===0?[]:this.#n.transformReplies(await this.#u(this.#i,this.#l,this.#n.queue))}execAsPipelineTyped(){return this.execAsPipeline()}};ks.default=Fy});var N6=o(en=>{"use strict";var Ku=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});var KCe=Ku(st()),zCe=require("node:events"),zt=be(),jCe=Ku(O6()),VCe=Ku(I6()),XCe=Ne(),Hu=Le(),WCe=lf(),ZCe=Ku(bu()),vy=class e extends zCe.EventEmitter{static#e(t,r){let s=(0,zt.getTransformReply)(t,r);return async function(...n){let u=new Hu.BasicCommandParser;return t.parseCommand(u,...n),this._self._execute(u.firstKey,t.IS_READ_ONLY,this._commandOptions,(i,a)=>i._executeCommand(t,u,a,s))}}static#t(t,r){let s=(0,zt.getTransformReply)(t,r);return async function(...n){let u=new Hu.BasicCommandParser;return t.parseCommand(u,...n),this._self._execute(u.firstKey,t.IS_READ_ONLY,this._self._commandOptions,(i,a)=>i._executeCommand(t,u,a,s))}}static#r(t,r,s){let n=(0,zt.functionArgumentsPrefix)(t,r),u=(0,zt.getTransformReply)(r,s);return async function(...i){let a=new Hu.BasicCommandParser;return a.push(...n),r.parseCommand(a,...i),this._self._execute(a.firstKey,r.IS_READ_ONLY,this._self._commandOptions,(d,h)=>d._executeCommand(r,a,h,u))}}static#s(t,r){let s=(0,zt.scriptArgumentsPrefix)(t),n=(0,zt.getTransformReply)(t,r);return async function(...u){let i=new Hu.BasicCommandParser;return i.push(...s),t.parseCommand(i,...u),this._self._execute(i.firstKey,t.IS_READ_ONLY,this._commandOptions,(a,d)=>a._executeScript(t,i,d,n))}}static#n=new ZCe.default;static factory(t){let r=e.#n.get(t);return r||(r=(0,zt.attachConfig)({BaseClass:e,commands:KCe.default,createCommand:e.#e,createModuleCommand:e.#t,createFunctionCommand:e.#r,createScriptCommand:e.#s,config:t}),r.prototype.Multi=VCe.default.extend(t),e.#n.set(t,r)),s=>Object.create(new r(s))}static create(t){return e.factory(t)(t)}_options;_slots;_self=this;_commandOptions;get slots(){return this._self._slots.slots}get clientSideCache(){return this._self._slots.clientSideCache}get masters(){return this._self._slots.masters}get replicas(){return this._self._slots.replicas}get nodeByAddress(){return this._self._slots.nodeByAddress}get pubSubNode(){return this._self._slots.pubSubNode}get isOpen(){return this._self._slots.isOpen}constructor(t){super(),this._options=t,this._slots=new jCe.default(t,this.emit.bind(this)),t?.commandOptions&&(this._commandOptions=t.commandOptions)}duplicate(t){return new(Object.getPrototypeOf(this)).constructor({...this._self._options,commandOptions:this._commandOptions,...t})}async connect(){return await this._self._slots.connect(),this}withCommandOptions(t){let r=Object.create(this);return r._commandOptions=t,r}_commandOptionsProxy(t,r){let s=Object.create(this);return s._commandOptions=Object.create(this._commandOptions??null),s._commandOptions[t]=r,s}withTypeMapping(t){return this._commandOptionsProxy("typeMapping",t)}_handleAsk(t){return async(r,s)=>{let n=Symbol("asking chain"),u=s?{...s}:{};return u.chainId=n,(await Promise.all([r.sendCommand([WCe.ASKING_CMD],{chainId:n}),t(r,u)]))[1]}}async _execute(t,r,s,n){let u=this._options.maxCommandRedirections??16,i=await this._slots.getClient(t,r),a=0,d=n;for(;;)try{return await d(i,s)}catch(h){if(d=n,++a>u||!(h instanceof Error))throw h;if(h.message.startsWith("ASK")){let f=h.message.substring(h.message.lastIndexOf(" ")+1),_=await this._slots.getMasterByAddress(f);if(_||(await this._slots.rediscover(i),_=await this._slots.getMasterByAddress(f)),!_)throw new Error(`Cannot find node ${f}`);i=_,d=this._handleAsk(n);continue}if(h.message.startsWith("MOVED")){await this._slots.rediscover(i),i=await this._slots.getClient(t,r);continue}throw h}}async sendCommand(t,r,s,n){let u={...this._self._commandOptions,...n};return this._self._execute(t,r,u,(i,a)=>i.sendCommand(s,a))}MULTI(t){return new this.Multi(async(r,s,n)=>(await this._self._slots.getClient(r,s))._executeMulti(n),async(r,s,n)=>(await this._self._slots.getClient(r,s))._executePipeline(n),t,this._commandOptions?.typeMapping)}multi=this.MULTI;async SUBSCRIBE(t,r,s){return(await this._self._slots.getPubSubClient()).SUBSCRIBE(t,r,s)}subscribe=this.SUBSCRIBE;async UNSUBSCRIBE(t,r,s){return this._self._slots.executeUnsubscribeCommand(n=>n.UNSUBSCRIBE(t,r,s))}unsubscribe=this.UNSUBSCRIBE;async PSUBSCRIBE(t,r,s){return(await this._self._slots.getPubSubClient()).PSUBSCRIBE(t,r,s)}pSubscribe=this.PSUBSCRIBE;async PUNSUBSCRIBE(t,r,s){return this._self._slots.executeUnsubscribeCommand(n=>n.PUNSUBSCRIBE(t,r,s))}pUnsubscribe=this.PUNSUBSCRIBE;async SSUBSCRIBE(t,r,s){let n=this._self._options.maxCommandRedirections??16,u=Array.isArray(t)?t[0]:t,i=await this._self._slots.getShardedPubSubClient(u);for(let a=0;;a++)try{return await i.SSUBSCRIBE(t,r,s)}catch(d){if(++a>n||!(d instanceof XCe.ErrorReply))throw d;if(d.message.startsWith("MOVED")){await this._self._slots.rediscover(i),i=await this._self._slots.getShardedPubSubClient(u);continue}throw d}}sSubscribe=this.SSUBSCRIBE;SUNSUBSCRIBE(t,r,s){return this._self._slots.executeShardedUnsubscribeCommand(Array.isArray(t)?t[0]:t,n=>n.SUNSUBSCRIBE(t,r,s))}sUnsubscribe=this.SUNSUBSCRIBE;quit(){return this._self._slots.quit()}disconnect(){return this._self._slots.disconnect()}close(){return this._self._slots.clientSideCache?.onPoolClose(),this._self._slots.close()}destroy(){return this._self._slots.clientSideCache?.onPoolClose(),this._self._slots.destroy()}nodeClient(t){return this._self._slots.nodeClient(t)}getRandomNode(){return this._self._slots.getRandomNode()}getSlotRandomNode(t){return this._self._slots.getSlotRandomNode(t)}getMasters(){return this.masters}getSlotMaster(t){return this.slots[t].master}};en.default=vy});var F6=o(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.createScriptCommand=le.createModuleCommand=le.createFunctionCommand=le.createCommand=le.clientSocketToNode=le.createNodeList=le.parseNode=void 0;var zu=Le(),Ar=be();function L6(e){if(!(e.flags.includes("s_down")||e.flags.includes("disconnected")||e.flags.includes("failover_in_progress")))return{host:e.ip,port:Number(e.port)}}le.parseNode=L6;function $Ce(e){var t=[];for(let r of e){let s=L6(r);s!==void 0&&t.push(s)}return t}le.createNodeList=$Ce;function JCe(e){let t=e;return{host:t.host,port:t.port}}le.clientSocketToNode=JCe;function QCe(e,t){let r=(0,Ar.getTransformReply)(e,t);return async function(...s){let n=new zu.BasicCommandParser;return e.parseCommand(n,...s),this._self._execute(e.IS_READ_ONLY,u=>u._executeCommand(e,n,this.commandOptions,r))}}le.createCommand=QCe;function kCe(e,t,r){let s=(0,Ar.functionArgumentsPrefix)(e,t),n=(0,Ar.getTransformReply)(t,r);return async function(...u){let i=new zu.BasicCommandParser;return i.push(...s),t.parseCommand(i,...u),this._self._execute(t.IS_READ_ONLY,a=>a._executeCommand(t,i,this._self.commandOptions,n))}}le.createFunctionCommand=kCe;function eDe(e,t){let r=(0,Ar.getTransformReply)(e,t);return async function(...s){let n=new zu.BasicCommandParser;return e.parseCommand(n,...s),this._self._execute(e.IS_READ_ONLY,u=>u._executeCommand(e,n,this._self.commandOptions,r))}}le.createModuleCommand=eDe;function tDe(e,t){let r=(0,Ar.scriptArgumentsPrefix)(e),s=(0,Ar.getTransformReply)(e,t);return async function(...n){let u=new zu.BasicCommandParser;return u.push(...r),e.parseCommand(u,...n),this._self._execute(e.IS_READ_ONLY,i=>i._executeScript(e,u,this.commandOptions,s))}}le.createScriptCommand=tDe});var x6=o(tn=>{"use strict";var b6=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tn,"__esModule",{value:!0});var rDe=b6(st()),v6=b6(Vs()),Sr=be(),ju=Le(),by=class e{static _createCommand(t,r){let s=(0,Sr.getTransformReply)(t,r);return function(...n){let u=new ju.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this.addCommand(t.IS_READ_ONLY,i,s)}}static _createModuleCommand(t,r){let s=(0,Sr.getTransformReply)(t,r);return function(...n){let u=new ju.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this._self.addCommand(t.IS_READ_ONLY,i,s)}}static _createFunctionCommand(t,r,s){let n=(0,Sr.functionArgumentsPrefix)(t,r),u=(0,Sr.getTransformReply)(r,s);return function(...i){let a=new ju.BasicCommandParser;a.push(...n),r.parseCommand(a,...i);let d=a.redisArgs;return d.preserve=a.preserve,this._self.addCommand(r.IS_READ_ONLY,d,u)}}static _createScriptCommand(t,r){let s=(0,Sr.getTransformReply)(t,r);return function(...n){let u=new ju.BasicCommandParser;t.parseCommand(u,...n);let i=u.redisArgs;return i.preserve=u.preserve,this.#n(t.IS_READ_ONLY,t,i,s)}}static extend(t){return(0,Sr.attachConfig)({BaseClass:e,commands:rDe.default,createCommand:e._createCommand,createModuleCommand:e._createModuleCommand,createFunctionCommand:e._createFunctionCommand,createScriptCommand:e._createScriptCommand,config:t})}#e=new v6.default;#t;#r=!0;constructor(t,r){this.#e=new v6.default(r),this.#t=t}#s(t){this.#r&&=t}addCommand(t,r,s){return this.#s(t),this.#e.addCommand(r,s),this}#n(t,r,s,n){return this.#s(t),this.#e.addScript(r,s,n),this}async exec(t=!1){return t?this.execAsPipeline():this.#e.transformReplies(await this.#t._executeMulti(this.#r,this.#e.queue))}EXEC=this.exec;execTyped(t=!1){return this.exec(t)}async execAsPipeline(){return this.#e.queue.length===0?[]:this.#e.transformReplies(await this.#t._executePipeline(this.#r,this.#e.queue))}execAsPipelineTyped(){return this.execAsPipeline()}};tn.default=by});var G6=o(Rr=>{"use strict";var B6=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.PubSubProxy=void 0;var sDe=B6(require("node:events")),Tt=Ks(),w6=B6(mr()),xy=class extends sDe.default{#e;#t;#r;#s;#n;constructor(t,r){super(),this.#e=t,this.#t=r}#a(){if(this.#r===void 0)throw new Error("pubSubProxy: didn't define node to do pubsub against");return new w6.default({...this.#e,socket:{...this.#e.socket,host:this.#r.host,port:this.#r.port}})}async#u(t=!1){let r=this.#a().on("error",this.#t),s=r.connect().then(async n=>this.#s?.client!==n?(n.destroy(),this.#s?.connectPromise):(t&&this.#n&&await Promise.all([n.extendPubSubListeners(Tt.PUBSUB_TYPE.CHANNELS,this.#n[Tt.PUBSUB_TYPE.CHANNELS]),n.extendPubSubListeners(Tt.PUBSUB_TYPE.PATTERNS,this.#n[Tt.PUBSUB_TYPE.PATTERNS])]),this.#s.client!==n?(n.destroy(),this.#s?.connectPromise):(this.#s.connectPromise=void 0,n))).catch(n=>{throw this.#s=void 0,n});return this.#s={client:r,connectPromise:s},s}#i(){return this.#s?this.#s.connectPromise??this.#s.client:this.#u()}async changeNode(t){this.#r=t,this.#s&&(this.#s.connectPromise===void 0&&(this.#n={[Tt.PUBSUB_TYPE.CHANNELS]:this.#s.client.getPubSubListeners(Tt.PUBSUB_TYPE.CHANNELS),[Tt.PUBSUB_TYPE.PATTERNS]:this.#s.client.getPubSubListeners(Tt.PUBSUB_TYPE.PATTERNS)},this.#s.client.destroy()),await this.#u(!0))}#l(t){let r=this.#i();return r instanceof w6.default?t(r):r.then(s=>{if(s!==void 0)return t(s)}).catch(s=>{throw this.#s?.client.isPubSubActive&&(this.#s.client.destroy(),this.#s=void 0),s})}subscribe(t,r,s){return this.#l(n=>n.SUBSCRIBE(t,r,s))}#p(t){return this.#l(async r=>{let s=await t(r);return r.isPubSubActive||(r.destroy(),this.#s=void 0),s})}async unsubscribe(t,r,s){return this.#p(n=>n.UNSUBSCRIBE(t,r,s))}async pSubscribe(t,r,s){return this.#l(n=>n.PSUBSCRIBE(t,r,s))}async pUnsubscribe(t,r,s){return this.#p(n=>n.PUNSUBSCRIBE(t,r,s))}destroy(){this.#n=void 0,this.#s!==void 0&&(this.#s.connectPromise||this.#s.client.destroy(),this.#s=void 0)}};Rr.PubSubProxy=xy});var U6=o(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});var nDe=y();wy.default={parseCommand(e,t){e.push("SENTINEL","MASTER",t)},transformReply:{2:nDe.transformTuplesReply,3:void 0}}});var Y6=o(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.default={parseCommand(e,t,r,s,n){e.push("SENTINEL","MONITOR",t,r,s,n)},transformReply:void 0}});var H6=o(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});var uDe=y();Gy.default={parseCommand(e,t){e.push("SENTINEL","REPLICAS",t)},transformReply:{2:(e,t,r)=>{let s=e,n=[];return s.reduce((u,i)=>(u.push((0,uDe.transformTuplesReply)(i,void 0,r)),u),n)},3:void 0}}});var K6=o(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});var iDe=y();Uy.default={parseCommand(e,t){e.push("SENTINEL","SENTINELS",t)},transformReply:{2:(e,t,r)=>{let s=e,n=[];return s.reduce((u,i)=>(u.push((0,iDe.transformTuplesReply)(i,void 0,r)),u),n)},3:void 0}}});var z6=o(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.default={parseCommand(e,t,r){e.push("SENTINEL","SET",t);for(let s of r)e.push(s.option,s.value)},transformReply:void 0}});var $6=o(rn=>{"use strict";var sn=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});var j6=sn(U6()),V6=sn(Y6()),X6=sn(H6()),W6=sn(K6()),Z6=sn(z6());rn.default={SENTINEL_SENTINELS:W6.default,sentinelSentinels:W6.default,SENTINEL_MASTER:j6.default,sentinelMaster:j6.default,SENTINEL_REPLICAS:X6.default,sentinelReplicas:X6.default,SENTINEL_MONITOR:V6.default,sentinelMonitor:V6.default,SENTINEL_SET:Z6.default,sentinelSet:Z6.default}});var J6=o(nn=>{"use strict";var oDe=nn&&nn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});var aDe=oDe($6());nn.default={sentinel:aDe.default}});var k6=o(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.WaitQueue=void 0;var Q6=Pu(),Hy=class{#e=new Q6.SinglyLinkedList;#t=new Q6.SinglyLinkedList;push(t){let r=this.#t.shift();if(r!==void 0){r(t);return}this.#e.push(t)}shift(){return this.#e.shift()}wait(){return new Promise(t=>this.#t.push(t))}};Vu.WaitQueue=Hy});var n9=o(ut=>{"use strict";var Wu=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ut,"__esModule",{value:!0});ut.RedisSentinelFactory=ut.RedisSentinelClient=void 0;var Vy=require("node:events"),Cr=Wu(mr()),t9=be(),r9=Wu(st()),ee=F6(),s9=Wu(x6()),dDe=G6(),lDe=require("node:timers/promises"),Xu=Wu(J6()),cDe=k6(),e9=fr(),un=class e{#e;#t;_self;get isOpen(){return this._self.#t.isOpen}get isReady(){return this._self.#t.isReady}get commandOptions(){return this._self.#r}#r;constructor(t,r,s){this._self=this,this.#t=t,this.#e=r,this.#r=s}static factory(t){let r=(0,t9.attachConfig)({BaseClass:e,commands:r9.default,createCommand:ee.createCommand,createModuleCommand:ee.createModuleCommand,createFunctionCommand:ee.createFunctionCommand,createScriptCommand:ee.createScriptCommand,config:t});return r.prototype.Multi=s9.default.extend(t),(s,n,u)=>Object.create(new r(s,n,u))}static create(t,r,s,n){return e.factory(t)(r,s,n)}withCommandOptions(t){let r=Object.create(this);return r._commandOptions=t,r}_commandOptionsProxy(t,r){let s=Object.create(this);return s._commandOptions=Object.create(this._self.#r??null),s._commandOptions[t]=r,s}withTypeMapping(t){return this._commandOptionsProxy("typeMapping",t)}async _execute(t,r){if(this._self.#e===void 0)throw new Error("Attempted execution on released RedisSentinelClient lease");return await this._self.#t.execute(r,this._self.#e)}async sendCommand(t,r,s){return this._execute(t,n=>n.sendCommand(r,s))}async _executePipeline(t,r){return this._execute(t,s=>s._executePipeline(r))}async _executeMulti(t,r){return this._execute(t,s=>s._executeMulti(r))}MULTI(){return new this.Multi(this)}multi=this.MULTI;WATCH(t){if(this._self.#e===void 0)throw new Error("Attempted execution on released RedisSentinelClient lease");return this._execute(!1,r=>r.watch(t))}watch=this.WATCH;UNWATCH(){if(this._self.#e===void 0)throw new Error("Attempted execution on released RedisSentinelClient lease");return this._execute(!1,t=>t.unwatch())}unwatch=this.UNWATCH;release(){if(this._self.#e===void 0)throw new Error("RedisSentinelClient lease already released");let t=this._self.#t.releaseClientLease(this._self.#e);return this._self.#e=void 0,t}};ut.RedisSentinelClient=un;var Ky=class e extends Vy.EventEmitter{_self;#e;#t;get isOpen(){return this._self.#e.isOpen}get isReady(){return this._self.#e.isReady}get commandOptions(){return this._self.#r}#r;#s=()=>{};#n;#a=0;#u;get clientSideCache(){return this._self.#e.clientSideCache}constructor(t){super(),this._self=this,this.#t=t,t.commandOptions&&(this.#r=t.commandOptions),this.#e=new zy(t),this.#e.on("error",r=>this.emit("error",r)),this.#e.on("topology-change",r=>{this.emit("topology-change",r)||this._self.#s(`RedisSentinel: re-emit for topology-change for ${r.type} event returned false`)})}static factory(t){let r=(0,t9.attachConfig)({BaseClass:e,commands:r9.default,createCommand:ee.createCommand,createModuleCommand:ee.createModuleCommand,createFunctionCommand:ee.createFunctionCommand,createScriptCommand:ee.createScriptCommand,config:t});return r.prototype.Multi=s9.default.extend(t),s=>Object.create(new r(s))}static create(t){return e.factory(t)(t)}withCommandOptions(t){let r=Object.create(this);return r._commandOptions=t,r}_commandOptionsProxy(t,r){let s=Object.create(this);return s._self.#r={...this._self.#r||{},[t]:r},s}withTypeMapping(t){return this._commandOptionsProxy("typeMapping",t)}async connect(){return await this._self.#e.connect(),this._self.#t.reserveClient&&(this._self.#n=await this._self.#e.getClientLease()),this}async _execute(t,r){let s;(!t||!this._self.#e.useReplicas)&&(this._self.#n?s=this._self.#n:(this._self.#u??=await this._self.#e.getClientLease(),s=this._self.#u,this._self.#a++));try{return await this._self.#e.execute(r,s)}finally{if(s!==void 0&&s===this._self.#u&&--this._self.#a===0){let n=this._self.#e.releaseClientLease(s);this._self.#u=void 0,n&&await n}}}async use(t){let r=await this._self.#e.getClientLease();try{return await t(un.create(this._self.#t,this._self.#e,r,this._self.#r))}finally{let s=this._self.#e.releaseClientLease(r);s&&await s}}async sendCommand(t,r,s){return this._execute(t,n=>n.sendCommand(r,s))}async _executePipeline(t,r){return this._execute(t,s=>s._executePipeline(r))}async _executeMulti(t,r){return this._execute(t,s=>s._executeMulti(r))}MULTI(){return new this.Multi(this)}multi=this.MULTI;async close(){return this._self.#e.close()}destroy(){return this._self.#e.destroy()}async SUBSCRIBE(t,r,s){return this._self.#e.subscribe(t,r,s)}subscribe=this.SUBSCRIBE;async UNSUBSCRIBE(t,r,s){return this._self.#e.unsubscribe(t,r,s)}unsubscribe=this.UNSUBSCRIBE;async PSUBSCRIBE(t,r,s){return this._self.#e.pSubscribe(t,r,s)}pSubscribe=this.PSUBSCRIBE;async PUNSUBSCRIBE(t,r,s){return this._self.#e.pUnsubscribe(t,r,s)}pUnsubscribe=this.PUNSUBSCRIBE;async acquire(){let t=await this._self.#e.getClientLease();return un.create(this._self.#t,this._self.#e,t,this._self.#r)}getSentinelNode(){return this._self.#e.getSentinelNode()}getMasterNode(){return this._self.#e.getMasterNode()}getReplicaNodes(){return this._self.#e.getReplicaNodes()}setTracer(t){t?this._self.#s=r=>{t.push(r)}:this._self.#s=()=>{},this._self.#e.setTracer(t)}};ut.default=Ky;var zy=class extends Vy.EventEmitter{#e=!1;get isOpen(){return this.#e}#t=!1;get isReady(){return this.#t}#r;#s;#n;#a;#u;#i;#l=!1;#p=0;#f;#d;#o=[];#h;#E;#m=[];#g=0;#A;get useReplicas(){return this.#A>0}#_;#C;#S;#y;#D=!1;#c=()=>{};#T;get clientSideCache(){return this.#T}#O(t){if(t?.clientSideCache&&t?.RESP!==3)throw new Error("Client Side Caching is only supported with RESP3")}constructor(t){if(super(),this.#O(t),this.#r=t.name,this.#i=t.RESP,this.#f=Array.from(t.sentinelRootNodes),this.#C=t.maxCommandRediscovers??16,this.#E=t.masterPoolSize??1,this.#A=t.replicaPoolSize??0,this.#a=t.scanInterval??0,this.#u=t.passthroughClientErrorEvents??!1,this.#s=t.nodeClientOptions?{...t.nodeClientOptions}:{},this.#s.url!==void 0)throw new Error("invalid nodeClientOptions for Sentinel");if(t.clientSideCache)if(t.clientSideCache instanceof e9.PooledClientSideCacheProvider)this.#T=this.#s.clientSideCache=t.clientSideCache;else{let r=t.clientSideCache;this.#T=this.#s.clientSideCache=new e9.BasicPooledClientSideCache(r)}if(this.#n=t.sentinelClientOptions?Object.assign({},t.sentinelClientOptions):{},this.#n.modules=Xu.default,this.#n.url!==void 0)throw new Error("invalid sentinelClientOptions for Sentinel");this.#h=new cDe.WaitQueue;for(let r=0;r<this.#E;r++)this.#h.push(r);this.#S=new dDe.PubSubProxy(this.#s,r=>this.emit("error",r))}#P(t,r,s){return Cr.default.create({RESP:this.#i,...r,socket:{...r.socket,host:t.host,port:t.port,...s!==void 0&&{reconnectStrategy:s}}})}getClientLease(){let t=this.#h.shift();return t!==void 0?{id:t}:this.#h.wait().then(r=>({id:r}))}releaseClientLease(t){let r=this.#o[t.id];if(r!==void 0){let s=r.resetIfDirty();if(s)return s.then(()=>this.#h.push(t.id))}this.#h.push(t.id)}async connect(){if(this.#e)throw new Error("already attempting to open");try{this.#e=!0,this.#_=this.#M(),await this.#_,this.#t=!0}finally{this.#_=void 0,this.#a>0&&(this.#y=setInterval(this.#N.bind(this),this.#a))}}async#M(){let t=0;for(;;){if(this.#c("starting connect loop"),t+=1,this.#D){this.#c("in #connect and want to destroy");return}try{if(this.#l=!1,await this.transform(this.analyze(await this.observe())),this.#l){this.#c("#connect: anotherReset is true, so continuing");continue}this.#c("#connect: returning");return}catch(r){if(this.#c(`#connect: exception ${r.message}`),!this.#t&&t>this.#C)throw r;r.message!=="no valid master node"&&console.log(r),await(0,lDe.setTimeout)(1e3)}finally{this.#c("finished connect")}}}async execute(t,r){let s=0;for(;;){this.#_!==void 0&&await this.#_;let n=this.#I(r);if(!n.isReady){await this.#N();continue}let u=n.options?.socket;this.#c("attemping to send command to "+u?.host+":"+u?.port);try{return await t(n)}catch(i){if(++s>this.#C||!(i instanceof Error))throw i;if(r!==void 0&&(i.message.startsWith("READONLY")||!n.isReady)){await this.#N();continue}throw i}}}async#L(t){return await t.pSubscribe(["switch-master","[-+]sdown","+slave","+sentinel","[-+]odown","+slave-reconf-done"],(r,s)=>{this.#b(s,r)},!0),t}async#b(t,r){this.#c("pubsub control channel message on "+t),this.#N()}#I(t){if(t!==void 0)return this.#o[t.id];if(this.#g>=this.#m.length&&(this.#g=0),this.#m.length==0)throw new Error("no replicas available for read");return this.#m[this.#g++]}async#N(){if(!(this.#t==!1||this.#D==!0)){if(this.#_!==void 0)return this.#l=!0,await this.#_;try{return this.#_=this.#M(),await this.#_}finally{this.#c("finished reconfgure"),this.#_=void 0}}}async close(){this.#D=!0,this.#_!=null&&await this.#_,this.#t=!1,this.#T?.onPoolClose(),this.#y&&(clearInterval(this.#y),this.#y=void 0);let t=[];this.#d!==void 0&&(this.#d.isOpen&&t.push(this.#d.close()),this.#d=void 0);for(let r of this.#o)r.isOpen&&t.push(r.close());this.#o=[];for(let r of this.#m)r.isOpen&&t.push(r.close());this.#m=[],await Promise.all(t),this.#S.destroy(),this.#e=!1}async destroy(){this.#D=!0,this.#_!=null&&await this.#_,this.#t=!1,this.#T?.onPoolClose(),this.#y&&(clearInterval(this.#y),this.#y=void 0),this.#d!==void 0&&(this.#d.isOpen&&this.#d.destroy(),this.#d=void 0);for(let t of this.#o)t.isOpen&&t.destroy();this.#o=[];for(let t of this.#m)t.isOpen&&t.destroy();this.#m=[],this.#S.destroy(),this.#e=!1,this.#D=!1}async subscribe(t,r,s){return this.#S.subscribe(t,r,s)}async unsubscribe(t,r,s){return this.#S.unsubscribe(t,r,s)}async pSubscribe(t,r,s){return this.#S.pSubscribe(t,r,s)}async pUnsubscribe(t,r,s){return this.#S.pUnsubscribe(t,r,s)}async observe(){for(let t of this.#f){let r;try{this.#c(`observe: trying to connect to sentinel: ${t.host}:${t.port}`),r=this.#P(t,this.#n,!1),r.on("error",a=>this.emit("error",`obseve client error: ${a}`)),await r.connect(),this.#c("observe: connected to sentinel");let[s,n,u]=await Promise.all([r.sentinel.sentinelSentinels(this.#r),r.sentinel.sentinelMaster(this.#r),r.sentinel.sentinelReplicas(this.#r)]);return this.#c("observe: got all sentinel data"),{sentinelConnected:t,sentinelData:s,masterData:n,replicaData:u,currentMaster:this.getMasterNode(),currentReplicas:this.getReplicaNodes(),currentSentinel:this.getSentinelNode(),replicaPoolSize:this.#A,useReplicas:this.useReplicas}}catch(s){this.#c(`observe: error ${s}`),this.emit("error",s)}finally{r!==void 0&&r.isOpen&&(this.#c("observe: destroying sentinel client"),r.destroy())}}throw this.#c("observe: none of the sentinels are available"),new Error("None of the sentinels are available")}analyze(t){let r=(0,ee.parseNode)(t.masterData);if(r===void 0)throw this.#c(`analyze: no valid master node because ${t.masterData.flags}`),new Error("no valid master node");r.host===t.currentMaster?.host&&r.port===t.currentMaster?.port?(this.#c(`analyze: master node hasn't changed from ${t.currentMaster?.host}:${t.currentMaster?.port}`),r=void 0):this.#c(`analyze: master node has changed to ${r.host}:${r.port} from ${t.currentMaster?.host}:${t.currentMaster?.port}`);let s=t.sentinelConnected;s.host===t.currentSentinel?.host&&s.port===t.currentSentinel.port?(this.#c("analyze: sentinel node hasn't changed"),s=void 0):this.#c(`analyze: sentinel node has changed to ${s.host}:${s.port}`);let n=[],u=new Map,i=new Set,a=new Set;if(t.useReplicas){let h=(0,ee.createNodeList)(t.replicaData);for(let f of h)i.add(JSON.stringify(f));for(let[f,_]of t.currentReplicas)i.has(JSON.stringify(f))?(a.add(JSON.stringify(f)),_!=t.replicaPoolSize&&(u.set(f,t.replicaPoolSize-_),this.#c(`analyze: adding ${f.host}:${f.port} to replicsToOpen`))):(n.push(f),this.#c(`analyze: adding ${f.host}:${f.port} to replicsToClose`));for(let f of h)a.has(JSON.stringify(f))||(u.set(f,t.replicaPoolSize),this.#c(`analyze: adding ${f.host}:${f.port} to replicsToOpen`))}return{sentinelList:[t.sentinelConnected].concat((0,ee.createNodeList)(t.sentinelData)),epoch:Number(t.masterData["config-epoch"]),sentinelToOpen:s,masterToOpen:r,replicasToClose:n,replicasToOpen:u}}async transform(t){this.#c("transform: enter");let r=[];if(t.sentinelToOpen){this.#c("transform: opening a new sentinel"),this.#d!==void 0&&this.#d.isOpen?(this.#c("transform: destroying old sentinel as open"),this.#d.destroy(),this.#d=void 0):this.#c("transform: not destroying old sentinel as not open"),this.#c(`transform: creating new sentinel to ${t.sentinelToOpen.host}:${t.sentinelToOpen.port}`);let i=t.sentinelToOpen,a=this.#P(t.sentinelToOpen,this.#n,!1);a.on("error",f=>{this.#u&&this.emit("error",new Error(`Sentinel Client (${i.host}:${i.port}): ${f.message}`,{cause:f}));let _={type:"SENTINEL",node:(0,ee.clientSocketToNode)(a.options.socket),error:f};this.emit("client-error",_),this.#N()}),this.#d=a,this.#c("transform: adding sentinel client connect() to promise list");let d=this.#d.connect().then(f=>this.#L(f));r.push(d),this.#c(`created sentinel client to ${t.sentinelToOpen.host}:${t.sentinelToOpen.port}`);let h={type:"SENTINEL_CHANGE",node:t.sentinelToOpen};this.#c("transform: emiting topology-change event for sentinel_change"),this.emit("topology-change",h)||this.#c("transform: emit for topology-change for sentinel_change returned false")}if(t.masterToOpen){this.#c("transform: opening a new master");let i=[],a=[];this.#c("transform: destroying old masters if open");for(let h of this.#o)a.push(h.isWatching||h.isDirtyWatch),h.isOpen&&h.destroy();this.#o=[],this.#c("transform: creating all master clients and adding connect promises");for(let h=0;h<this.#E;h++){let f=t.masterToOpen,_=this.#P(t.masterToOpen,this.#s);_.on("error",p=>{this.#u&&this.emit("error",new Error(`Master Client (${f.host}:${f.port}): ${p.message}`,{cause:p}));let E={type:"MASTER",node:(0,ee.clientSocketToNode)(_.options.socket),error:p};this.emit("client-error",E)}),a[h]&&_.setDirtyWatch("sentinel config changed in middle of a WATCH Transaction"),this.#o.push(_),i.push(_.connect()),this.#c(`created master client to ${t.masterToOpen.host}:${t.masterToOpen.port}`)}this.#c("transform: adding promise to change #pubSubProxy node"),i.push(this.#S.changeNode(t.masterToOpen)),r.push(...i);let d={type:"MASTER_CHANGE",node:t.masterToOpen};this.#c("transform: emiting topology-change event for master_change"),this.emit("topology-change",d)||this.#c("transform: emit for topology-change for master_change returned false"),this.#p++}let s=new Set;for(let i of t.replicasToClose){let a=JSON.stringify(i);s.add(a)}let n=[],u=new Set;for(let i of this.#m){let a=(0,ee.clientSocketToNode)(i.options.socket),d=JSON.stringify(a);if(s.has(d)||!i.isOpen){if(i.isOpen){let h=i.options?.socket;this.#c(`destroying replica client to ${h?.host}:${h?.port}`),i.destroy()}if(!u.has(d)){let h={type:"REPLICA_REMOVE",node:a};this.emit("topology-change",h),u.add(d)}}else n.push(i)}if(this.#m=n,t.replicasToOpen.size!=0)for(let[i,a]of t.replicasToOpen){for(let h=0;h<a;h++){let f=this.#P(i,this.#s);f.on("error",_=>{this.#u&&this.emit("error",new Error(`Replica Client (${i.host}:${i.port}): ${_.message}`,{cause:_}));let p={type:"REPLICA",node:(0,ee.clientSocketToNode)(f.options.socket),error:_};this.emit("client-error",p)}),this.#m.push(f),r.push(f.connect()),this.#c(`created replica client to ${i.host}:${i.port}`)}let d={type:"REPLICA_ADD",node:i};this.emit("topology-change",d)}if(t.sentinelList.length!=this.#f.length){this.#f=t.sentinelList;let i={type:"SENTINE_LIST_CHANGE",size:t.sentinelList.length};this.emit("topology-change",i)}await Promise.all(r),this.#c("transform: exit")}getMasterNode(){if(this.#o.length!=0){for(let t of this.#o)if(t.isReady)return(0,ee.clientSocketToNode)(t.options.socket)}}getSentinelNode(){if(this.#d!==void 0)return(0,ee.clientSocketToNode)(this.#d.options.socket)}getReplicaNodes(){let t=new Map,r=new Map;for(let s of this.#m){let n=(0,ee.clientSocketToNode)(s.options.socket),u=JSON.stringify(n);s.isReady?r.set(u,(r.get(u)??0)+1):r.has(u)||r.set(u,0)}for(let[s,n]of r)t.set(JSON.parse(s),n);return t}setTracer(t){t?this.#c=r=>{t.push(r)}:this.#c=()=>{}}},jy=class extends Vy.EventEmitter{options;#e;#t=-1;constructor(t){super(),this.options=t,this.#e=t.sentinelRootNodes}async updateSentinelRootNodes(){for(let t of this.#e){let r=Cr.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:t.host,port:t.port,reconnectStrategy:!1},modules:Xu.default}).on("error",s=>this.emit(`updateSentinelRootNodes: ${s}`));try{await r.connect()}catch{r.isOpen&&r.destroy();continue}try{let s=await r.sentinel.sentinelSentinels(this.options.name);this.#e=[t].concat((0,ee.createNodeList)(s));return}finally{r.destroy()}}throw new Error("Couldn't connect to any sentinel node")}async getMasterNode(){let t=!1;for(let r of this.#e){let s=Cr.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:r.host,port:r.port,reconnectStrategy:!1},modules:Xu.default}).on("error",n=>this.emit(`getMasterNode: ${n}`));try{await s.connect()}catch{s.isOpen&&s.destroy();continue}t=!0;try{let n=await s.sentinel.sentinelMaster(this.options.name),u=(0,ee.parseNode)(n);if(u===void 0)continue;return u}finally{s.destroy()}}throw t?new Error("Master Node Not Enumerated"):new Error("couldn't connect to any sentinels")}async getMasterClient(){let t=await this.getMasterNode();return Cr.default.create({...this.options.nodeClientOptions,socket:{...this.options.nodeClientOptions?.socket,host:t.host,port:t.port}})}async getReplicaNodes(){let t=!1;for(let r of this.#e){let s=Cr.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:r.host,port:r.port,reconnectStrategy:!1},modules:Xu.default}).on("error",n=>this.emit(`getReplicaNodes: ${n}`));try{await s.connect()}catch{s.isOpen&&s.destroy();continue}t=!0;try{let n=await s.sentinel.sentinelReplicas(this.options.name),u=(0,ee.createNodeList)(n);if(u.length==0)continue;return u}finally{s.destroy()}}throw t?new Error("No Replicas Nodes Enumerated"):new Error("couldn't connect to any sentinels")}async getReplicaClient(){let t=await this.getReplicaNodes();if(t.length==0)throw new Error("no available replicas");return this.#t++,this.#t>=t.length&&(this.#t=0),Cr.default.create({...this.options.nodeClientOptions,socket:{...this.options.nodeClientOptions?.socket,host:t[this.#t].host,port:t[this.#t].port}})}};ut.RedisSentinelFactory=jy});var on=o(V=>{"use strict";var hDe=V&&V.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),fDe=V&&V.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hDe(t,e,r)},Xy=V&&V.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V,"__esModule",{value:!0});V.BasicPooledClientSideCache=V.BasicClientSideCache=V.REDIS_FLUSH_MODES=V.GEO_REPLY_WITH=V.createSentinel=V.createCluster=V.createClientPool=V.createClient=V.defineScript=V.VerbatimString=V.RESP_TYPES=void 0;var _De=pu();Object.defineProperty(V,"RESP_TYPES",{enumerable:!0,get:function(){return _De.RESP_TYPES}});var mDe=Oh();Object.defineProperty(V,"VerbatimString",{enumerable:!0,get:function(){return mDe.VerbatimString}});var pDe=sb();Object.defineProperty(V,"defineScript",{enumerable:!0,get:function(){return pDe.defineScript}});fDe(Ne(),V);var EDe=Xy(mr());V.createClient=EDe.default.create;var gDe=My();V.createClientPool=gDe.RedisClientPool.create;var yDe=Xy(N6());V.createCluster=yDe.default.create;var ADe=Xy(n9());V.createSentinel=ADe.default.create;var SDe=kr();Object.defineProperty(V,"GEO_REPLY_WITH",{enumerable:!0,get:function(){return SDe.GEO_REPLY_WITH}});var RDe=H_();Object.defineProperty(V,"REDIS_FLUSH_MODES",{enumerable:!0,get:function(){return RDe.REDIS_FLUSH_MODES}});var u9=fr();Object.defineProperty(V,"BasicClientSideCache",{enumerable:!0,get:function(){return u9.BasicClientSideCache}});Object.defineProperty(V,"BasicPooledClientSideCache",{enumerable:!0,get:function(){return u9.BasicPooledClientSideCache}})});var i9=o(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});var CDe=y();Wy.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BF.ADD"),e.pushKey(t),e.push(r)},transformReply:CDe.transformBooleanReply}});var o9=o(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});Zy.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("BF.CARD"),e.pushKey(t)},transformReply:void 0}});var a9=o($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});var DDe=y();$y.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.EXISTS"),e.pushKey(t),e.push(r)},transformReply:DDe.transformBooleanReply}});var Jy=o(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.transformInfoV2Reply=void 0;var TDe=on();function PDe(e,t){switch(t?t[TDe.RESP_TYPES.MAP]:void 0){case Array:return e;case Map:{let s=new Map;for(let n=0;n<e.length;n+=2)s.set(e[n].toString(),e[n+1]);return s}default:{let s=Object.create(null);for(let n=0;n<e.length;n+=2)s[e[n].toString()]=e[n+1];return s}}}Zu.transformInfoV2Reply=PDe});var d9=o(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});var qDe=Jy();Qy.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("BF.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,qDe.transformInfoV2Reply)(e,r),3:void 0}}});var l9=o(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var ODe=y();ky.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("BF.INSERT"),e.pushKey(t),s?.CAPACITY!==void 0&&e.push("CAPACITY",s.CAPACITY.toString()),s?.ERROR!==void 0&&e.push("ERROR",s.ERROR.toString()),s?.EXPANSION!==void 0&&e.push("EXPANSION",s.EXPANSION.toString()),s?.NOCREATE&&e.push("NOCREATE"),s?.NONSCALING&&e.push("NONSCALING"),e.push("ITEMS"),e.pushVariadic(r)},transformReply:ODe.transformBooleanArrayReply}});var c9=o(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});eA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("BF.LOADCHUNK"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var h9=o(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var MDe=y();tA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BF.MADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:MDe.transformBooleanArrayReply}});var f9=o(rA=>{"use strict";Object.defineProperty(rA,"__esModule",{value:!0});var IDe=y();rA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.MEXISTS"),e.pushKey(t),e.pushVariadic(r)},transformReply:IDe.transformBooleanArrayReply}});var _9=o(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("BF.RESERVE"),e.pushKey(t),e.push(r.toString(),s.toString()),n?.EXPANSION&&e.push("EXPANSION",n.EXPANSION.toString()),n?.NONSCALING&&e.push("NONSCALING")},transformReply:void 0}});var m9=o(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});nA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.SCANDUMP"),e.pushKey(t),e.push(r.toString())},transformReply(e){return{iterator:e[0],chunk:e[1]}}}});var Dr=o(xe=>{"use strict";var NDe=xe&&xe.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),LDe=xe&&xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NDe(t,e,r)},we=xe&&xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xe,"__esModule",{value:!0});var p9=we(i9()),E9=we(o9()),g9=we(a9()),y9=we(d9()),A9=we(l9()),S9=we(c9()),R9=we(h9()),C9=we(f9()),D9=we(_9()),T9=we(m9());LDe(Jy(),xe);xe.default={ADD:p9.default,add:p9.default,CARD:E9.default,card:E9.default,EXISTS:g9.default,exists:g9.default,INFO:y9.default,info:y9.default,INSERT:A9.default,insert:A9.default,LOADCHUNK:S9.default,loadChunk:S9.default,MADD:R9.default,mAdd:R9.default,MEXISTS:C9.default,mExists:C9.default,RESERVE:D9.default,reserve:D9.default,SCANDUMP:T9.default,scanDump:T9.default}});var q9=o(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});uA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){if(e.push("CMS.INCRBY"),e.pushKey(t),Array.isArray(r))for(let s of r)P9(e,s);else P9(e,r)},transformReply:void 0};function P9(e,{item:t,incrementBy:r}){e.push(t,r.toString())}});var O9=o(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});var FDe=Dr();iA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("CMS.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,FDe.transformInfoV2Reply)(e,r),3:void 0}}});var M9=o(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});oA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("CMS.INITBYDIM"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var I9=o(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0});aA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("CMS.INITBYPROB"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:void 0}});var N9=o(dA=>{"use strict";Object.defineProperty(dA,"__esModule",{value:!0});dA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){if(e.push("CMS.MERGE"),e.pushKey(t),e.push(r.length.toString()),vDe(r))e.pushVariadic(r);else{for(let s=0;s<r.length;s++)e.push(r[s].name);e.push("WEIGHTS");for(let s=0;s<r.length;s++)e.push(r[s].weight.toString())}},transformReply:void 0};function vDe(e){return typeof e[0]=="string"||e[0]instanceof Buffer}});var L9=o(lA=>{"use strict";Object.defineProperty(lA,"__esModule",{value:!0});lA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CMS.QUERY"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var G9=o(an=>{"use strict";var Tr=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(an,"__esModule",{value:!0});var F9=Tr(q9()),v9=Tr(O9()),b9=Tr(M9()),x9=Tr(I9()),w9=Tr(N9()),B9=Tr(L9());an.default={INCRBY:F9.default,incrBy:F9.default,INFO:v9.default,info:v9.default,INITBYDIM:b9.default,initByDim:b9.default,INITBYPROB:x9.default,initByProb:x9.default,MERGE:w9.default,merge:w9.default,QUERY:B9.default,query:B9.default}});var U9=o(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});var bDe=y();cA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.ADD"),e.pushKey(t),e.push(r)},transformReply:bDe.transformBooleanReply}});var Y9=o(hA=>{"use strict";Object.defineProperty(hA,"__esModule",{value:!0});var xDe=y();hA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.ADDNX"),e.pushKey(t),e.push(r)},transformReply:xDe.transformBooleanReply}});var H9=o(fA=>{"use strict";Object.defineProperty(fA,"__esModule",{value:!0});fA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CF.COUNT"),e.pushKey(t),e.push(r)},transformReply:void 0}});var K9=o(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});var wDe=y();_A.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.DEL"),e.pushKey(t),e.push(r)},transformReply:wDe.transformBooleanReply}});var z9=o(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0});var BDe=y();mA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.EXISTS"),e.pushKey(t),e.push(r)},transformReply:BDe.transformBooleanReply}});var j9=o(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});var GDe=Dr();pA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("CF.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,GDe.transformInfoV2Reply)(e,r),3:void 0}}});var EA=o(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.parseCfInsertArguments=void 0;var UDe=y();function V9(e,t,r,s){e.pushKey(t),s?.CAPACITY!==void 0&&e.push("CAPACITY",s.CAPACITY.toString()),s?.NOCREATE&&e.push("NOCREATE"),e.push("ITEMS"),e.pushVariadic(r)}dn.parseCfInsertArguments=V9;dn.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("CF.INSERT"),V9(...e)},transformReply:UDe.transformBooleanArrayReply}});var X9=o(it=>{"use strict";var YDe=it&&it.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),HDe=it&&it.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KDe=it&&it.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YDe(t,e,r);return HDe(t,e),t};Object.defineProperty(it,"__esModule",{value:!0});var gA=KDe(EA());it.default={IS_READ_ONLY:gA.default.IS_READ_ONLY,parseCommand(...e){e[0].push("CF.INSERTNX"),(0,gA.parseCfInsertArguments)(...e)},transformReply:gA.default.transformReply}});var W9=o(yA=>{"use strict";Object.defineProperty(yA,"__esModule",{value:!0});yA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("CF.LOADCHUNK"),e.pushKey(t),e.push(r.toString(),s)},transformReply:void 0}});var Z9=o(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0});AA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("CF.RESERVE"),e.pushKey(t),e.push(r.toString()),s?.BUCKETSIZE!==void 0&&e.push("BUCKETSIZE",s.BUCKETSIZE.toString()),s?.MAXITERATIONS!==void 0&&e.push("MAXITERATIONS",s.MAXITERATIONS.toString()),s?.EXPANSION!==void 0&&e.push("EXPANSION",s.EXPANSION.toString())},transformReply:void 0}});var $9=o(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0});SA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CF.SCANDUMP"),e.pushKey(t),e.push(r.toString())},transformReply(e){return{iterator:e[0],chunk:e[1]}}}});var a5=o(ln=>{"use strict";var Pe=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});var J9=Pe(U9()),Q9=Pe(Y9()),k9=Pe(H9()),e5=Pe(K9()),t5=Pe(z9()),r5=Pe(j9()),s5=Pe(EA()),n5=Pe(X9()),u5=Pe(W9()),i5=Pe(Z9()),o5=Pe($9());ln.default={ADD:J9.default,add:J9.default,ADDNX:Q9.default,addNX:Q9.default,COUNT:k9.default,count:k9.default,DEL:e5.default,del:e5.default,EXISTS:t5.default,exists:t5.default,INFO:r5.default,info:r5.default,INSERT:s5.default,insert:s5.default,INSERTNX:n5.default,insertNX:n5.default,LOADCHUNK:u5.default,loadChunk:u5.default,RESERVE:i5.default,reserve:i5.default,SCANDUMP:o5.default,scanDump:o5.default}});var d5=o(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});RA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TDIGEST.ADD"),e.pushKey(t);for(let s of r)e.push(s.toString())},transformReply:void 0}});var CA=o(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.transformByRankArguments=void 0;var zDe=y();function l5(e,t,r){e.pushKey(t);for(let s of r)e.push(s.toString())}cn.transformByRankArguments=l5;cn.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TDIGEST.BYRANK"),l5(...e)},transformReply:zDe.transformDoubleArrayReply}});var c5=o(ot=>{"use strict";var jDe=ot&&ot.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),VDe=ot&&ot.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XDe=ot&&ot.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jDe(t,e,r);return VDe(t,e),t};Object.defineProperty(ot,"__esModule",{value:!0});var DA=XDe(CA());ot.default={IS_READ_ONLY:DA.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TDIGEST.BYREVRANK"),(0,DA.transformByRankArguments)(...e)},transformReply:DA.default.transformReply}});var h5=o(TA=>{"use strict";Object.defineProperty(TA,"__esModule",{value:!0});var WDe=y();TA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TDIGEST.CDF"),e.pushKey(t);for(let s of r)e.push(s.toString())},transformReply:WDe.transformDoubleArrayReply}});var f5=o(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});PA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TDIGEST.CREATE"),e.pushKey(t),r?.COMPRESSION!==void 0&&e.push("COMPRESSION",r.COMPRESSION.toString())},transformReply:void 0}});var _5=o(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});var ZDe=Dr();qA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,ZDe.transformInfoV2Reply)(e,r),3:void 0}}});var m5=o(OA=>{"use strict";Object.defineProperty(OA,"__esModule",{value:!0});var $De=y();OA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.MAX"),e.pushKey(t)},transformReply:$De.transformDoubleReply}});var p5=o(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0});MA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("TDIGEST.MERGE"),e.pushKey(t),e.pushKeysLength(r),s?.COMPRESSION!==void 0&&e.push("COMPRESSION",s.COMPRESSION.toString()),s?.OVERRIDE&&e.push("OVERRIDE")},transformReply:void 0}});var E5=o(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0});var JDe=y();IA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.MIN"),e.pushKey(t)},transformReply:JDe.transformDoubleReply}});var g5=o(NA=>{"use strict";Object.defineProperty(NA,"__esModule",{value:!0});var QDe=y();NA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TDIGEST.QUANTILE"),e.pushKey(t);for(let s of r)e.push(s.toString())},transformReply:QDe.transformDoubleArrayReply}});var LA=o(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.transformRankArguments=void 0;function y5(e,t,r){e.pushKey(t);for(let s of r)e.push(s.toString())}hn.transformRankArguments=y5;hn.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TDIGEST.RANK"),y5(...e)},transformReply:void 0}});var A5=o(FA=>{"use strict";Object.defineProperty(FA,"__esModule",{value:!0});FA.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("TDIGEST.RESET"),e.pushKey(t)},transformReply:void 0}});var S5=o(at=>{"use strict";var kDe=at&&at.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),eTe=at&&at.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tTe=at&&at.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kDe(t,e,r);return eTe(t,e),t};Object.defineProperty(at,"__esModule",{value:!0});var vA=tTe(LA());at.default={IS_READ_ONLY:vA.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TDIGEST.REVRANK"),(0,vA.transformRankArguments)(...e)},transformReply:vA.default.transformReply}});var R5=o(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0});var rTe=y();bA.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("TDIGEST.TRIMMED_MEAN"),e.pushKey(t),e.push(r.toString(),s.toString())},transformReply:rTe.transformDoubleReply}});var w5=o(fn=>{"use strict";var pe=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});var C5=pe(d5()),D5=pe(CA()),T5=pe(c5()),P5=pe(h5()),q5=pe(f5()),O5=pe(_5()),M5=pe(m5()),I5=pe(p5()),N5=pe(E5()),L5=pe(g5()),F5=pe(LA()),v5=pe(A5()),b5=pe(S5()),x5=pe(R5());fn.default={ADD:C5.default,add:C5.default,BYRANK:D5.default,byRank:D5.default,BYREVRANK:T5.default,byRevRank:T5.default,CDF:P5.default,cdf:P5.default,CREATE:q5.default,create:q5.default,INFO:O5.default,info:O5.default,MAX:M5.default,max:M5.default,MERGE:I5.default,merge:I5.default,MIN:N5.default,min:N5.default,QUANTILE:L5.default,quantile:L5.default,RANK:F5.default,rank:F5.default,RESET:v5.default,reset:v5.default,REVRANK:b5.default,revRank:b5.default,TRIMMED_MEAN:x5.default,trimmedMean:x5.default}});var B5=o(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TOPK.ADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var G5=o(wA=>{"use strict";Object.defineProperty(wA,"__esModule",{value:!0});wA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TOPK.COUNT"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}});var Y5=o(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0});function U5(e,{item:t,incrementBy:r}){e.push(t,r.toString())}BA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){if(e.push("TOPK.INCRBY"),e.pushKey(t),Array.isArray(r))for(let s of r)U5(e,s);else U5(e,r)},transformReply:void 0}});var H5=o(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0});var sTe=y(),nTe=Dr();GA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(e[7]=sTe.transformDoubleReply[2](e[7],t,r),(0,nTe.transformInfoV2Reply)(e,r)),3:void 0}}});var K5=o(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.LIST"),e.pushKey(t),e.push("WITHCOUNT")},transformReply(e){let t=[];for(let r=0;r<e.length;r++)t.push({item:e[r],count:e[++r]});return t}}});var z5=o(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0});YA.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.LIST"),e.pushKey(t)},transformReply:void 0}});var j5=o(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0});var uTe=y();HA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TOPK.QUERY"),e.pushKey(t),e.pushVariadic(r)},transformReply:uTe.transformBooleanArrayReply}});var V5=o(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("TOPK.RESERVE"),e.pushKey(t),e.push(r.toString()),s&&e.push(s.width.toString(),s.depth.toString(),s.decay.toString())},transformReply:void 0}});var t4=o(_n=>{"use strict";var Pt=_n&&_n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});var X5=Pt(B5()),W5=Pt(G5()),Z5=Pt(Y5()),$5=Pt(H5()),J5=Pt(K5()),Q5=Pt(z5()),k5=Pt(j5()),e4=Pt(V5());_n.default={ADD:X5.default,add:X5.default,COUNT:W5.default,count:W5.default,INCRBY:Z5.default,incrBy:Z5.default,INFO:$5.default,info:$5.default,LIST_WITHCOUNT:J5.default,listWithCount:J5.default,LIST:Q5.default,list:Q5.default,QUERY:k5.default,query:k5.default,RESERVE:e4.default,reserve:e4.default}});var r4=o(mn=>{"use strict";var pn=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mn,"__esModule",{value:!0});var iTe=pn(Dr()),oTe=pn(G9()),aTe=pn(a5()),dTe=pn(w5()),lTe=pn(t4());mn.default={bf:iTe.default,cms:oTe.default,cf:aTe.default,tDigest:dTe.default,topK:lTe.default}});var zA=o(Pr=>{"use strict";var cTe=Pr&&Pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.default=void 0;var hTe=r4();Object.defineProperty(Pr,"default",{enumerable:!0,get:function(){return cTe(hTe).default}})});var n4=o(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0});var s4=y();jA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,...n){e.push("JSON.ARRAPPEND"),e.pushKey(t),e.push(r,(0,s4.transformRedisJsonArgument)(s));for(let u=0;u<n.length;u++)e.push((0,s4.transformRedisJsonArgument)(n[u]))},transformReply:void 0}});var u4=o(VA=>{"use strict";Object.defineProperty(VA,"__esModule",{value:!0});var fTe=y();VA.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("JSON.ARRINDEX"),e.pushKey(t),e.push(r,(0,fTe.transformRedisJsonArgument)(s)),n?.range&&(e.push(n.range.start.toString()),n.range.stop!==void 0&&e.push(n.range.stop.toString()))},transformReply:void 0}});var o4=o(XA=>{"use strict";Object.defineProperty(XA,"__esModule",{value:!0});var i4=y();XA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,...u){e.push("JSON.ARRINSERT"),e.pushKey(t),e.push(r,s.toString(),(0,i4.transformRedisJsonArgument)(n));for(let i=0;i<u.length;i++)e.push((0,i4.transformRedisJsonArgument)(u[i]))},transformReply:void 0}});var a4=o(WA=>{"use strict";Object.defineProperty(WA,"__esModule",{value:!0});WA.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.ARRLEN"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var d4=o($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0});var ZA=y();$A.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.ARRPOP"),e.pushKey(t),r&&(e.push(r.path),r.index!==void 0&&e.push(r.index.toString()))},transformReply(e){return(0,ZA.isArrayReply)(e)?e.map(t=>(0,ZA.transformRedisJsonNullReply)(t)):(0,ZA.transformRedisJsonNullReply)(e)}}});var l4=o(JA=>{"use strict";Object.defineProperty(JA,"__esModule",{value:!0});JA.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("JSON.ARRTRIM"),e.pushKey(t),e.push(r,s.toString(),n.toString())},transformReply:void 0}});var c4=o(QA=>{"use strict";Object.defineProperty(QA,"__esModule",{value:!0});QA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.CLEAR"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var h4=o(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.DEBUG","MEMORY"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var f4=o(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.DEL"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var _4=o(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.FORGET"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var m4=o(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});var _Te=y();rS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.GET"),e.pushKey(t),r?.path!==void 0&&e.pushVariadic(r.path)},transformReply:_Te.transformRedisJsonNullReply}});var p4=o(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});var mTe=y();sS.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("JSON.MERGE"),e.pushKey(t),e.push(r,(0,mTe.transformRedisJsonArgument)(s))},transformReply:void 0}});var E4=o(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});var pTe=y();nS.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.MGET"),e.pushKeys(t),e.push(r)},transformReply(e){return e.map(t=>(0,pTe.transformRedisJsonNullReply)(t))}}});var g4=o(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});var ETe=y();uS.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("JSON.MSET");for(let r=0;r<t.length;r++)e.pushKey(t[r].key),e.push(t[r].path,(0,ETe.transformRedisJsonArgument)(t[r].value))},transformReply:void 0}});var oS=o(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("JSON.NUMINCRBY"),e.pushKey(t),e.push(r,s.toString())},transformReply:{2:e=>JSON.parse(e.toString()),3:void 0}}});var y4=o(En=>{"use strict";var gTe=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});var yTe=gTe(oS());En.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("JSON.NUMMULTBY"),e.pushKey(t),e.push(r,s.toString())},transformReply:yTe.default.transformReply}});var A4=o(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.OBJKEYS"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var S4=o(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.OBJLEN"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}});var R4=o(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});var ATe=y();lS.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("JSON.SET"),e.pushKey(t),e.push(r,(0,ATe.transformRedisJsonArgument)(s)),n?.condition?e.push(n?.condition):n?.NX?e.push("NX"):n?.XX&&e.push("XX")},transformReply:void 0}});var C4=o(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});var STe=y();cS.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("JSON.STRAPPEND"),e.pushKey(t),s?.path!==void 0&&e.push(s.path),e.push((0,STe.transformRedisJsonArgument)(r))},transformReply:void 0}});var D4=o(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.STRLEN"),e.pushKey(t),r?.path&&e.push(r.path)},transformReply:void 0}});var T4=o(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.TOGGLE"),e.pushKey(t),e.push(r)},transformReply:void 0}});var P4=o(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.TYPE"),e.pushKey(t),r?.path&&e.push(r.path)},transformReply:{2:void 0,3:e=>e[0]}}});var $4=o(qe=>{"use strict";var k=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.transformRedisJsonNullReply=qe.transformRedisJsonReply=qe.transformRedisJsonArgument=void 0;var q4=k(n4()),O4=k(u4()),M4=k(o4()),I4=k(a4()),N4=k(d4()),L4=k(l4()),F4=k(c4()),v4=k(h4()),b4=k(f4()),x4=k(_4()),w4=k(m4()),B4=k(p4()),G4=k(E4()),U4=k(g4()),Y4=k(oS()),H4=k(y4()),K4=k(A4()),z4=k(S4()),j4=k(R4()),V4=k(C4()),X4=k(D4()),W4=k(T4()),Z4=k(P4()),mS=y();Object.defineProperty(qe,"transformRedisJsonArgument",{enumerable:!0,get:function(){return mS.transformRedisJsonArgument}});Object.defineProperty(qe,"transformRedisJsonReply",{enumerable:!0,get:function(){return mS.transformRedisJsonReply}});Object.defineProperty(qe,"transformRedisJsonNullReply",{enumerable:!0,get:function(){return mS.transformRedisJsonNullReply}});qe.default={ARRAPPEND:q4.default,arrAppend:q4.default,ARRINDEX:O4.default,arrIndex:O4.default,ARRINSERT:M4.default,arrInsert:M4.default,ARRLEN:I4.default,arrLen:I4.default,ARRPOP:N4.default,arrPop:N4.default,ARRTRIM:L4.default,arrTrim:L4.default,CLEAR:F4.default,clear:F4.default,DEBUG_MEMORY:v4.default,debugMemory:v4.default,DEL:b4.default,del:b4.default,FORGET:x4.default,forget:x4.default,GET:w4.default,get:w4.default,MERGE:B4.default,merge:B4.default,MGET:G4.default,mGet:G4.default,MSET:U4.default,mSet:U4.default,NUMINCRBY:Y4.default,numIncrBy:Y4.default,NUMMULTBY:H4.default,numMultBy:H4.default,OBJKEYS:K4.default,objKeys:K4.default,OBJLEN:z4.default,objLen:z4.default,SET:j4.default,set:j4.default,STRAPPEND:V4.default,strAppend:V4.default,STRLEN:X4.default,strLen:X4.default,TOGGLE:W4.default,toggle:W4.default,TYPE:Z4.default,type:Z4.default}});var pS=o(qr=>{"use strict";var RTe=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qr,"__esModule",{value:!0});qr.default=void 0;var CTe=$4();Object.defineProperty(qr,"default",{enumerable:!0,get:function(){return RTe(CTe).default}})});var J4=o(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FT._LIST")},transformReply:{2:void 0,3:void 0}}});var $u=o($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.REDISEARCH_LANGUAGE=$.parseSchema=$.SCHEMA_GEO_SHAPE_COORD_SYSTEM=$.VAMANA_COMPRESSION_ALGORITHM=$.SCHEMA_VECTOR_FIELD_ALGORITHM=$.SCHEMA_TEXT_FIELD_PHONETIC=$.SCHEMA_FIELD_TYPE=void 0;var Q4=y();$.SCHEMA_FIELD_TYPE={TEXT:"TEXT",NUMERIC:"NUMERIC",GEO:"GEO",TAG:"TAG",VECTOR:"VECTOR",GEOSHAPE:"GEOSHAPE"};$.SCHEMA_TEXT_FIELD_PHONETIC={DM_EN:"dm:en",DM_FR:"dm:fr",FM_PT:"dm:pt",DM_ES:"dm:es"};$.SCHEMA_VECTOR_FIELD_ALGORITHM={FLAT:"FLAT",HNSW:"HNSW",VAMANA:"SVS-VAMANA"};$.VAMANA_COMPRESSION_ALGORITHM={LVQ4:"LVQ4",LVQ8:"LVQ8",LVQ4x4:"LVQ4x4",LVQ4x8:"LVQ4x8",LeanVec4x8:"LeanVec4x8",LeanVec8x8:"LeanVec8x8"};$.SCHEMA_GEO_SHAPE_COORD_SYSTEM={SPHERICAL:"SPHERICAL",FLAT:"FLAT"};function gS(e,t){t.SORTABLE&&(e.push("SORTABLE"),t.SORTABLE==="UNF"&&e.push("UNF")),t.NOINDEX&&e.push("NOINDEX")}function k4(e,t){for(let[r,s]of Object.entries(t)){if(e.push(r),typeof s=="string"){e.push(s);continue}switch(s.AS&&e.push("AS",s.AS),e.push(s.type),s.INDEXMISSING&&e.push("INDEXMISSING"),s.type){case $.SCHEMA_FIELD_TYPE.TEXT:s.NOSTEM&&e.push("NOSTEM"),s.WEIGHT!==void 0&&e.push("WEIGHT",s.WEIGHT.toString()),s.PHONETIC&&e.push("PHONETIC",s.PHONETIC),s.WITHSUFFIXTRIE&&e.push("WITHSUFFIXTRIE"),s.INDEXEMPTY&&e.push("INDEXEMPTY"),gS(e,s);break;case $.SCHEMA_FIELD_TYPE.NUMERIC:case $.SCHEMA_FIELD_TYPE.GEO:gS(e,s);break;case $.SCHEMA_FIELD_TYPE.TAG:s.SEPARATOR&&e.push("SEPARATOR",s.SEPARATOR),s.CASESENSITIVE&&e.push("CASESENSITIVE"),s.WITHSUFFIXTRIE&&e.push("WITHSUFFIXTRIE"),s.INDEXEMPTY&&e.push("INDEXEMPTY"),gS(e,s);break;case $.SCHEMA_FIELD_TYPE.VECTOR:e.push(s.ALGORITHM);let n=[];switch(n.push("TYPE",s.TYPE,"DIM",s.DIM.toString(),"DISTANCE_METRIC",s.DISTANCE_METRIC),s.INITIAL_CAP!==void 0&&n.push("INITIAL_CAP",s.INITIAL_CAP.toString()),s.ALGORITHM){case $.SCHEMA_VECTOR_FIELD_ALGORITHM.FLAT:s.BLOCK_SIZE!==void 0&&n.push("BLOCK_SIZE",s.BLOCK_SIZE.toString());break;case $.SCHEMA_VECTOR_FIELD_ALGORITHM.HNSW:s.M!==void 0&&n.push("M",s.M.toString()),s.EF_CONSTRUCTION!==void 0&&n.push("EF_CONSTRUCTION",s.EF_CONSTRUCTION.toString()),s.EF_RUNTIME!==void 0&&n.push("EF_RUNTIME",s.EF_RUNTIME.toString());break;case $.SCHEMA_VECTOR_FIELD_ALGORITHM.VAMANA:s.COMPRESSION&&n.push("COMPRESSION",s.COMPRESSION),s.CONSTRUCTION_WINDOW_SIZE!==void 0&&n.push("CONSTRUCTION_WINDOW_SIZE",s.CONSTRUCTION_WINDOW_SIZE.toString()),s.GRAPH_MAX_DEGREE!==void 0&&n.push("GRAPH_MAX_DEGREE",s.GRAPH_MAX_DEGREE.toString()),s.SEARCH_WINDOW_SIZE!==void 0&&n.push("SEARCH_WINDOW_SIZE",s.SEARCH_WINDOW_SIZE.toString()),s.EPSILON!==void 0&&n.push("EPSILON",s.EPSILON.toString()),s.TRAINING_THRESHOLD!==void 0&&n.push("TRAINING_THRESHOLD",s.TRAINING_THRESHOLD.toString()),s.REDUCE!==void 0&&n.push("REDUCE",s.REDUCE.toString());break}e.pushVariadicWithLength(n);break;case $.SCHEMA_FIELD_TYPE.GEOSHAPE:s.COORD_SYSTEM!==void 0&&e.push("COORD_SYSTEM",s.COORD_SYSTEM);break}}}$.parseSchema=k4;$.REDISEARCH_LANGUAGE={ARABIC:"Arabic",BASQUE:"Basque",CATALANA:"Catalan",DANISH:"Danish",DUTCH:"Dutch",ENGLISH:"English",FINNISH:"Finnish",FRENCH:"French",GERMAN:"German",GREEK:"Greek",HUNGARIAN:"Hungarian",INDONESAIN:"Indonesian",IRISH:"Irish",ITALIAN:"Italian",LITHUANIAN:"Lithuanian",NEPALI:"Nepali",NORWEIGAN:"Norwegian",PORTUGUESE:"Portuguese",ROMANIAN:"Romanian",RUSSIAN:"Russian",SPANISH:"Spanish",SWEDISH:"Swedish",TAMIL:"Tamil",TURKISH:"Turkish",CHINESE:"Chinese"};$.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.CREATE",t),s?.ON&&e.push("ON",s.ON),(0,Q4.parseOptionalVariadicArgument)(e,"PREFIX",s?.PREFIX),s?.FILTER&&e.push("FILTER",s.FILTER),s?.LANGUAGE&&e.push("LANGUAGE",s.LANGUAGE),s?.LANGUAGE_FIELD&&e.push("LANGUAGE_FIELD",s.LANGUAGE_FIELD),s?.SCORE&&e.push("SCORE",s.SCORE.toString()),s?.SCORE_FIELD&&e.push("SCORE_FIELD",s.SCORE_FIELD),s?.MAXTEXTFIELDS&&e.push("MAXTEXTFIELDS"),s?.TEMPORARY&&e.push("TEMPORARY",s.TEMPORARY.toString()),s?.NOOFFSETS&&e.push("NOOFFSETS"),s?.NOHL&&e.push("NOHL"),s?.NOFIELDS&&e.push("NOFIELDS"),s?.NOFREQS&&e.push("NOFREQS"),s?.SKIPINITIALSCAN&&e.push("SKIPINITIALSCAN"),(0,Q4.parseOptionalVariadicArgument)(e,"STOPWORDS",s?.STOPWORDS),e.push("SCHEMA"),k4(e,r)},transformReply:void 0}});var eV=o(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});var DTe=$u();yS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALTER",t,"SCHEMA","ADD"),(0,DTe.parseSchema)(e,r)},transformReply:void 0}});var Or=o(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.DEFAULT_DIALECT=void 0;Ju.DEFAULT_DIALECT="2"});var Mr=o(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.parseSearchOptions=jt.parseParamsArgument=void 0;var gn=y(),TTe=Or();function tV(e,t){if(t){e.push("PARAMS");let r=[];for(let s in t){if(!Object.hasOwn(t,s))continue;let n=t[s];r.push(s,typeof n=="number"?n.toString():n)}e.pushVariadicWithLength(r)}}jt.parseParamsArgument=tV;function rV(e,t){t?.VERBATIM&&e.push("VERBATIM"),t?.NOSTOPWORDS&&e.push("NOSTOPWORDS"),(0,gn.parseOptionalVariadicArgument)(e,"INKEYS",t?.INKEYS),(0,gn.parseOptionalVariadicArgument)(e,"INFIELDS",t?.INFIELDS),(0,gn.parseOptionalVariadicArgument)(e,"RETURN",t?.RETURN),t?.SUMMARIZE&&(e.push("SUMMARIZE"),typeof t.SUMMARIZE=="object"&&((0,gn.parseOptionalVariadicArgument)(e,"FIELDS",t.SUMMARIZE.FIELDS),t.SUMMARIZE.FRAGS!==void 0&&e.push("FRAGS",t.SUMMARIZE.FRAGS.toString()),t.SUMMARIZE.LEN!==void 0&&e.push("LEN",t.SUMMARIZE.LEN.toString()),t.SUMMARIZE.SEPARATOR!==void 0&&e.push("SEPARATOR",t.SUMMARIZE.SEPARATOR))),t?.HIGHLIGHT&&(e.push("HIGHLIGHT"),typeof t.HIGHLIGHT=="object"&&((0,gn.parseOptionalVariadicArgument)(e,"FIELDS",t.HIGHLIGHT.FIELDS),t.HIGHLIGHT.TAGS&&e.push("TAGS",t.HIGHLIGHT.TAGS.open,t.HIGHLIGHT.TAGS.close))),t?.SLOP!==void 0&&e.push("SLOP",t.SLOP.toString()),t?.TIMEOUT!==void 0&&e.push("TIMEOUT",t.TIMEOUT.toString()),t?.INORDER&&e.push("INORDER"),t?.LANGUAGE&&e.push("LANGUAGE",t.LANGUAGE),t?.EXPANDER&&e.push("EXPANDER",t.EXPANDER),t?.SCORER&&e.push("SCORER",t.SCORER),t?.SORTBY&&(e.push("SORTBY"),typeof t.SORTBY=="string"||t.SORTBY instanceof Buffer?e.push(t.SORTBY):(e.push(t.SORTBY.BY),t.SORTBY.DIRECTION&&e.push(t.SORTBY.DIRECTION))),t?.LIMIT&&e.push("LIMIT",t.LIMIT.from.toString(),t.LIMIT.size.toString()),tV(e,t?.PARAMS),t?.DIALECT?e.push("DIALECT",t.DIALECT.toString()):e.push("DIALECT",TTe.DEFAULT_DIALECT)}jt.parseSearchOptions=rV;jt.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.SEARCH",t,r),rV(e,s)},transformReply:{2:e=>{let t=e.length>2&&!Array.isArray(e[2]),r=[],s=1;for(;s<e.length;)r.push({id:e[s++],value:t?Object.create(null):PTe(e[s++])});return{total:e[0],documents:r}},3:void 0},unstableResp3:!0};function PTe(e){let t=Object.create(null);if(!e)return t;let r=0;for(;r<e.length;){let s=e[r++],n=e[r++];if(s==="$")try{Object.assign(t,JSON.parse(n));continue}catch{}t[s]=n}return t}});var yn=o(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.parseAggregateOptions=J.FT_AGGREGATE_GROUP_BY_REDUCERS=J.FT_AGGREGATE_STEPS=void 0;var qTe=Mr(),OTe=y(),MTe=Or();J.FT_AGGREGATE_STEPS={GROUPBY:"GROUPBY",SORTBY:"SORTBY",APPLY:"APPLY",LIMIT:"LIMIT",FILTER:"FILTER"};J.FT_AGGREGATE_GROUP_BY_REDUCERS={COUNT:"COUNT",COUNT_DISTINCT:"COUNT_DISTINCT",COUNT_DISTINCTISH:"COUNT_DISTINCTISH",SUM:"SUM",MIN:"MIN",MAX:"MAX",AVG:"AVG",STDDEV:"STDDEV",QUANTILE:"QUANTILE",TOLIST:"TOLIST",FIRST_VALUE:"FIRST_VALUE",RANDOM_SAMPLE:"RANDOM_SAMPLE"};J.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r,s){return e.push("FT.AGGREGATE",t,r),iV(e,s)},transformReply:{2:(e,t,r)=>{let s=[];for(let n=1;n<e.length;n++)s.push((0,OTe.transformTuplesReply)(e[n],t,r));return{total:Number(e[0]),results:s}},3:void 0},unstableResp3:!0};function iV(e,t){if(t?.VERBATIM&&e.push("VERBATIM"),t?.ADDSCORES&&e.push("ADDSCORES"),t?.LOAD){let r=[];if(Array.isArray(t.LOAD))for(let s of t.LOAD)sV(r,s);else sV(r,t.LOAD);e.push("LOAD"),e.pushVariadicWithLength(r)}if(t?.TIMEOUT!==void 0&&e.push("TIMEOUT",t.TIMEOUT.toString()),t?.STEPS)for(let r of t.STEPS)switch(e.push(r.type),r.type){case J.FT_AGGREGATE_STEPS.GROUPBY:if(r.properties?e.pushVariadicWithLength(r.properties):e.push("0"),Array.isArray(r.REDUCE))for(let n of r.REDUCE)nV(e,n);else nV(e,r.REDUCE);break;case J.FT_AGGREGATE_STEPS.SORTBY:let s=[];if(Array.isArray(r.BY))for(let n of r.BY)uV(s,n);else uV(s,r.BY);r.MAX&&s.push("MAX",r.MAX.toString()),e.pushVariadicWithLength(s);break;case J.FT_AGGREGATE_STEPS.APPLY:e.push(r.expression,"AS",r.AS);break;case J.FT_AGGREGATE_STEPS.LIMIT:e.push(r.from.toString(),r.size.toString());break;case J.FT_AGGREGATE_STEPS.FILTER:e.push(r.expression);break}(0,qTe.parseParamsArgument)(e,t?.PARAMS),t?.DIALECT?e.push("DIALECT",t.DIALECT.toString()):e.push("DIALECT",MTe.DEFAULT_DIALECT)}J.parseAggregateOptions=iV;function sV(e,t){typeof t=="string"||t instanceof Buffer?e.push(t):(e.push(t.identifier),t.AS&&e.push("AS",t.AS))}function nV(e,t){switch(e.push("REDUCE",t.type),t.type){case J.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT:e.push("0");break;case J.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT_DISTINCT:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT_DISTINCTISH:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.SUM:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.MIN:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.MAX:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.AVG:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.STDDEV:case J.FT_AGGREGATE_GROUP_BY_REDUCERS.TOLIST:e.push("1",t.property);break;case J.FT_AGGREGATE_GROUP_BY_REDUCERS.QUANTILE:e.push("2",t.property,t.quantile.toString());break;case J.FT_AGGREGATE_GROUP_BY_REDUCERS.FIRST_VALUE:{let r=[t.property];t.BY&&(r.push("BY"),typeof t.BY=="string"||t.BY instanceof Buffer?r.push(t.BY):(r.push(t.BY.property),t.BY.direction&&r.push(t.BY.direction))),e.pushVariadicWithLength(r);break}case J.FT_AGGREGATE_GROUP_BY_REDUCERS.RANDOM_SAMPLE:e.push("2",t.property,t.sampleSize.toString());break}t.AS&&e.push("AS",t.AS)}function uV(e,t){typeof t=="string"||t instanceof Buffer?e.push(t):(e.push(t.BY),t.DIRECTION&&e.push(t.DIRECTION))}});var SS=o(An=>{"use strict";var ITe=An&&An.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});var AS=ITe(yn());An.default={IS_READ_ONLY:AS.default.IS_READ_ONLY,parseCommand(e,t,r,s){AS.default.parseCommand(e,t,r,s),e.push("WITHCURSOR"),s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString()),s?.MAXIDLE!==void 0&&e.push("MAXIDLE",s.MAXIDLE.toString())},transformReply:{2:e=>({...AS.default.transformReply[2](e[0]),cursor:e[1]}),3:void 0},unstableResp3:!0}});var oV=o(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALIASADD",t,r)},transformReply:void 0}});var aV=o(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.ALIASDEL",t)},transformReply:void 0}});var dV=o(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALIASUPDATE",t,r)},transformReply:void 0}});var lV=o(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.CONFIG","GET",t)},transformReply(e){let t=Object.create(null);for(let r of e){let[s,n]=r;t[s.toString()]=n}return t}}});var cV=o(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.CONFIG","SET",t,r)},transformReply:void 0}});var hV=o(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.CURSOR","DEL",t,r.toString())},transformReply:void 0}});var fV=o(Sn=>{"use strict";var NTe=Sn&&Sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sn,"__esModule",{value:!0});var LTe=NTe(SS());Sn.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.CURSOR","READ",t,r.toString()),s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString())},transformReply:LTe.default.transformReply,unstableResp3:!0}});var _V=o(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DICTADD",t),e.pushVariadic(r)},transformReply:void 0}});var mV=o(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DICTDEL",t),e.pushVariadic(r)},transformReply:void 0}});var pV=o(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.DICTDUMP",t)},transformReply:{2:void 0,3:void 0}}});var EV=o(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DROPINDEX",t),r?.DD&&e.push("DD")},transformReply:{2:void 0,3:void 0}}});var gV=o(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});var FTe=Mr(),vTe=Or();LS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.EXPLAIN",t,r),(0,FTe.parseParamsArgument)(e,s?.PARAMS),s?.DIALECT?e.push("DIALECT",s.DIALECT.toString()):e.push("DIALECT",vTe.DEFAULT_DIALECT)},transformReply:void 0}});var yV=o(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});var bTe=Or();FS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.EXPLAINCLI",t,r),s?.DIALECT?e.push("DIALECT",s.DIALECT.toString()):e.push("DIALECT",bTe.DEFAULT_DIALECT)},transformReply:void 0}});var AV=o(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});var vS=y();bS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.INFO",t)},transformReply:{2:xTe,3:void 0},unstableResp3:!0};function xTe(e,t,r){let s=(0,vS.createTransformTuplesReplyFunc)(t,r),n={};for(let u=0;u<e.length;u+=2){let i=e[u].toString();switch(i){case"index_name":case"index_options":case"num_docs":case"max_doc_id":case"num_terms":case"num_records":case"total_inverted_index_blocks":case"hash_indexing_failures":case"indexing":case"number_of_uses":case"cleaning":case"stopwords_list":n[i]=e[u+1];break;case"inverted_sz_mb":case"vector_index_sz_mb":case"offset_vectors_sz_mb":case"doc_table_size_mb":case"sortable_values_size_mb":case"key_table_size_mb":case"text_overhead_sz_mb":case"tag_overhead_sz_mb":case"total_index_memory_sz_mb":case"geoshapes_sz_mb":case"records_per_doc_avg":case"bytes_per_record_avg":case"offsets_per_term_avg":case"offset_bits_per_record_avg":case"total_indexing_time":case"percent_indexed":n[i]=vS.transformDoubleReply[2](e[u+1],void 0,r);break;case"index_definition":n[i]=s(e[u+1]);break;case"attributes":n[i]=e[u+1].map(a=>s(a));break;case"gc_stats":{let a={},d=e[u+1];for(let h=0;h<d.length;h+=2){let f=d[h].toString();switch(f){case"bytes_collected":case"total_ms_run":case"total_cycles":case"average_cycle_time_ms":case"last_run_time_ms":case"gc_numeric_trees_missed":case"gc_blocks_denied":a[f]=vS.transformDoubleReply[2](d[h+1],void 0,r);break}}n[i]=a;break}case"cursor_stats":{let a={},d=e[u+1];for(let h=0;h<d.length;h+=2){let f=d[h].toString();switch(f){case"global_idle":case"global_total":case"index_capacity":case"index_total":a[f]=d[h+1];break}}n[i]=a;break}}}return n}});var RV=o(dt=>{"use strict";var wTe=dt&&dt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),BTe=dt&&dt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GTe=dt&&dt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wTe(t,e,r);return BTe(t,e),t};Object.defineProperty(dt,"__esModule",{value:!0});var SV=GTe(Mr());dt.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.PROFILE",t,"SEARCH"),s?.LIMITED&&e.push("LIMITED"),e.push("QUERY",r),(0,SV.parseSearchOptions)(e,s)},transformReply:{2:e=>({results:SV.default.transformReply[2](e[0]),profile:e[1]}),3:e=>e},unstableResp3:!0}});var DV=o(lt=>{"use strict";var UTe=lt&&lt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),YTe=lt&&lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HTe=lt&&lt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&UTe(t,e,r);return YTe(t,e),t};Object.defineProperty(lt,"__esModule",{value:!0});var CV=HTe(yn());lt.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.PROFILE",t,"AGGREGATE"),s?.LIMITED&&e.push("LIMITED"),e.push("QUERY",r),(0,CV.parseAggregateOptions)(e,s)},transformReply:{2:e=>({results:CV.default.transformReply[2](e[0]),profile:e[1]}),3:e=>e},unstableResp3:!0}});var TV=o(Rn=>{"use strict";var KTe=Rn&&Rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rn,"__esModule",{value:!0});var xS=KTe(Mr());Rn.default={NOT_KEYED_COMMAND:xS.default.NOT_KEYED_COMMAND,IS_READ_ONLY:xS.default.IS_READ_ONLY,parseCommand(...e){xS.default.parseCommand(...e),e[0].push("NOCONTENT")},transformReply:{2:e=>({total:e[0],documents:e.slice(1)}),3:void 0},unstableResp3:!0}});var qV=o(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});var zTe=Or();wS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){if(e.push("FT.SPELLCHECK",t,r),s?.DISTANCE&&e.push("DISTANCE",s.DISTANCE.toString()),s?.TERMS)if(Array.isArray(s.TERMS))for(let n of s.TERMS)PV(e,n);else PV(e,s.TERMS);s?.DIALECT?e.push("DIALECT",s.DIALECT.toString()):e.push("DIALECT",zTe.DEFAULT_DIALECT)},transformReply:{2:e=>e.map(([,t,r])=>({term:t,suggestions:r.map(([s,n])=>({score:Number(s),suggestion:n}))})),3:void 0},unstableResp3:!0};function PV(e,{mode:t,dictionary:r}){e.push("TERMS",t,r)}});var OV=o(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("FT.SUGADD"),e.pushKey(t),e.push(r,s.toString()),n?.INCR&&e.push("INCR"),n?.PAYLOAD&&e.push("PAYLOAD",n.PAYLOAD)},transformReply:void 0}});var MV=o(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.SUGDEL"),e.pushKey(t),e.push(r)},transformReply:void 0}});var Cn=o(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.SUGGET"),e.pushKey(t),e.push(r),s?.FUZZY&&e.push("FUZZY"),s?.MAX!==void 0&&e.push("MAX",s.MAX.toString())},transformReply:void 0}});var NV=o(Dn=>{"use strict";var jTe=Dn&&Dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dn,"__esModule",{value:!0});var VTe=y(),IV=jTe(Cn());Dn.default={IS_READ_ONLY:IV.default.IS_READ_ONLY,parseCommand(...e){IV.default.parseCommand(...e),e[0].push("WITHPAYLOADS")},transformReply(e){if((0,VTe.isNullReply)(e))return null;let t=new Array(e.length/2),r=0,s=0;for(;r<e.length;)t[s++]={suggestion:e[r++],payload:e[r++]};return t}}});var FV=o(Tn=>{"use strict";var XTe=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tn,"__esModule",{value:!0});var YS=y(),LV=XTe(Cn());Tn.default={IS_READ_ONLY:LV.default.IS_READ_ONLY,parseCommand(...e){LV.default.parseCommand(...e),e[0].push("WITHSCORES","WITHPAYLOADS")},transformReply:{2:(e,t,r)=>{if((0,YS.isNullReply)(e))return null;let s=new Array(e.length/3),n=0,u=0;for(;n<e.length;)s[u++]={suggestion:e[n++],score:YS.transformDoubleReply[2](e[n++],t,r),payload:e[n++]};return s},3:e=>{if((0,YS.isNullReply)(e))return null;let t=new Array(e.length/3),r=0,s=0;for(;r<e.length;)t[s++]={suggestion:e[r++],score:e[r++],payload:e[r++]};return t}}}});var bV=o(Pn=>{"use strict";var WTe=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});var HS=y(),vV=WTe(Cn());Pn.default={IS_READ_ONLY:vV.default.IS_READ_ONLY,parseCommand(...e){vV.default.parseCommand(...e),e[0].push("WITHSCORES")},transformReply:{2:(e,t,r)=>{if((0,HS.isNullReply)(e))return null;let s=new Array(e.length/2),n=0,u=0;for(;n<e.length;)s[u++]={suggestion:e[n++],score:HS.transformDoubleReply[2](e[n++],t,r)};return s},3:e=>{if((0,HS.isNullReply)(e))return null;let t=new Array(e.length/2),r=0,s=0;for(;r<e.length;)t[s++]={suggestion:e[r++],score:e[r++]};return t}}}});var xV=o(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.SUGLEN",t)},transformReply:void 0}});var wV=o(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.SYNDUMP",t)},transformReply:{2:e=>{let t={},r=0;for(;r<e.length;){let s=e[r++].toString(),n=e[r++];t[s]=n}return t},3:void 0}}});var BV=o(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s,n){e.push("FT.SYNUPDATE",t,r),n?.SKIPINITIALSCAN&&e.push("SKIPINITIALSCAN"),e.pushVariadic(s)},transformReply:void 0}});var GV=o(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.TAGVALS",t,r)},transformReply:{2:void 0,3:void 0}}});var A7=o(qn=>{"use strict";var K=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qn,"__esModule",{value:!0});var UV=K(J4()),YV=K(eV()),HV=K(SS()),KV=K(yn()),zV=K(oV()),jV=K(aV()),VV=K(dV()),XV=K(lV()),WV=K(cV()),ZV=K($u()),$V=K(hV()),JV=K(fV()),QV=K(_V()),kV=K(mV()),e7=K(pV()),t7=K(EV()),r7=K(gV()),s7=K(yV()),n7=K(AV()),u7=K(RV()),i7=K(DV()),o7=K(TV()),a7=K(Mr()),d7=K(qV()),l7=K(OV()),c7=K(MV()),h7=K(NV()),f7=K(FV()),_7=K(bV()),m7=K(Cn()),p7=K(xV()),E7=K(wV()),g7=K(BV()),y7=K(GV());qn.default={_LIST:UV.default,_list:UV.default,ALTER:YV.default,alter:YV.default,AGGREGATE_WITHCURSOR:HV.default,aggregateWithCursor:HV.default,AGGREGATE:KV.default,aggregate:KV.default,ALIASADD:zV.default,aliasAdd:zV.default,ALIASDEL:jV.default,aliasDel:jV.default,ALIASUPDATE:VV.default,aliasUpdate:VV.default,CONFIG_GET:XV.default,configGet:XV.default,CONFIG_SET:WV.default,configSet:WV.default,CREATE:ZV.default,create:ZV.default,CURSOR_DEL:$V.default,cursorDel:$V.default,CURSOR_READ:JV.default,cursorRead:JV.default,DICTADD:QV.default,dictAdd:QV.default,DICTDEL:kV.default,dictDel:kV.default,DICTDUMP:e7.default,dictDump:e7.default,DROPINDEX:t7.default,dropIndex:t7.default,EXPLAIN:r7.default,explain:r7.default,EXPLAINCLI:s7.default,explainCli:s7.default,INFO:n7.default,info:n7.default,PROFILESEARCH:u7.default,profileSearch:u7.default,PROFILEAGGREGATE:i7.default,profileAggregate:i7.default,SEARCH_NOCONTENT:o7.default,searchNoContent:o7.default,SEARCH:a7.default,search:a7.default,SPELLCHECK:d7.default,spellCheck:d7.default,SUGADD:l7.default,sugAdd:l7.default,SUGDEL:c7.default,sugDel:c7.default,SUGGET_WITHPAYLOADS:h7.default,sugGetWithPayloads:h7.default,SUGGET_WITHSCORES_WITHPAYLOADS:f7.default,sugGetWithScoresWithPayloads:f7.default,SUGGET_WITHSCORES:_7.default,sugGetWithScores:_7.default,SUGGET:m7.default,sugGet:m7.default,SUGLEN:p7.default,sugLen:p7.default,SYNDUMP:E7.default,synDump:E7.default,SYNUPDATE:g7.default,synUpdate:g7.default,TAGVALS:y7.default,tagVals:y7.default}});var XS=o(ie=>{"use strict";var ZTe=ie&&ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ie,"__esModule",{value:!0});ie.FT_AGGREGATE_STEPS=ie.FT_AGGREGATE_GROUP_BY_REDUCERS=ie.SCHEMA_VECTOR_FIELD_ALGORITHM=ie.SCHEMA_TEXT_FIELD_PHONETIC=ie.SCHEMA_FIELD_TYPE=ie.REDISEARCH_LANGUAGE=ie.default=void 0;var $Te=A7();Object.defineProperty(ie,"default",{enumerable:!0,get:function(){return ZTe($Te).default}});var Qu=$u();Object.defineProperty(ie,"REDISEARCH_LANGUAGE",{enumerable:!0,get:function(){return Qu.REDISEARCH_LANGUAGE}});Object.defineProperty(ie,"SCHEMA_FIELD_TYPE",{enumerable:!0,get:function(){return Qu.SCHEMA_FIELD_TYPE}});Object.defineProperty(ie,"SCHEMA_TEXT_FIELD_PHONETIC",{enumerable:!0,get:function(){return Qu.SCHEMA_TEXT_FIELD_PHONETIC}});Object.defineProperty(ie,"SCHEMA_VECTOR_FIELD_ALGORITHM",{enumerable:!0,get:function(){return Qu.SCHEMA_VECTOR_FIELD_ALGORITHM}});var S7=yn();Object.defineProperty(ie,"FT_AGGREGATE_GROUP_BY_REDUCERS",{enumerable:!0,get:function(){return S7.FT_AGGREGATE_GROUP_BY_REDUCERS}});Object.defineProperty(ie,"FT_AGGREGATE_STEPS",{enumerable:!0,get:function(){return S7.FT_AGGREGATE_STEPS}})});var oe=o(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.transformRESP2LabelsWithSources=Y.transformRESP2Labels=Y.parseSelectedLabelsArguments=Y.resp3MapToValue=Y.resp2MapToValue=Y.transformSamplesReply=Y.transformSampleReply=Y.parseLabelsArgument=Y.transformTimestampArgument=Y.parseDuplicatePolicy=Y.TIME_SERIES_DUPLICATE_POLICIES=Y.parseChunkSizeArgument=Y.parseEncodingArgument=Y.TIME_SERIES_ENCODING=Y.parseRetentionArgument=Y.parseIgnoreArgument=void 0;var WS=on();function JTe(e,t){t!==void 0&&e.push("IGNORE",t.maxTimeDiff.toString(),t.maxValDiff.toString())}Y.parseIgnoreArgument=JTe;function QTe(e,t){t!==void 0&&e.push("RETENTION",t.toString())}Y.parseRetentionArgument=QTe;Y.TIME_SERIES_ENCODING={COMPRESSED:"COMPRESSED",UNCOMPRESSED:"UNCOMPRESSED"};function kTe(e,t){t!==void 0&&e.push("ENCODING",t)}Y.parseEncodingArgument=kTe;function ePe(e,t){t!==void 0&&e.push("CHUNK_SIZE",t.toString())}Y.parseChunkSizeArgument=ePe;Y.TIME_SERIES_DUPLICATE_POLICIES={BLOCK:"BLOCK",FIRST:"FIRST",LAST:"LAST",MIN:"MIN",MAX:"MAX",SUM:"SUM"};function tPe(e,t){t!==void 0&&e.push("DUPLICATE_POLICY",t)}Y.parseDuplicatePolicy=tPe;function rPe(e){return typeof e=="string"?e:(typeof e=="number"?e:e.getTime()).toString()}Y.transformTimestampArgument=rPe;function sPe(e,t){if(t){e.push("LABELS");for(let[r,s]of Object.entries(t))e.push(r,s)}}Y.parseLabelsArgument=sPe;Y.transformSampleReply={2(e){let[t,r]=e;return{timestamp:t,value:Number(r)}},3(e){let[t,r]=e;return{timestamp:t,value:r}}};Y.transformSamplesReply={2(e){return e.map(t=>Y.transformSampleReply[2](t))},3(e){return e.map(t=>Y.transformSampleReply[3](t))}};function nPe(e,t,r){let s=e;switch(r?.[WS.RESP_TYPES.MAP]){case Map:{let n=new Map;for(let u of s){let i=u,a=i[0];n.set(a.toString(),t(i))}return n}case Array:{for(let n of s){let u=n;u[1]=t(u)}return s}default:{let n=Object.create(null);for(let u of s){let i=u,a=i[0];n[a.toString()]=t(i)}return n}}}Y.resp2MapToValue=nPe;function uPe(e,t){let r=e;if(r instanceof Array)for(let s=1;s<r.length;s+=2)r[s]=t(r[s]);else if(r instanceof Map)for(let[s,n]of r.entries())r.set(s,t(n));else for(let[s,n]of Object.entries(r))r[s]=t(n);return r}Y.resp3MapToValue=uPe;function iPe(e,t){e.push("SELECTED_LABELS"),e.pushVariadic(t)}Y.parseSelectedLabelsArguments=iPe;function oPe(e,t){let r=e;switch(t?.[WS.RESP_TYPES.MAP]){case Map:let s=new Map;for(let u of r){let[i,a]=u,d=i;s.set(d.toString(),a)}return s;case Array:return r.flat();case Object:default:let n=Object.create(null);for(let u of r){let[i,a]=u,d=i;n[d.toString()]=a}return n}}Y.transformRESP2Labels=oPe;function aPe(e,t){let r=e,s=r.length-2,n;switch(t?.[WS.RESP_TYPES.MAP]){case Map:let d=new Map;for(let f=0;f<s;f++){let[_,p]=r[f],E=_;d.set(E.toString(),p)}n=d;break;case Array:n=r.slice(0,s).flat();break;case Object:default:let h=Object.create(null);for(let f=0;f<s;f++){let[_,p]=r[f],E=_;h[E.toString()]=p}n=h;break}let i=r[r.length-1],a=dPe(i[1]);return{labels:n,sources:a}}Y.transformRESP2LabelsWithSources=aPe;function dPe(e){let t=e;if(typeof t=="string")return t.split(",");let r=t.indexOf(",");if(r===-1)return[t];let s=[t.subarray(0,r)],n=r+1;for(;;){let u=t.indexOf(",",n);if(u===-1){s.push(t.subarray(n));break}let i=t.subarray(n,u);s.push(i),n=u+1}return s}});var R7=o(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});var Ir=oe();ZS.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n){e.push("TS.ADD"),e.pushKey(t),e.push((0,Ir.transformTimestampArgument)(r),s.toString()),(0,Ir.parseRetentionArgument)(e,n?.RETENTION),(0,Ir.parseEncodingArgument)(e,n?.ENCODING),(0,Ir.parseChunkSizeArgument)(e,n?.CHUNK_SIZE),n?.ON_DUPLICATE&&e.push("ON_DUPLICATE",n.ON_DUPLICATE),(0,Ir.parseLabelsArgument)(e,n?.LABELS),(0,Ir.parseIgnoreArgument)(e,n?.IGNORE)},transformReply:void 0}});var C7=o($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});var On=oe();$S.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.ALTER"),e.pushKey(t),(0,On.parseRetentionArgument)(e,r?.RETENTION),(0,On.parseChunkSizeArgument)(e,r?.CHUNK_SIZE),(0,On.parseDuplicatePolicy)(e,r?.DUPLICATE_POLICY),(0,On.parseLabelsArgument)(e,r?.LABELS),(0,On.parseIgnoreArgument)(e,r?.IGNORE)},transformReply:void 0}});var D7=o(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});var Nr=oe();JS.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.CREATE"),e.pushKey(t),(0,Nr.parseRetentionArgument)(e,r?.RETENTION),(0,Nr.parseEncodingArgument)(e,r?.ENCODING),(0,Nr.parseChunkSizeArgument)(e,r?.CHUNK_SIZE),(0,Nr.parseDuplicatePolicy)(e,r?.DUPLICATE_POLICY),(0,Nr.parseLabelsArgument)(e,r?.LABELS),(0,Nr.parseIgnoreArgument)(e,r?.IGNORE)},transformReply:void 0}});var QS=o(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.TIME_SERIES_AGGREGATION_TYPE=void 0;Mn.TIME_SERIES_AGGREGATION_TYPE={AVG:"AVG",FIRST:"FIRST",LAST:"LAST",MIN:"MIN",MAX:"MAX",SUM:"SUM",RANGE:"RANGE",COUNT:"COUNT",STD_P:"STD.P",STD_S:"STD.S",VAR_P:"VAR.P",VAR_S:"VAR.S",TWA:"TWA"};Mn.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s,n,u){e.push("TS.CREATERULE"),e.pushKeys([t,r]),e.push("AGGREGATION",s,n.toString()),u!==void 0&&e.push(u.toString())},transformReply:void 0}});var kS=o(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.parseIncrByArguments=void 0;var In=oe();function T7(e,t,r,s){e.pushKey(t),e.push(r.toString()),s?.TIMESTAMP!==void 0&&s?.TIMESTAMP!==null&&e.push("TIMESTAMP",(0,In.transformTimestampArgument)(s.TIMESTAMP)),(0,In.parseRetentionArgument)(e,s?.RETENTION),s?.UNCOMPRESSED&&e.push("UNCOMPRESSED"),(0,In.parseChunkSizeArgument)(e,s?.CHUNK_SIZE),(0,In.parseLabelsArgument)(e,s?.LABELS),(0,In.parseIgnoreArgument)(e,s?.IGNORE)}Nn.parseIncrByArguments=T7;Nn.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("TS.INCRBY"),T7(...e)},transformReply:void 0}});var P7=o(ct=>{"use strict";var lPe=ct&&ct.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),cPe=ct&&ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hPe=ct&&ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lPe(t,e,r);return cPe(t,e),t};Object.defineProperty(ct,"__esModule",{value:!0});var eR=hPe(kS());ct.default={IS_READ_ONLY:eR.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TS.DECRBY"),(0,eR.parseIncrByArguments)(...e)},transformReply:eR.default.transformReply}});var O7=o(tR=>{"use strict";Object.defineProperty(tR,"__esModule",{value:!0});var q7=oe();tR.default={IS_READ_ONLY:!1,parseCommand(e,t,r,s){e.push("TS.DEL"),e.pushKey(t),e.push((0,q7.transformTimestampArgument)(r),(0,q7.transformTimestampArgument)(s))},transformReply:void 0}});var M7=o(rR=>{"use strict";Object.defineProperty(rR,"__esModule",{value:!0});rR.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.DELETERULE"),e.pushKeys([t,r])},transformReply:void 0}});var I7=o(sR=>{"use strict";Object.defineProperty(sR,"__esModule",{value:!0});sR.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.GET"),e.pushKey(t),r?.LATEST&&e.push("LATEST")},transformReply:{2(e){return e.length===0?null:{timestamp:e[0],value:Number(e[1])}},3(e){return e.length===0?null:{timestamp:e[0],value:e[1]}}}}});var uR=o(nR=>{"use strict";Object.defineProperty(nR,"__esModule",{value:!0});var fPe=y();nR.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TS.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>{let s={};for(let n=0;n<e.length;n+=2){let u=e[n].toString();switch(u){case"totalSamples":case"memoryUsage":case"firstTimestamp":case"lastTimestamp":case"retentionTime":case"chunkCount":case"chunkSize":case"chunkType":case"duplicatePolicy":case"sourceKey":case"ignoreMaxTimeDiff":s[u]=e[n+1];break;case"labels":s[u]=e[n+1].map(([i,a])=>({name:i,value:a}));break;case"rules":s[u]=e[n+1].map(([i,a,d])=>({key:i,timeBucket:a,aggregationType:d}));break;case"ignoreMaxValDiff":s[u]=fPe.transformDoubleReply[2](e[27],void 0,r);break}}return s},3:void 0},unstableResp3:!0}});var N7=o(Ln=>{"use strict";var _Pe=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ln,"__esModule",{value:!0});var iR=_Pe(uR());Ln.default={IS_READ_ONLY:iR.default.IS_READ_ONLY,parseCommand(e,t){iR.default.parseCommand(e,t),e.push("DEBUG")},transformReply:{2:(e,t,r)=>{let s=iR.default.transformReply[2](e,t,r);for(let n=0;n<e.length;n+=2){let u=e[n].toString();switch(u){case"keySelfName":{s[u]=e[n+1];break}case"Chunks":{s.chunks=e[n+1].map(i=>({startTimestamp:i[1],endTimestamp:i[3],samples:i[5],size:i[7],bytesPerSample:i[9]}));break}}}return s},3:void 0},unstableResp3:!0}});var L7=o(oR=>{"use strict";Object.defineProperty(oR,"__esModule",{value:!0});var mPe=oe();oR.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("TS.MADD");for(let{key:r,timestamp:s,value:n}of t)e.pushKey(r),e.push((0,mPe.transformTimestampArgument)(s),n.toString())},transformReply:void 0}});var Be=o(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.parseFilterArgument=Vt.parseLatestArgument=void 0;var ku=oe();function F7(e,t){t&&e.push("LATEST")}Vt.parseLatestArgument=F7;function v7(e,t){e.push("FILTER"),e.pushVariadic(t)}Vt.parseFilterArgument=v7;Vt.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.MGET"),F7(e,r?.LATEST),v7(e,t)},transformReply:{2(e,t,r){return(0,ku.resp2MapToValue)(e,([,,s])=>({sample:ku.transformSampleReply[2](s)}),r)},3(e){return(0,ku.resp3MapToValue)(e,([,t])=>({sample:ku.transformSampleReply[3](t)}))}}}});var aR=o(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.createTransformMGetLabelsReply=void 0;var b7=Be(),Fn=oe();function x7(){return{2(e,t,r){return(0,Fn.resp2MapToValue)(e,([,s,n])=>({labels:(0,Fn.transformRESP2Labels)(s),sample:Fn.transformSampleReply[2](n)}),r)},3(e){return(0,Fn.resp3MapToValue)(e,([t,r])=>({labels:t,sample:Fn.transformSampleReply[3](r)}))}}}vn.createTransformMGetLabelsReply=x7;vn.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.MGET"),(0,b7.parseLatestArgument)(e,r?.LATEST),e.push("WITHLABELS"),(0,b7.parseFilterArgument)(e,t)},transformReply:x7()}});var B7=o(dR=>{"use strict";Object.defineProperty(dR,"__esModule",{value:!0});var w7=Be(),pPe=oe(),EPe=aR();dR.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("TS.MGET"),(0,w7.parseLatestArgument)(e,s?.LATEST),(0,pPe.parseSelectedLabelsArguments)(e,r),(0,w7.parseFilterArgument)(e,t)},transformReply:(0,EPe.createTransformMGetLabelsReply)()}});var Ge=o(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.transformRangeArguments=ht.parseRangeArguments=ht.TIME_SERIES_BUCKET_TIMESTAMP=void 0;var Xt=oe();ht.TIME_SERIES_BUCKET_TIMESTAMP={LOW:"-",MIDDLE:"~",END:"+"};function G7(e,t,r,s){if(e.push((0,Xt.transformTimestampArgument)(t),(0,Xt.transformTimestampArgument)(r)),s?.LATEST&&e.push("LATEST"),s?.FILTER_BY_TS){e.push("FILTER_BY_TS");for(let n of s.FILTER_BY_TS)e.push((0,Xt.transformTimestampArgument)(n))}s?.FILTER_BY_VALUE&&e.push("FILTER_BY_VALUE",s.FILTER_BY_VALUE.min.toString(),s.FILTER_BY_VALUE.max.toString()),s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString()),s?.AGGREGATION&&(s?.ALIGN!==void 0&&e.push("ALIGN",(0,Xt.transformTimestampArgument)(s.ALIGN)),e.push("AGGREGATION",s.AGGREGATION.type,(0,Xt.transformTimestampArgument)(s.AGGREGATION.timeBucket)),s.AGGREGATION.BUCKETTIMESTAMP&&e.push("BUCKETTIMESTAMP",s.AGGREGATION.BUCKETTIMESTAMP),s.AGGREGATION.EMPTY&&e.push("EMPTY"))}ht.parseRangeArguments=G7;function U7(e,t,r,s,n){e.pushKey(t),G7(e,r,s,n)}ht.transformRangeArguments=U7;ht.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TS.RANGE"),U7(...e)},transformReply:{2(e){return Xt.transformSamplesReply[2](e)},3(e){return Xt.transformSamplesReply[3](e)}}}});var Lr=o(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.extractResp3MRangeSources=Oe.createTransformMRangeGroupByArguments=Oe.parseGroupByArguments=Oe.TIME_SERIES_REDUCERS=void 0;var ei=oe(),gPe=Ge(),yPe=Be();Oe.TIME_SERIES_REDUCERS={AVG:"AVG",SUM:"SUM",MIN:"MIN",MAX:"MAX",RANGE:"RANGE",COUNT:"COUNT",STD_P:"STD.P",STD_S:"STD.S",VAR_P:"VAR.P",VAR_S:"VAR.S"};function Y7(e,t){e.push("GROUPBY",t.label,"REDUCE",t.REDUCE)}Oe.parseGroupByArguments=Y7;function H7(e){return(t,r,s,n,u,i)=>{t.push(e),(0,gPe.parseRangeArguments)(t,r,s,i),(0,yPe.parseFilterArgument)(t,n),Y7(t,u)}}Oe.createTransformMRangeGroupByArguments=H7;function K7(e){let t=e;return t instanceof Map?t.get("sources"):t instanceof Array?t[1]:t.sources}Oe.extractResp3MRangeSources=K7;Oe.default={IS_READ_ONLY:!0,parseCommand:H7("TS.MRANGE"),transformReply:{2(e,t,r){return(0,ei.resp2MapToValue)(e,([s,n,u])=>({samples:ei.transformSamplesReply[2](u)}),r)},3(e){return(0,ei.resp3MapToValue)(e,([t,r,s,n])=>({sources:K7(s),samples:ei.transformSamplesReply[3](n)}))}}}});var ti=o(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.createTransformMRangeSelectedLabelsArguments=void 0;var Fr=oe(),APe=Ge(),SPe=Be();function z7(e){return(t,r,s,n,u,i)=>{t.push(e),(0,APe.parseRangeArguments)(t,r,s,i),(0,Fr.parseSelectedLabelsArguments)(t,n),(0,SPe.parseFilterArgument)(t,u)}}bn.createTransformMRangeSelectedLabelsArguments=z7;bn.default={IS_READ_ONLY:!0,parseCommand:z7("TS.MRANGE"),transformReply:{2(e,t,r){return(0,Fr.resp2MapToValue)(e,([s,n,u])=>({labels:(0,Fr.transformRESP2Labels)(n,r),samples:Fr.transformSamplesReply[2](u)}),r)},3(e){return(0,Fr.resp3MapToValue)(e,([t,r,s])=>({labels:r,samples:Fr.transformSamplesReply[3](s)}))}}}});var cR=o(Wt=>{"use strict";var RPe=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createMRangeSelectedLabelsGroupByTransformArguments=void 0;var lR=oe(),CPe=Ge(),j7=Lr(),DPe=Be(),TPe=RPe(ti());function V7(e){return(t,r,s,n,u,i,a)=>{t.push(e),(0,CPe.parseRangeArguments)(t,r,s,a),(0,lR.parseSelectedLabelsArguments)(t,n),(0,DPe.parseFilterArgument)(t,u),(0,j7.parseGroupByArguments)(t,i)}}Wt.createMRangeSelectedLabelsGroupByTransformArguments=V7;Wt.default={IS_READ_ONLY:!0,parseCommand:V7("TS.MRANGE"),transformReply:{2:TPe.default.transformReply[2],3(e){return(0,lR.resp3MapToValue)(e,([t,r,s,n])=>({labels:t,sources:(0,j7.extractResp3MRangeSources)(s),samples:lR.transformSamplesReply[3](n)}))}}}});var hR=o(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.createMRangeWithLabelsGroupByTransformArguments=void 0;var xn=oe(),PPe=Ge(),X7=Lr(),qPe=Be();function W7(e){return(t,r,s,n,u,i)=>{t.push(e),(0,PPe.parseRangeArguments)(t,r,s,i),t.push("WITHLABELS"),(0,qPe.parseFilterArgument)(t,n),(0,X7.parseGroupByArguments)(t,u)}}wn.createMRangeWithLabelsGroupByTransformArguments=W7;wn.default={IS_READ_ONLY:!0,parseCommand:W7("TS.MRANGE"),transformReply:{2(e,t,r){return(0,xn.resp2MapToValue)(e,([s,n,u])=>{let i=(0,xn.transformRESP2LabelsWithSources)(n);return{labels:i.labels,sources:i.sources,samples:xn.transformSamplesReply[2](u)}},r)},3(e){return(0,xn.resp3MapToValue)(e,([t,r,s,n])=>({labels:t,sources:(0,X7.extractResp3MRangeSources)(s),samples:xn.transformSamplesReply[3](n)}))}}}});var fR=o(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.createTransformMRangeWithLabelsArguments=void 0;var ri=oe(),OPe=Ge(),MPe=Be();function Z7(e){return(t,r,s,n,u)=>{t.push(e),(0,OPe.parseRangeArguments)(t,r,s,u),t.push("WITHLABELS"),(0,MPe.parseFilterArgument)(t,n)}}Bn.createTransformMRangeWithLabelsArguments=Z7;Bn.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand:Z7("TS.MRANGE"),transformReply:{2(e,t,r){return(0,ri.resp2MapToValue)(e,([s,n,u])=>{let i=n,a=Object.create(null);for(let d of i){let[h,f]=d,_=h;a[_.toString()]=f}return{labels:a,samples:ri.transformSamplesReply[2](u)}},r)},3(e){return(0,ri.resp3MapToValue)(e,([t,r,s])=>({labels:t,samples:ri.transformSamplesReply[3](s)}))}}}});var _R=o(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.createTransformMRangeArguments=void 0;var si=oe(),IPe=Ge(),NPe=Be();function $7(e){return(t,r,s,n,u)=>{t.push(e),(0,IPe.parseRangeArguments)(t,r,s,u),(0,NPe.parseFilterArgument)(t,n)}}Gn.createTransformMRangeArguments=$7;Gn.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand:$7("TS.MRANGE"),transformReply:{2(e,t,r){return(0,si.resp2MapToValue)(e,([s,n,u])=>si.transformSamplesReply[2](u),r)},3(e){return(0,si.resp3MapToValue)(e,([t,r,s])=>si.transformSamplesReply[3](s))}}}});var J7=o(ft=>{"use strict";var LPe=ft&&ft.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),FPe=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vPe=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LPe(t,e,r);return FPe(t,e),t};Object.defineProperty(ft,"__esModule",{value:!0});var mR=vPe(Lr());ft.default={IS_READ_ONLY:mR.default.IS_READ_ONLY,parseCommand:(0,mR.createTransformMRangeGroupByArguments)("TS.MREVRANGE"),transformReply:mR.default.transformReply}});var Q7=o(_t=>{"use strict";var bPe=_t&&_t.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),xPe=_t&&_t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wPe=_t&&_t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bPe(t,e,r);return xPe(t,e),t};Object.defineProperty(_t,"__esModule",{value:!0});var pR=wPe(cR());_t.default={IS_READ_ONLY:pR.default.IS_READ_ONLY,parseCommand:(0,pR.createMRangeSelectedLabelsGroupByTransformArguments)("TS.MREVRANGE"),transformReply:pR.default.transformReply}});var k7=o(mt=>{"use strict";var BPe=mt&&mt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),GPe=mt&&mt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UPe=mt&&mt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BPe(t,e,r);return GPe(t,e),t};Object.defineProperty(mt,"__esModule",{value:!0});var ER=UPe(ti());mt.default={IS_READ_ONLY:ER.default.IS_READ_ONLY,parseCommand:(0,ER.createTransformMRangeSelectedLabelsArguments)("TS.MREVRANGE"),transformReply:ER.default.transformReply}});var eX=o(pt=>{"use strict";var YPe=pt&&pt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),HPe=pt&&pt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KPe=pt&&pt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YPe(t,e,r);return HPe(t,e),t};Object.defineProperty(pt,"__esModule",{value:!0});var gR=KPe(hR());pt.default={IS_READ_ONLY:gR.default.IS_READ_ONLY,parseCommand:(0,gR.createMRangeWithLabelsGroupByTransformArguments)("TS.MREVRANGE"),transformReply:gR.default.transformReply}});var tX=o(Et=>{"use strict";var zPe=Et&&Et.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),jPe=Et&&Et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VPe=Et&&Et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zPe(t,e,r);return jPe(t,e),t};Object.defineProperty(Et,"__esModule",{value:!0});var ni=VPe(fR());Et.default={NOT_KEYED_COMMAND:ni.default.NOT_KEYED_COMMAND,IS_READ_ONLY:ni.default.IS_READ_ONLY,parseCommand:(0,ni.createTransformMRangeWithLabelsArguments)("TS.MREVRANGE"),transformReply:ni.default.transformReply}});var rX=o(gt=>{"use strict";var XPe=gt&&gt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),WPe=gt&&gt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ZPe=gt&&gt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XPe(t,e,r);return WPe(t,e),t};Object.defineProperty(gt,"__esModule",{value:!0});var ui=ZPe(_R());gt.default={NOT_KEYED_COMMAND:ui.default.NOT_KEYED_COMMAND,IS_READ_ONLY:ui.default.IS_READ_ONLY,parseCommand:(0,ui.createTransformMRangeArguments)("TS.MREVRANGE"),transformReply:ui.default.transformReply}});var sX=o(yR=>{"use strict";Object.defineProperty(yR,"__esModule",{value:!0});yR.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("TS.QUERYINDEX"),e.pushVariadic(t)},transformReply:{2:void 0,3:void 0}}});var nX=o(yt=>{"use strict";var $Pe=yt&&yt.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),JPe=yt&&yt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QPe=yt&&yt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$Pe(t,e,r);return JPe(t,e),t};Object.defineProperty(yt,"__esModule",{value:!0});var AR=QPe(Ge());yt.default={IS_READ_ONLY:AR.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TS.REVRANGE"),(0,AR.transformRangeArguments)(...e)},transformReply:AR.default.transformReply}});var bX=o(Ue=>{"use strict";var kPe=Ue&&Ue.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),e0e=Ue&&Ue.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kPe(t,e,r)},X=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});var uX=X(R7()),iX=X(C7()),oX=X(D7()),aX=X(QS()),dX=X(P7()),lX=X(O7()),cX=X(M7()),hX=X(I7()),fX=X(kS()),_X=X(N7()),mX=X(uR()),pX=X(L7()),EX=X(B7()),gX=X(aR()),yX=X(Be()),AX=X(Lr()),SX=X(cR()),RX=X(ti()),CX=X(hR()),DX=X(fR()),TX=X(_R()),PX=X(J7()),qX=X(Q7()),OX=X(k7()),MX=X(eX()),IX=X(tX()),NX=X(rX()),LX=X(sX()),FX=X(Ge()),vX=X(nX());e0e(oe(),Ue);Ue.default={ADD:uX.default,add:uX.default,ALTER:iX.default,alter:iX.default,CREATE:oX.default,create:oX.default,CREATERULE:aX.default,createRule:aX.default,DECRBY:dX.default,decrBy:dX.default,DEL:lX.default,del:lX.default,DELETERULE:cX.default,deleteRule:cX.default,GET:hX.default,get:hX.default,INCRBY:fX.default,incrBy:fX.default,INFO_DEBUG:_X.default,infoDebug:_X.default,INFO:mX.default,info:mX.default,MADD:pX.default,mAdd:pX.default,MGET_SELECTED_LABELS:EX.default,mGetSelectedLabels:EX.default,MGET_WITHLABELS:gX.default,mGetWithLabels:gX.default,MGET:yX.default,mGet:yX.default,MRANGE_GROUPBY:AX.default,mRangeGroupBy:AX.default,MRANGE_SELECTED_LABELS_GROUPBY:SX.default,mRangeSelectedLabelsGroupBy:SX.default,MRANGE_SELECTED_LABELS:RX.default,mRangeSelectedLabels:RX.default,MRANGE_WITHLABELS_GROUPBY:CX.default,mRangeWithLabelsGroupBy:CX.default,MRANGE_WITHLABELS:DX.default,mRangeWithLabels:DX.default,MRANGE:TX.default,mRange:TX.default,MREVRANGE_GROUPBY:PX.default,mRevRangeGroupBy:PX.default,MREVRANGE_SELECTED_LABELS_GROUPBY:qX.default,mRevRangeSelectedLabelsGroupBy:qX.default,MREVRANGE_SELECTED_LABELS:OX.default,mRevRangeSelectedLabels:OX.default,MREVRANGE_WITHLABELS_GROUPBY:MX.default,mRevRangeWithLabelsGroupBy:MX.default,MREVRANGE_WITHLABELS:IX.default,mRevRangeWithLabels:IX.default,MREVRANGE:NX.default,mRevRange:NX.default,QUERYINDEX:LX.default,queryIndex:LX.default,RANGE:FX.default,range:FX.default,REVRANGE:vX.default,revRange:vX.default}});var RR=o(ce=>{"use strict";var t0e=ce&&ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.TIME_SERIES_REDUCERS=ce.TIME_SERIES_BUCKET_TIMESTAMP=ce.TIME_SERIES_AGGREGATION_TYPE=ce.TIME_SERIES_DUPLICATE_POLICIES=ce.TIME_SERIES_ENCODING=ce.default=void 0;var SR=bX();Object.defineProperty(ce,"default",{enumerable:!0,get:function(){return t0e(SR).default}});Object.defineProperty(ce,"TIME_SERIES_ENCODING",{enumerable:!0,get:function(){return SR.TIME_SERIES_ENCODING}});Object.defineProperty(ce,"TIME_SERIES_DUPLICATE_POLICIES",{enumerable:!0,get:function(){return SR.TIME_SERIES_DUPLICATE_POLICIES}});var r0e=QS();Object.defineProperty(ce,"TIME_SERIES_AGGREGATION_TYPE",{enumerable:!0,get:function(){return r0e.TIME_SERIES_AGGREGATION_TYPE}});var s0e=Ge();Object.defineProperty(ce,"TIME_SERIES_BUCKET_TIMESTAMP",{enumerable:!0,get:function(){return s0e.TIME_SERIES_BUCKET_TIMESTAMP}});var n0e=Lr();Object.defineProperty(ce,"TIME_SERIES_REDUCERS",{enumerable:!0,get:function(){return n0e.TIME_SERIES_REDUCERS}})});var xX=o(re=>{"use strict";var u0e=re&&re.__createBinding||(Object.create?function(e,t,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}),Un=re&&re.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&u0e(t,e,r)},ii=re&&re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(re,"__esModule",{value:!0});re.createSentinel=re.createCluster=re.createClient=void 0;var CR=on(),i0e=ii(zA()),o0e=ii(pS()),a0e=ii(XS()),d0e=ii(RR());Un(on(),re);Un(zA(),re);Un(pS(),re);Un(XS(),re);Un(RR(),re);var DR={...i0e.default,json:o0e.default,ft:a0e.default,ts:d0e.default};function l0e(e){return(0,CR.createClient)({...e,modules:{...DR,...e?.modules}})}re.createClient=l0e;function c0e(e){return(0,CR.createCluster)({...e,modules:{...DR,...e?.modules}})}re.createCluster=c0e;function h0e(e){return(0,CR.createSentinel)({...e,modules:{...DR,...e?.modules}})}re.createSentinel=h0e});var S0e={};XX(S0e,{handler:()=>m0e});module.exports=WX(S0e);var BX=require("@aws-sdk/client-dynamodb"),vr=require("@aws-sdk/lib-dynamodb"),di=require("@aws-sdk/client-cloudwatch");var St=xr(Mv(),1);var Iv=St.default.Client,uve=St.default.Transport,ive=St.default.ConnectionPool,ove=St.default.Connection,ave=St.default.Serializer,dve=St.default.events,lve=St.default.errors;var kv=xr(Xv()),eb=require("@aws-sdk/credential-provider-node"),hu=require("@aws-sdk/client-cloudwatch");var Wv=require("@aws-sdk/client-bedrock-runtime"),du=class{constructor(t="us-west-2"){this.client=new Wv.BedrockRuntimeClient({region:t});let r=parseInt(process.env.EMBEDDING_DIM||"1536");this.dimensions=Number.isFinite(r)&&r>0?r:1536}async generateEmbeddings(t){return console.warn("BedrockService: Using shim implementation with zero-filled vectors"),new Array(this.dimensions).fill(0)}async generateBatchEmbeddings(t){return await Promise.all(t.map(s=>this.generateEmbeddings(s)))}async generateEmbeddingsProduction(t){return[]}};var Oye=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,$v=new Set,Th=typeof process=="object"&&process?process:{},Jv=(e,t,r,s)=>{typeof Th.emitWarning=="function"?Th.emitWarning(e,t,r,s):console.error(`[${r}] ${t}: ${e}`)},lu=globalThis.AbortController,Zv=globalThis.AbortSignal;if(typeof lu>"u"){Zv=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},lu=class{constructor(){t()}signal=new Zv;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(let n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let e=Th.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,Jv("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var Mye=e=>!$v.has(e),Rve=Symbol("type"),Rt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Qv=e=>Rt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?rr:null:null,rr=class extends Array{constructor(t){super(t),this.fill(0)}},Ph=class e{heap;length;static#e=!1;static create(t){let r=Qv(t);if(!r)return[];e.#e=!0;let s=new e(t,r);return e.#e=!1,s}constructor(t,r){if(!e.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},sr=class e{#e;#t;#r;#s;#n;#a;#u;#i;get perf(){return this.#i}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#p;#f;#d;#o;#h;#E;#m;#g;#A;#_;#C;#S;#y;#D;#c;#T;#O;static unsafeExposeInternals(t){return{starts:t.#S,ttls:t.#y,sizes:t.#C,keyMap:t.#f,keyList:t.#d,valList:t.#o,next:t.#h,prev:t.#E,get head(){return t.#m},get tail(){return t.#g},free:t.#A,isBackgroundFetch:r=>t.#R(r),backgroundFetch:(r,s,n,u)=>t.#U(r,s,n,u),moveToTail:r=>t.#w(r),indexes:r=>t.#v(r),rindexes:r=>t.#F(r),isStale:r=>t.#I(r)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#p}get size(){return this.#l}get fetchMethod(){return this.#a}get memoMethod(){return this.#u}get dispose(){return this.#r}get onInsert(){return this.#s}get disposeAfter(){return this.#n}constructor(t){let{max:r=0,ttl:s,ttlResolution:n=1,ttlAutopurge:u,updateAgeOnGet:i,updateAgeOnHas:a,allowStale:d,dispose:h,onInsert:f,disposeAfter:_,noDisposeOnSet:p,noUpdateTTL:E,maxSize:x=0,maxEntrySize:P=0,sizeCalculation:C,fetchMethod:g,memoMethod:S,noDeleteOnFetchRejection:q,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:m,ignoreFetchAbort:R,perf:w}=t;if(w!==void 0&&typeof w?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#i=w??Oye,r!==0&&!Rt(r))throw new TypeError("max option must be a nonnegative integer");let N=r?Qv(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.#e=r,this.#t=x,this.maxEntrySize=P||this.#t,this.sizeCalculation=C,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(S!==void 0&&typeof S!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#u=S,g!==void 0&&typeof g!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#a=g,this.#c=!!g,this.#f=new Map,this.#d=new Array(r).fill(void 0),this.#o=new Array(r).fill(void 0),this.#h=new N(r),this.#E=new N(r),this.#m=0,this.#g=0,this.#A=Ph.create(r),this.#l=0,this.#p=0,typeof h=="function"&&(this.#r=h),typeof f=="function"&&(this.#s=f),typeof _=="function"?(this.#n=_,this.#_=[]):(this.#n=void 0,this.#_=void 0),this.#D=!!this.#r,this.#O=!!this.#s,this.#T=!!this.#n,this.noDisposeOnSet=!!p,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!q,this.allowStaleOnFetchRejection=!!O,this.allowStaleOnFetchAbort=!!m,this.ignoreFetchAbort=!!R,this.maxEntrySize!==0){if(this.#t!==0&&!Rt(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Rt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#N()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!a,this.ttlResolution=Rt(n)||n===0?n:1,this.ttlAutopurge=!!u,this.ttl=s||0,this.ttl){if(!Rt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let B="LRU_CACHE_UNBOUNDED";Mye(B)&&($v.add(B),Jv("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",B,e))}}getRemainingTTL(t){return this.#f.has(t)?1/0:0}#P(){let t=new rr(this.#e),r=new rr(this.#e);this.#y=t,this.#S=r,this.#b=(u,i,a=this.#i.now())=>{if(r[u]=i!==0?a:0,t[u]=i,i!==0&&this.ttlAutopurge){let d=setTimeout(()=>{this.#I(u)&&this.#q(this.#d[u],"expire")},i+1);d.unref&&d.unref()}},this.#M=u=>{r[u]=t[u]!==0?this.#i.now():0},this.#L=(u,i)=>{if(t[i]){let a=t[i],d=r[i];if(!a||!d)return;u.ttl=a,u.start=d,u.now=s||n();let h=u.now-d;u.remainingTTL=a-h}};let s=0,n=()=>{let u=this.#i.now();if(this.ttlResolution>0){s=u;let i=setTimeout(()=>s=0,this.ttlResolution);i.unref&&i.unref()}return u};this.getRemainingTTL=u=>{let i=this.#f.get(u);if(i===void 0)return 0;let a=t[i],d=r[i];if(!a||!d)return 1/0;let h=(s||n())-d;return a-h},this.#I=u=>{let i=r[u],a=t[u];return!!a&&!!i&&(s||n())-i>a}}#M=()=>{};#L=()=>{};#b=()=>{};#I=()=>!1;#N(){let t=new rr(this.#e);this.#p=0,this.#C=t,this.#x=r=>{this.#p-=t[r],t[r]=0},this.#V=(r,s,n,u)=>{if(this.#R(s))return 0;if(!Rt(n))if(u){if(typeof u!="function")throw new TypeError("sizeCalculation must be a function");if(n=u(s,r),!Rt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#B=(r,s,n)=>{if(t[r]=s,this.#t){let u=this.#t-t[r];for(;this.#p>u;)this.#G(!0)}this.#p+=t[r],n&&(n.entrySize=s,n.totalCalculatedSize=this.#p)}}#x=t=>{};#B=(t,r,s)=>{};#V=(t,r,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#v({allowStale:t=this.allowStale}={}){if(this.#l)for(let r=this.#g;!(!this.#X(r)||((t||!this.#I(r))&&(yield r),r===this.#m));)r=this.#E[r]}*#F({allowStale:t=this.allowStale}={}){if(this.#l)for(let r=this.#m;!(!this.#X(r)||((t||!this.#I(r))&&(yield r),r===this.#g));)r=this.#h[r]}#X(t){return t!==void 0&&this.#f.get(this.#d[t])===t}*entries(){for(let t of this.#v())this.#o[t]!==void 0&&this.#d[t]!==void 0&&!this.#R(this.#o[t])&&(yield[this.#d[t],this.#o[t]])}*rentries(){for(let t of this.#F())this.#o[t]!==void 0&&this.#d[t]!==void 0&&!this.#R(this.#o[t])&&(yield[this.#d[t],this.#o[t]])}*keys(){for(let t of this.#v()){let r=this.#d[t];r!==void 0&&!this.#R(this.#o[t])&&(yield r)}}*rkeys(){for(let t of this.#F()){let r=this.#d[t];r!==void 0&&!this.#R(this.#o[t])&&(yield r)}}*values(){for(let t of this.#v())this.#o[t]!==void 0&&!this.#R(this.#o[t])&&(yield this.#o[t])}*rvalues(){for(let t of this.#F())this.#o[t]!==void 0&&!this.#R(this.#o[t])&&(yield this.#o[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,r={}){for(let s of this.#v()){let n=this.#o[s],u=this.#R(n)?n.__staleWhileFetching:n;if(u!==void 0&&t(u,this.#d[s],this))return this.get(this.#d[s],r)}}forEach(t,r=this){for(let s of this.#v()){let n=this.#o[s],u=this.#R(n)?n.__staleWhileFetching:n;u!==void 0&&t.call(r,u,this.#d[s],this)}}rforEach(t,r=this){for(let s of this.#F()){let n=this.#o[s],u=this.#R(n)?n.__staleWhileFetching:n;u!==void 0&&t.call(r,u,this.#d[s],this)}}purgeStale(){let t=!1;for(let r of this.#F({allowStale:!0}))this.#I(r)&&(this.#q(this.#d[r],"expire"),t=!0);return t}info(t){let r=this.#f.get(t);if(r===void 0)return;let s=this.#o[r],n=this.#R(s)?s.__staleWhileFetching:s;if(n===void 0)return;let u={value:n};if(this.#y&&this.#S){let i=this.#y[r],a=this.#S[r];if(i&&a){let d=i-(this.#i.now()-a);u.ttl=d,u.start=Date.now()}}return this.#C&&(u.size=this.#C[r]),u}dump(){let t=[];for(let r of this.#v({allowStale:!0})){let s=this.#d[r],n=this.#o[r],u=this.#R(n)?n.__staleWhileFetching:n;if(u===void 0||s===void 0)continue;let i={value:u};if(this.#y&&this.#S){i.ttl=this.#y[r];let a=this.#i.now()-this.#S[r];i.start=Math.floor(Date.now()-a)}this.#C&&(i.size=this.#C[r]),t.unshift([s,i])}return t}load(t){this.clear();for(let[r,s]of t){if(s.start){let n=Date.now()-s.start;s.start=this.#i.now()-n}this.set(r,s.value,s)}}set(t,r,s={}){if(r===void 0)return this.delete(t),this;let{ttl:n=this.ttl,start:u,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:d}=s,{noUpdateTTL:h=this.noUpdateTTL}=s,f=this.#V(t,r,s.size||0,a);if(this.maxEntrySize&&f>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.#q(t,"set"),this;let _=this.#l===0?void 0:this.#f.get(t);if(_===void 0)_=this.#l===0?this.#g:this.#A.length!==0?this.#A.pop():this.#l===this.#e?this.#G(!1):this.#l,this.#d[_]=t,this.#o[_]=r,this.#f.set(t,_),this.#h[this.#g]=_,this.#E[_]=this.#g,this.#g=_,this.#l++,this.#B(_,f,d),d&&(d.set="add"),h=!1,this.#O&&this.#s?.(r,t,"add");else{this.#w(_);let p=this.#o[_];if(r!==p){if(this.#c&&this.#R(p)){p.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:E}=p;E!==void 0&&!i&&(this.#D&&this.#r?.(E,t,"set"),this.#T&&this.#_?.push([E,t,"set"]))}else i||(this.#D&&this.#r?.(p,t,"set"),this.#T&&this.#_?.push([p,t,"set"]));if(this.#x(_),this.#B(_,f,d),this.#o[_]=r,d){d.set="replace";let E=p&&this.#R(p)?p.__staleWhileFetching:p;E!==void 0&&(d.oldValue=E)}}else d&&(d.set="update");this.#O&&this.onInsert?.(r,t,r===p?"update":"replace")}if(n!==0&&!this.#y&&this.#P(),this.#y&&(h||this.#b(_,n,u),d&&this.#L(d,_)),!i&&this.#T&&this.#_){let p=this.#_,E;for(;E=p?.shift();)this.#n?.(...E)}return this}pop(){try{for(;this.#l;){let t=this.#o[this.#m];if(this.#G(!0),this.#R(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#T&&this.#_){let t=this.#_,r;for(;r=t?.shift();)this.#n?.(...r)}}}#G(t){let r=this.#m,s=this.#d[r],n=this.#o[r];return this.#c&&this.#R(n)?n.__abortController.abort(new Error("evicted")):(this.#D||this.#T)&&(this.#D&&this.#r?.(n,s,"evict"),this.#T&&this.#_?.push([n,s,"evict"])),this.#x(r),t&&(this.#d[r]=void 0,this.#o[r]=void 0,this.#A.push(r)),this.#l===1?(this.#m=this.#g=0,this.#A.length=0):this.#m=this.#h[r],this.#f.delete(s),this.#l--,r}has(t,r={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=r,u=this.#f.get(t);if(u!==void 0){let i=this.#o[u];if(this.#R(i)&&i.__staleWhileFetching===void 0)return!1;if(this.#I(u))n&&(n.has="stale",this.#L(n,u));else return s&&this.#M(u),n&&(n.has="hit",this.#L(n,u)),!0}else n&&(n.has="miss");return!1}peek(t,r={}){let{allowStale:s=this.allowStale}=r,n=this.#f.get(t);if(n===void 0||!s&&this.#I(n))return;let u=this.#o[n];return this.#R(u)?u.__staleWhileFetching:u}#U(t,r,s,n){let u=r===void 0?void 0:this.#o[r];if(this.#R(u))return u;let i=new lu,{signal:a}=s;a?.addEventListener("abort",()=>i.abort(a.reason),{signal:i.signal});let d={signal:i.signal,options:s,context:n},h=(P,C=!1)=>{let{aborted:g}=i.signal,S=s.ignoreFetchAbort&&P!==void 0;if(s.status&&(g&&!C?(s.status.fetchAborted=!0,s.status.fetchError=i.signal.reason,S&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!S&&!C)return _(i.signal.reason);let q=E;return this.#o[r]===E&&(P===void 0?q.__staleWhileFetching!==void 0?this.#o[r]=q.__staleWhileFetching:this.#q(t,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(t,P,d.options))),P},f=P=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=P),_(P)),_=P=>{let{aborted:C}=i.signal,g=C&&s.allowStaleOnFetchAbort,S=g||s.allowStaleOnFetchRejection,q=S||s.noDeleteOnFetchRejection,I=E;if(this.#o[r]===E&&(!q||I.__staleWhileFetching===void 0?this.#q(t,"fetch"):g||(this.#o[r]=I.__staleWhileFetching)),S)return s.status&&I.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),I.__staleWhileFetching;if(I.__returned===I)throw P},p=(P,C)=>{let g=this.#a?.(t,u,d);g&&g instanceof Promise&&g.then(S=>P(S===void 0?void 0:S),C),i.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(P(void 0),s.allowStaleOnFetchAbort&&(P=S=>h(S,!0)))})};s.status&&(s.status.fetchDispatched=!0);let E=new Promise(p).then(h,f),x=Object.assign(E,{__abortController:i,__staleWhileFetching:u,__returned:void 0});return r===void 0?(this.set(t,x,{...d.options,status:void 0}),r=this.#f.get(t)):this.#o[r]=x,x}#R(t){if(!this.#c)return!1;let r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof lu}async fetch(t,r={}){let{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:u=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:d=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:_=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:x=this.allowStaleOnFetchAbort,context:P,forceRefresh:C=!1,status:g,signal:S}=r;if(!this.#c)return g&&(g.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:u,status:g});let q={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:u,ttl:i,noDisposeOnSet:a,size:d,sizeCalculation:h,noUpdateTTL:f,noDeleteOnFetchRejection:_,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:x,ignoreFetchAbort:E,status:g,signal:S},I=this.#f.get(t);if(I===void 0){g&&(g.fetch="miss");let O=this.#U(t,I,q,P);return O.__returned=O}else{let O=this.#o[I];if(this.#R(O)){let B=s&&O.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",B&&(g.returnedStale=!0)),B?O.__staleWhileFetching:O.__returned=O}let m=this.#I(I);if(!C&&!m)return g&&(g.fetch="hit"),this.#w(I),n&&this.#M(I),g&&this.#L(g,I),O;let R=this.#U(t,I,q,P),N=R.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=m?"stale":"refresh",N&&m&&(g.returnedStale=!0)),N?R.__staleWhileFetching:R.__returned=R}}async forceFetch(t,r={}){let s=await this.fetch(t,r);if(s===void 0)throw new Error("fetch() returned undefined");return s}memo(t,r={}){let s=this.#u;if(!s)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:u,...i}=r,a=this.get(t,i);if(!u&&a!==void 0)return a;let d=s(t,a,{options:i,context:n});return this.set(t,d,i),d}get(t,r={}){let{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:u=this.noDeleteOnStaleGet,status:i}=r,a=this.#f.get(t);if(a!==void 0){let d=this.#o[a],h=this.#R(d);return i&&this.#L(i,a),this.#I(a)?(i&&(i.get="stale"),h?(i&&s&&d.__staleWhileFetching!==void 0&&(i.returnedStale=!0),s?d.__staleWhileFetching:void 0):(u||this.#q(t,"expire"),i&&s&&(i.returnedStale=!0),s?d:void 0)):(i&&(i.get="hit"),h?d.__staleWhileFetching:(this.#w(a),n&&this.#M(a),d))}else i&&(i.get="miss")}#H(t,r){this.#E[r]=t,this.#h[t]=r}#w(t){t!==this.#g&&(t===this.#m?this.#m=this.#h[t]:this.#H(this.#E[t],this.#h[t]),this.#H(this.#g,t),this.#g=t)}delete(t){return this.#q(t,"delete")}#q(t,r){let s=!1;if(this.#l!==0){let n=this.#f.get(t);if(n!==void 0)if(s=!0,this.#l===1)this.#Y(r);else{this.#x(n);let u=this.#o[n];if(this.#R(u)?u.__abortController.abort(new Error("deleted")):(this.#D||this.#T)&&(this.#D&&this.#r?.(u,t,r),this.#T&&this.#_?.push([u,t,r])),this.#f.delete(t),this.#d[n]=void 0,this.#o[n]=void 0,n===this.#g)this.#g=this.#E[n];else if(n===this.#m)this.#m=this.#h[n];else{let i=this.#E[n];this.#h[i]=this.#h[n];let a=this.#h[n];this.#E[a]=this.#E[n]}this.#l--,this.#A.push(n)}}if(this.#T&&this.#_?.length){let n=this.#_,u;for(;u=n?.shift();)this.#n?.(...u)}return s}clear(){return this.#Y("delete")}#Y(t){for(let r of this.#F({allowStale:!0})){let s=this.#o[r];if(this.#R(s))s.__abortController.abort(new Error("deleted"));else{let n=this.#d[r];this.#D&&this.#r?.(s,n,t),this.#T&&this.#_?.push([s,n,t])}}if(this.#f.clear(),this.#o.fill(void 0),this.#d.fill(void 0),this.#y&&this.#S&&(this.#y.fill(0),this.#S.fill(0)),this.#C&&this.#C.fill(0),this.#m=0,this.#g=0,this.#A.length=0,this.#p=0,this.#l=0,this.#T&&this.#_){let r=this.#_,s;for(;s=r?.shift();)this.#n?.(...s)}}};var cu=class{constructor(t=process.env.OPENSEARCH_ENDPOINT||"",r=process.env.AWS_REGION||"us-west-2"){this.openSearchClient=new Iv({...(0,kv.AwsSigv4Signer)({region:r,service:"aoss",getCredentials:()=>(0,eb.defaultProvider)()()}),node:t}),this.bedrockService=new du(r),this.cloudWatchClient=new hu.CloudWatchClient({region:r}),this.indexName=process.env.HELIX_INDEX_NAME||"helix-patterns",this.l1Cache=new sr({max:100,ttl:1e3*60*5,updateAgeOnGet:!0,updateAgeOnHas:!0})}async initializeIndex(){(await this.openSearchClient.indices.exists({index:this.indexName})).body||await this.openSearchClient.indices.create({index:this.indexName,body:{settings:{"index.knn":!0,"index.knn.algo_param.ef_search":512,number_of_shards:2,number_of_replicas:1},mappings:{properties:{patternId:{type:"keyword"},version:{type:"long"},embedding:{type:"knn_vector",dimension:1536,method:{name:"hnsw",space_type:"cosinesimil",engine:"nmslib",parameters:{ef_construction:512,m:16}}},content:{type:"text"},keywords:{type:"keyword"},context:{type:"object",enabled:!1},projectId:{type:"keyword"},agentType:{type:"keyword"},successRate:{type:"float"},usageCount:{type:"long"},lastUsed:{type:"date"},createdAt:{type:"date"},updatedAt:{type:"date"}}}}})}async indexPatternsBatch(t){let r=Date.now(),s=[];for(let n of t){let u=this.l1Cache.get(n.patternId);u&&u.version>=n.version||((!n.embedding||n.embedding.length===0)&&(n.embedding=await this.bedrockService.generateEmbeddings(n.content)),s.push({index:{_index:this.indexName,_id:n.patternId}},n),this.l1Cache.set(n.patternId,n))}if(s.length>0){let n=await this.openSearchClient.bulk({body:s,refresh:!1});if(n.body.errors){let u=n.body.items.filter(i=>i.index&&i.index.error);throw console.error("Bulk indexing errors:",u),new Error(`Failed to index ${u.length} documents`)}}await this.recordMetric("IndexLatency",Date.now()-r,"Milliseconds"),await this.recordMetric("IndexedPatterns",t.length,"Count")}async search(t,r={}){let s=Date.now(),{hybridMode:n=!0,semanticWeight:u=.7,keywordWeight:i=.3,maxResults:a=10,minScore:d=.5,projectFilter:h,agentFilter:f}=r,_=`search:${t}:${JSON.stringify(r)}`,p=this.getCachedSearchResults(_);if(p)return await this.recordMetric("CacheHit",1,"Count"),await this.recordMetric("SearchLatency",Date.now()-s,"Milliseconds"),p;let E=await this.bedrockService.generateEmbeddings(t),x=[];h&&x.push({term:{projectId:h}}),f&&x.push({term:{agentType:f}});let P;n?P={size:a,query:{bool:{should:[{script_score:{query:{match_all:{}},script:{source:"cosineSimilarity(params.query_vector, 'embedding') + 1.0",params:{query_vector:E}},boost:u}},{multi_match:{query:t,fields:["content^2","keywords"],boost:i}}],filter:x,minimum_should_match:1}}}:P={size:a,query:{script_score:{query:{bool:{filter:x}},script:{source:"cosineSimilarity(params.query_vector, 'embedding') + 1.0",params:{query_vector:E}}}}};let g=(await this.openSearchClient.search({index:this.indexName,body:P})).body.hits.hits.filter(S=>S._score>=d).map(S=>({patternId:S._source.patternId,score:S._score,content:S._source.content,context:S._source.context,source:"opensearch"}));return this.cacheSearchResults(_,g),await this.updatePatternUsageStats(g.map(S=>S.patternId)),await this.recordMetric("SearchLatency",Date.now()-s,"Milliseconds"),await this.recordMetric("SearchResults",g.length,"Count"),g}async getPattern(t){let r=this.l1Cache.get(t);if(r)return await this.recordMetric("L1CacheHit",1,"Count"),r;try{let n=(await this.openSearchClient.get({index:this.indexName,id:t})).body._source;return this.l1Cache.set(t,n),n}catch(s){if(s.statusCode===404)return null;throw s}}async deletePattern(t){this.l1Cache.delete(t),await this.openSearchClient.delete({index:this.indexName,id:t,refresh:!0})}async updatePattern(t){let r=await this.getPattern(t.patternId);r&&r.version>=t.version||((!r||r.content!==t.content)&&(t.embedding=await this.bedrockService.generateEmbeddings(t.content)),await this.openSearchClient.index({index:this.indexName,id:t.patternId,body:t,refresh:!1}),this.l1Cache.set(t.patternId,t))}cacheSearchResults(t,r){}getCachedSearchResults(t){return null}async updatePatternUsageStats(t){let r=new Date().toISOString();for(let s of t)await this.openSearchClient.update({index:this.indexName,id:s,body:{script:{source:"ctx._source.usageCount += 1; ctx._source.lastUsed = params.now",params:{now:r}}},refresh:!1,retry_on_conflict:3}).catch(n=>{console.error(`Failed to update usage stats for ${s}:`,n)})}async recordMetric(t,r,s){try{await this.cloudWatchClient.send(new hu.PutMetricDataCommand({Namespace:"ECOSYSTEMCL/Helix",MetricData:[{MetricName:t,Value:r,Unit:s,Timestamp:new Date}]}))}catch(n){console.error("Failed to record metric:",n)}}async getIndexStats(){let t=await this.openSearchClient.indices.stats({index:this.indexName});return{documentCount:t.body._all.primaries.docs.count,sizeInBytes:t.body._all.primaries.store.size_in_bytes,cacheHitRate:this.l1Cache.size/this.l1Cache.max}}};var wX=xr(xX());var ai=require("@aws-sdk/client-cloudwatch"),oi=class{constructor(t,r=6379,s=process.env.AWS_REGION||"us-west-2"){this.redisEndpoint=t;this.redisPort=r;this.redisClient=null;this.defaultTTL=86400;this.isRedisConnected=!1;this.l1Cache=new sr({max:100,ttl:1e3*60*5,updateAgeOnGet:!0,updateAgeOnHas:!0,fetchMethod:async n=>this.getFromRedis(n)}),this.cloudWatchClient=new ai.CloudWatchClient({region:s}),this.redisEndpoint&&this.initializeRedis()}async initializeRedis(){try{this.redisClient=(0,wX.createClient)({socket:{host:this.redisEndpoint,port:this.redisPort,reconnectStrategy:t=>t>5?(console.error("Redis connection failed after 5 retries"),this.isRedisConnected=!1,null):Math.min(t*100,3e3)}}),this.redisClient.on("error",t=>{console.error("Redis Client Error:",t),this.isRedisConnected=!1,this.recordMetric("RedisConnectionError",1)}),this.redisClient.on("connect",()=>{console.log("Redis Client Connected"),this.isRedisConnected=!0,this.recordMetric("RedisConnectionSuccess",1)}),this.redisClient.on("reconnecting",()=>{console.log("Redis Client Reconnecting"),this.isRedisConnected=!1}),await this.redisClient.connect()}catch(t){console.error("Failed to initialize Redis:",t),this.isRedisConnected=!1}}async get(t,r={}){let s=Date.now(),n=r.tier||"ALL";if(n==="L1"||n==="ALL"){let u=this.l1Cache.get(t);if(u!==void 0)return await this.recordMetric("L1CacheHit",1),await this.recordMetric("CacheGetLatency",Date.now()-s),u}if((n==="L2"||n==="ALL")&&this.isRedisConnected){let u=await this.getFromRedis(t);if(u!==void 0)return n==="ALL"&&this.l1Cache.set(t,u),await this.recordMetric("L2CacheHit",1),await this.recordMetric("CacheGetLatency",Date.now()-s),u}await this.recordMetric("CacheMiss",1),await this.recordMetric("CacheGetLatency",Date.now()-s)}async set(t,r,s={}){let n=Date.now(),u=s.tier||"ALL",i=s.ttl||this.defaultTTL;(u==="L1"||u==="ALL")&&this.l1Cache.set(t,r,{ttl:Math.min(i*1e3,3e5)}),(u==="L2"||u==="ALL")&&this.isRedisConnected&&await this.setInRedis(t,r,i),await this.recordMetric("CacheSetLatency",Date.now()-n)}async delete(t){if(this.l1Cache.delete(t),this.isRedisConnected&&this.redisClient)try{await this.redisClient.del(t),await this.recordMetric("CacheInvalidation",1)}catch(r){console.error("Failed to delete from Redis:",r)}}async clear(){if(this.l1Cache.clear(),this.isRedisConnected&&this.redisClient)try{await this.redisClient.flushDb(),await this.recordMetric("CacheCleared",1)}catch(t){console.error("Failed to clear Redis:",t)}}async mget(t){let r=new Map,s=[];for(let n of t){let u=this.l1Cache.get(n);u!==void 0?r.set(n,u):s.push(n)}if(s.length>0&&this.isRedisConnected&&this.redisClient)try{let n=await this.redisClient.mGet(s);for(let u=0;u<s.length;u++){let i=n[u];if(i){let a=JSON.parse(i);r.set(s[u],a),this.l1Cache.set(s[u],a)}}}catch(n){console.error("Failed to batch get from Redis:",n)}return r}async mset(t,r){let s=r||this.defaultTTL;for(let[n,u]of t)this.l1Cache.set(n,u,{ttl:Math.min(s*1e3,3e5)});if(this.isRedisConnected&&this.redisClient)try{let n=this.redisClient.multi();for(let[u,i]of t)n.setEx(u,s,JSON.stringify(i));await n.exec(),await this.recordMetric("CacheBatchSet",t.size)}catch(n){console.error("Failed to batch set in Redis:",n)}}async warmCache(t,r){let s=Date.now();await this.mset(t,r),await this.recordMetric("CacheWarmingItems",t.size),await this.recordMetric("CacheWarmingLatency",Date.now()-s),console.log(`Cache warmed with ${t.size} items`)}async getFromRedis(t){if(!(!this.isRedisConnected||!this.redisClient))try{let r=await this.redisClient.get(t);if(r)return JSON.parse(r)}catch(r){console.error("Failed to get from Redis:",r)}}async setInRedis(t,r,s){if(!(!this.isRedisConnected||!this.redisClient))try{await this.redisClient.setEx(t,s,JSON.stringify(r))}catch(n){console.error("Failed to set in Redis:",n)}}async recordMetric(t,r){try{await this.cloudWatchClient.send(new ai.PutMetricDataCommand({Namespace:"ECOSYSTEMCL/Cache",MetricData:[{MetricName:t,Value:r,Unit:t.includes("Latency")?"Milliseconds":"Count",Timestamp:new Date}]}))}catch(s){console.error("Failed to record metric:",s)}}getStats(){return{l1:{size:this.l1Cache.size,maxSize:this.l1Cache.max,hitRate:this.l1Cache.size/this.l1Cache.max},l2:{connected:this.isRedisConnected,endpoint:this.redisEndpoint}}}async disconnect(){this.redisClient&&(await this.redisClient.quit(),this.isRedisConnected=!1)}};var Me={region:process.env.AWS_REGION||"us-west-2",tableName:process.env.HELIX_TABLE_NAME||"HelixPatternEntries",openSearchEndpoint:process.env.OPENSEARCH_ENDPOINT,redisEndpoint:process.env.REDIS_ENDPOINT,maxResults:10},f0e=new BX.DynamoDBClient({region:Me.region}),GX=vr.DynamoDBDocumentClient.from(f0e),_0e=new di.CloudWatchClient({region:Me.region}),UX=new cu(Me.openSearchEndpoint,Me.region),TR=new oi(Me.redisEndpoint,6379,Me.region),m0e=async e=>{let t=Date.now(),r=e.requestContext.requestId||crypto.randomUUID();try{let s=p0e(e),n=E0e(s),u=await TR.get(n);if(u){let f=Date.now()-t;return await Zt("CacheHit",1),await Zt("LookupLatency",f),{statusCode:200,headers:{"Content-Type":"application/json","X-Query-Id":r,"X-Cache-Hit":"true"},body:JSON.stringify({patterns:u,source:"cache",latency:f,queryId:r})}}let i={hybridMode:s.hybridMode??!0,semanticWeight:s.semanticWeight??.7,keywordWeight:s.keywordWeight??.3,maxResults:s.maxResults??Me.maxResults,minScore:.5,projectFilter:s.projectId,agentFilter:s.agentType},a=await UX.search(s.intent,i);if(a.length>0){let f=[],_=a.map(x=>x.patternId),p=await g0e(_);for(let x of a){let P=p.get(x.patternId);P&&f.push(P)}await TR.set(n,f,{ttl:3600});let E=Date.now()-t;return await Zt("OpenSearchHit",1),await Zt("LookupLatency",E),{statusCode:200,headers:{"Content-Type":"application/json","X-Query-Id":r,"X-Cache-Hit":"false"},body:JSON.stringify({patterns:f,source:"opensearch",latency:E,queryId:r})}}let d=await y0e(s);d.length>0&&(await TR.set(n,d,{ttl:3600}),await A0e(d));let h=Date.now()-t;return await Zt("DynamoDBFallback",1),await Zt("LookupLatency",h),{statusCode:200,headers:{"Content-Type":"application/json","X-Query-Id":r,"X-Cache-Hit":"false"},body:JSON.stringify({patterns:d,source:"dynamodb",latency:h,queryId:r})}}catch(s){return console.error("Helix lookup error:",s),await Zt("LookupError",1),{statusCode:500,headers:{"Content-Type":"application/json","X-Query-Id":r},body:JSON.stringify({error:"Internal server error",message:s instanceof Error?s.message:"Unknown error",queryId:r})}}};function p0e(e){let t;if(e.body)t=JSON.parse(e.body);else if(e.queryStringParameters)t={intent:e.queryStringParameters.intent||"",projectId:e.queryStringParameters.projectId,agentType:e.queryStringParameters.agentType,maxResults:e.queryStringParameters.maxResults?parseInt(e.queryStringParameters.maxResults):void 0};else throw new Error("No request body or query parameters provided");if(!t.intent)throw new Error("Intent is required");return t}function E0e(e){return["helix",e.intent.toLowerCase().replace(/\s+/g,"_"),e.projectId||"all",e.agentType||"all",e.maxResults?.toString()||"10"].join(":")}async function g0e(e){let t=new Map,r=[];for(let s=0;s<e.length;s+=100)r.push(e.slice(s,s+100));for(let s of r){let n=s.map(async u=>{let i=new vr.GetCommand({TableName:Me.tableName,Key:{patternId:u}});try{let a=await GX.send(i);a.Item&&t.set(u,a.Item)}catch(a){console.error(`Failed to get pattern ${u}:`,a)}});await Promise.all(n)}return t}async function y0e(e){let t=[],r=e.intent.toLowerCase().split(/\s+/);for(let n of r){let u=new vr.QueryCommand({TableName:Me.tableName,IndexName:"KeywordIndex",KeyConditionExpression:"keyword = :keyword",FilterExpression:e.projectId?"projectId = :projectId":void 0,ExpressionAttributeValues:{":keyword":n,...e.projectId&&{":projectId":e.projectId}},Limit:e.maxResults||Me.maxResults});try{let i=await GX.send(u);if(i.Items)for(let a of i.Items)t.push(a)}catch(i){console.error(`Failed to query keyword ${n}:`,i)}}let s=Array.from(new Map(t.map(n=>[n.patternId,n])).values());return s.sort((n,u)=>{let i=n.successRate*.7+Math.min(n.usageCount/100,1)*.3;return u.successRate*.7+Math.min(u.usageCount/100,1)*.3-i}),s.slice(0,e.maxResults||Me.maxResults)}async function A0e(e){setImmediate(async()=>{try{let t=e.map(r=>({patternId:r.patternId,version:r.version,embedding:[],content:r.content,keywords:r.keywords,context:r.context,projectId:r.projectId||"",agentType:r.agentType||"",successRate:r.successRate,usageCount:r.usageCount,lastUsed:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));await UX.indexPatternsBatch(t),console.log(`Indexed ${e.length} patterns in OpenSearch`)}catch(t){console.error("Failed to index patterns:",t)}})}async function Zt(e,t){try{await _0e.send(new di.PutMetricDataCommand({Namespace:"ECOSYSTEMCL/Helix",MetricData:[{MetricName:e,Value:t,Unit:e.includes("Latency")?"Milliseconds":"Count",Timestamp:new Date}]}))}catch(r){console.error(`Failed to record metric ${e}:`,r)}}0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
